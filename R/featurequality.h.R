
# This file is automatically generated, you probably don't want to edit this

featurequalityOptions <- if (requireNamespace("jmvcore", quietly=TRUE)) R6::R6Class(
    "featurequalityOptions",
    inherit = jmvcore::Options,
    public = list(
        initialize = function(
            features = NULL,
            group_var = NULL,
            analysis_scope = "comprehensive",
            missing_data_analysis = TRUE,
            distribution_analysis = TRUE,
            outlier_detection = TRUE,
            outlier_method = "multiple",
            outlier_threshold = 3,
            correlation_analysis = TRUE,
            correlation_threshold = 0.8,
            variance_analysis = TRUE,
            low_variance_threshold = 0.01,
            normality_testing = TRUE,
            normality_method = "multiple",
            skewness_analysis = TRUE,
            feature_importance = FALSE,
            importance_method = "random_forest",
            data_transformation = TRUE,
            quality_score = TRUE,
            detailed_plots = TRUE,
            plot_distributions = TRUE,
            plot_correlations = TRUE,
            plot_outliers = TRUE,
            plot_missing = TRUE,
            export_recommendations = FALSE,
            clinical_context = TRUE,
            batch_processing = TRUE,
            confidence_level = 0.95,
            random_seed = 123, ...) {

            super$initialize(
                package="ClinicoPath",
                name="featurequality",
                requiresData=TRUE,
                ...)

            private$..features <- jmvcore::OptionVariables$new(
                "features",
                features,
                suggested=list(
                    "continuous"),
                permitted=list(
                    "numeric"))
            private$..group_var <- jmvcore::OptionVariable$new(
                "group_var",
                group_var,
                suggested=list(
                    "nominal",
                    "ordinal"),
                permitted=list(
                    "factor"),
                default=NULL)
            private$..analysis_scope <- jmvcore::OptionList$new(
                "analysis_scope",
                analysis_scope,
                options=list(
                    "basic",
                    "comprehensive",
                    "advanced"),
                default="comprehensive")
            private$..missing_data_analysis <- jmvcore::OptionBool$new(
                "missing_data_analysis",
                missing_data_analysis,
                default=TRUE)
            private$..distribution_analysis <- jmvcore::OptionBool$new(
                "distribution_analysis",
                distribution_analysis,
                default=TRUE)
            private$..outlier_detection <- jmvcore::OptionBool$new(
                "outlier_detection",
                outlier_detection,
                default=TRUE)
            private$..outlier_method <- jmvcore::OptionList$new(
                "outlier_method",
                outlier_method,
                options=list(
                    "iqr",
                    "zscore",
                    "modified_zscore",
                    "isolation_forest",
                    "multiple"),
                default="multiple")
            private$..outlier_threshold <- jmvcore::OptionNumber$new(
                "outlier_threshold",
                outlier_threshold,
                min=1.5,
                max=4,
                default=3)
            private$..correlation_analysis <- jmvcore::OptionBool$new(
                "correlation_analysis",
                correlation_analysis,
                default=TRUE)
            private$..correlation_threshold <- jmvcore::OptionNumber$new(
                "correlation_threshold",
                correlation_threshold,
                min=0.5,
                max=0.99,
                default=0.8)
            private$..variance_analysis <- jmvcore::OptionBool$new(
                "variance_analysis",
                variance_analysis,
                default=TRUE)
            private$..low_variance_threshold <- jmvcore::OptionNumber$new(
                "low_variance_threshold",
                low_variance_threshold,
                min=0.001,
                max=0.1,
                default=0.01)
            private$..normality_testing <- jmvcore::OptionBool$new(
                "normality_testing",
                normality_testing,
                default=TRUE)
            private$..normality_method <- jmvcore::OptionList$new(
                "normality_method",
                normality_method,
                options=list(
                    "shapiro",
                    "anderson",
                    "kolmogorov",
                    "multiple"),
                default="multiple")
            private$..skewness_analysis <- jmvcore::OptionBool$new(
                "skewness_analysis",
                skewness_analysis,
                default=TRUE)
            private$..feature_importance <- jmvcore::OptionBool$new(
                "feature_importance",
                feature_importance,
                default=FALSE)
            private$..importance_method <- jmvcore::OptionList$new(
                "importance_method",
                importance_method,
                options=list(
                    "random_forest",
                    "correlation",
                    "mutual_info",
                    "chi_square"),
                default="random_forest")
            private$..data_transformation <- jmvcore::OptionBool$new(
                "data_transformation",
                data_transformation,
                default=TRUE)
            private$..quality_score <- jmvcore::OptionBool$new(
                "quality_score",
                quality_score,
                default=TRUE)
            private$..detailed_plots <- jmvcore::OptionBool$new(
                "detailed_plots",
                detailed_plots,
                default=TRUE)
            private$..plot_distributions <- jmvcore::OptionBool$new(
                "plot_distributions",
                plot_distributions,
                default=TRUE)
            private$..plot_correlations <- jmvcore::OptionBool$new(
                "plot_correlations",
                plot_correlations,
                default=TRUE)
            private$..plot_outliers <- jmvcore::OptionBool$new(
                "plot_outliers",
                plot_outliers,
                default=TRUE)
            private$..plot_missing <- jmvcore::OptionBool$new(
                "plot_missing",
                plot_missing,
                default=TRUE)
            private$..export_recommendations <- jmvcore::OptionBool$new(
                "export_recommendations",
                export_recommendations,
                default=FALSE)
            private$..clinical_context <- jmvcore::OptionBool$new(
                "clinical_context",
                clinical_context,
                default=TRUE)
            private$..batch_processing <- jmvcore::OptionBool$new(
                "batch_processing",
                batch_processing,
                default=TRUE)
            private$..confidence_level <- jmvcore::OptionNumber$new(
                "confidence_level",
                confidence_level,
                min=0.8,
                max=0.99,
                default=0.95)
            private$..random_seed <- jmvcore::OptionInteger$new(
                "random_seed",
                random_seed,
                min=1,
                max=10000,
                default=123)

            self$.addOption(private$..features)
            self$.addOption(private$..group_var)
            self$.addOption(private$..analysis_scope)
            self$.addOption(private$..missing_data_analysis)
            self$.addOption(private$..distribution_analysis)
            self$.addOption(private$..outlier_detection)
            self$.addOption(private$..outlier_method)
            self$.addOption(private$..outlier_threshold)
            self$.addOption(private$..correlation_analysis)
            self$.addOption(private$..correlation_threshold)
            self$.addOption(private$..variance_analysis)
            self$.addOption(private$..low_variance_threshold)
            self$.addOption(private$..normality_testing)
            self$.addOption(private$..normality_method)
            self$.addOption(private$..skewness_analysis)
            self$.addOption(private$..feature_importance)
            self$.addOption(private$..importance_method)
            self$.addOption(private$..data_transformation)
            self$.addOption(private$..quality_score)
            self$.addOption(private$..detailed_plots)
            self$.addOption(private$..plot_distributions)
            self$.addOption(private$..plot_correlations)
            self$.addOption(private$..plot_outliers)
            self$.addOption(private$..plot_missing)
            self$.addOption(private$..export_recommendations)
            self$.addOption(private$..clinical_context)
            self$.addOption(private$..batch_processing)
            self$.addOption(private$..confidence_level)
            self$.addOption(private$..random_seed)
        }),
    active = list(
        features = function() private$..features$value,
        group_var = function() private$..group_var$value,
        analysis_scope = function() private$..analysis_scope$value,
        missing_data_analysis = function() private$..missing_data_analysis$value,
        distribution_analysis = function() private$..distribution_analysis$value,
        outlier_detection = function() private$..outlier_detection$value,
        outlier_method = function() private$..outlier_method$value,
        outlier_threshold = function() private$..outlier_threshold$value,
        correlation_analysis = function() private$..correlation_analysis$value,
        correlation_threshold = function() private$..correlation_threshold$value,
        variance_analysis = function() private$..variance_analysis$value,
        low_variance_threshold = function() private$..low_variance_threshold$value,
        normality_testing = function() private$..normality_testing$value,
        normality_method = function() private$..normality_method$value,
        skewness_analysis = function() private$..skewness_analysis$value,
        feature_importance = function() private$..feature_importance$value,
        importance_method = function() private$..importance_method$value,
        data_transformation = function() private$..data_transformation$value,
        quality_score = function() private$..quality_score$value,
        detailed_plots = function() private$..detailed_plots$value,
        plot_distributions = function() private$..plot_distributions$value,
        plot_correlations = function() private$..plot_correlations$value,
        plot_outliers = function() private$..plot_outliers$value,
        plot_missing = function() private$..plot_missing$value,
        export_recommendations = function() private$..export_recommendations$value,
        clinical_context = function() private$..clinical_context$value,
        batch_processing = function() private$..batch_processing$value,
        confidence_level = function() private$..confidence_level$value,
        random_seed = function() private$..random_seed$value),
    private = list(
        ..features = NA,
        ..group_var = NA,
        ..analysis_scope = NA,
        ..missing_data_analysis = NA,
        ..distribution_analysis = NA,
        ..outlier_detection = NA,
        ..outlier_method = NA,
        ..outlier_threshold = NA,
        ..correlation_analysis = NA,
        ..correlation_threshold = NA,
        ..variance_analysis = NA,
        ..low_variance_threshold = NA,
        ..normality_testing = NA,
        ..normality_method = NA,
        ..skewness_analysis = NA,
        ..feature_importance = NA,
        ..importance_method = NA,
        ..data_transformation = NA,
        ..quality_score = NA,
        ..detailed_plots = NA,
        ..plot_distributions = NA,
        ..plot_correlations = NA,
        ..plot_outliers = NA,
        ..plot_missing = NA,
        ..export_recommendations = NA,
        ..clinical_context = NA,
        ..batch_processing = NA,
        ..confidence_level = NA,
        ..random_seed = NA)
)

featurequalityResults <- if (requireNamespace("jmvcore", quietly=TRUE)) R6::R6Class(
    "featurequalityResults",
    inherit = jmvcore::Group,
    active = list(
        instructions = function() private$.items[["instructions"]],
        progress = function() private$.items[["progress"]],
        quality_summary = function() private$.items[["quality_summary"]],
        missing_data_analysis = function() private$.items[["missing_data_analysis"]],
        distribution_analysis = function() private$.items[["distribution_analysis"]],
        outlier_analysis = function() private$.items[["outlier_analysis"]],
        correlation_analysis = function() private$.items[["correlation_analysis"]],
        variance_analysis = function() private$.items[["variance_analysis"]],
        normality_analysis = function() private$.items[["normality_analysis"]],
        feature_importance = function() private$.items[["feature_importance"]],
        transformation_recommendations = function() private$.items[["transformation_recommendations"]],
        overall_recommendations = function() private$.items[["overall_recommendations"]],
        clinical_interpretation = function() private$.items[["clinical_interpretation"]],
        distribution_plot = function() private$.items[["distribution_plot"]],
        correlation_plot = function() private$.items[["correlation_plot"]],
        outlier_plot = function() private$.items[["outlier_plot"]],
        missing_plot = function() private$.items[["missing_plot"]],
        quality_dashboard = function() private$.items[["quality_dashboard"]]),
    private = list(),
    public=list(
        initialize=function(options) {
            super$initialize(
                options=options,
                name="",
                title="Feature Quality Assessment",
                refs=list(
                    "ClinicoPathJamoviModule"))
            self$add(jmvcore::Html$new(
                options=options,
                name="instructions",
                title="Analysis Instructions",
                visible=TRUE))
            self$add(jmvcore::Html$new(
                options=options,
                name="progress",
                title="Analysis Progress",
                visible=TRUE))
            self$add(jmvcore::Table$new(
                options=options,
                name="quality_summary",
                title="Quality Assessment Summary",
                columns=list(
                    list(
                        `name`="feature", 
                        `title`="Feature", 
                        `type`="text"),
                    list(
                        `name`="quality_score", 
                        `title`="Quality Score", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="missing_pct", 
                        `title`="Missing %", 
                        `type`="number", 
                        `format`="pc"),
                    list(
                        `name`="outliers_pct", 
                        `title`="Outliers %", 
                        `type`="number", 
                        `format`="pc"),
                    list(
                        `name`="normality_p", 
                        `title`="Normality p-value", 
                        `type`="number", 
                        `format`="zto,pvalue"),
                    list(
                        `name`="skewness", 
                        `title`="Skewness", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="kurtosis", 
                        `title`="Kurtosis", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="variance", 
                        `title`="Variance", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="recommendation", 
                        `title`="Recommendation", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="missing_data_analysis",
                title="Missing Data Analysis",
                visible="(missing_data_analysis)",
                columns=list(
                    list(
                        `name`="feature", 
                        `title`="Feature", 
                        `type`="text"),
                    list(
                        `name`="missing_count", 
                        `title`="Missing Count", 
                        `type`="integer"),
                    list(
                        `name`="missing_percent", 
                        `title`="Missing %", 
                        `type`="number", 
                        `format`="pc"),
                    list(
                        `name`="missing_pattern", 
                        `title`="Missing Pattern", 
                        `type`="text"),
                    list(
                        `name`="impact_assessment", 
                        `title`="Impact Assessment", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="distribution_analysis",
                title="Distribution Analysis",
                visible="(distribution_analysis)",
                columns=list(
                    list(
                        `name`="feature", 
                        `title`="Feature", 
                        `type`="text"),
                    list(
                        `name`="mean", 
                        `title`="Mean", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="median", 
                        `title`="Median", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="sd", 
                        `title`="SD", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="min", 
                        `title`="Min", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="max", 
                        `title`="Max", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="q25", 
                        `title`="Q25", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="q75", 
                        `title`="Q75", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="distribution_type", 
                        `title`="Distribution Type", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="outlier_analysis",
                title="Outlier Analysis",
                visible="(outlier_detection)",
                columns=list(
                    list(
                        `name`="feature", 
                        `title`="Feature", 
                        `type`="text"),
                    list(
                        `name`="method", 
                        `title`="Detection Method", 
                        `type`="text"),
                    list(
                        `name`="outlier_count", 
                        `title`="Outlier Count", 
                        `type`="integer"),
                    list(
                        `name`="outlier_percent", 
                        `title`="Outlier %", 
                        `type`="number", 
                        `format`="pc"),
                    list(
                        `name`="lower_bound", 
                        `title`="Lower Bound", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="upper_bound", 
                        `title`="Upper Bound", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="severity", 
                        `title`="Severity", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="correlation_analysis",
                title="Feature Correlation Analysis",
                visible="(correlation_analysis)",
                columns=list(
                    list(
                        `name`="feature1", 
                        `title`="Feature 1", 
                        `type`="text"),
                    list(
                        `name`="feature2", 
                        `title`="Feature 2", 
                        `type`="text"),
                    list(
                        `name`="correlation", 
                        `title`="Correlation", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="p_value", 
                        `title`="P-value", 
                        `type`="number", 
                        `format`="zto,pvalue"),
                    list(
                        `name`="significance", 
                        `title`="Significance", 
                        `type`="text"),
                    list(
                        `name`="redundancy_risk", 
                        `title`="Redundancy Risk", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="variance_analysis",
                title="Variance Analysis",
                visible="(variance_analysis)",
                columns=list(
                    list(
                        `name`="feature", 
                        `title`="Feature", 
                        `type`="text"),
                    list(
                        `name`="variance", 
                        `title`="Variance", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="coefficient_variation", 
                        `title`="CV", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="variance_category", 
                        `title`="Variance Category", 
                        `type`="text"),
                    list(
                        `name`="information_content", 
                        `title`="Information Content", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="normality_analysis",
                title="Normality Testing",
                visible="(normality_testing)",
                columns=list(
                    list(
                        `name`="feature", 
                        `title`="Feature", 
                        `type`="text"),
                    list(
                        `name`="test_method", 
                        `title`="Test Method", 
                        `type`="text"),
                    list(
                        `name`="statistic", 
                        `title`="Test Statistic", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="p_value", 
                        `title`="P-value", 
                        `type`="number", 
                        `format`="zto,pvalue"),
                    list(
                        `name`="normality_conclusion", 
                        `title`="Normality Conclusion", 
                        `type`="text"),
                    list(
                        `name`="transformation_suggestion", 
                        `title`="Transformation Suggestion", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="feature_importance",
                title="Feature Importance Analysis",
                visible="(feature_importance)",
                columns=list(
                    list(
                        `name`="feature", 
                        `title`="Feature", 
                        `type`="text"),
                    list(
                        `name`="importance_score", 
                        `title`="Importance Score", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="importance_rank", 
                        `title`="Rank", 
                        `type`="integer"),
                    list(
                        `name`="relative_importance", 
                        `title`="Relative Importance %", 
                        `type`="number", 
                        `format`="pc"),
                    list(
                        `name`="clinical_relevance", 
                        `title`="Clinical Relevance", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="transformation_recommendations",
                title="Transformation Recommendations",
                visible="(data_transformation)",
                columns=list(
                    list(
                        `name`="feature", 
                        `title`="Feature", 
                        `type`="text"),
                    list(
                        `name`="current_issue", 
                        `title`="Current Issue", 
                        `type`="text"),
                    list(
                        `name`="recommended_transformation", 
                        `title`="Recommended Transformation", 
                        `type`="text"),
                    list(
                        `name`="expected_improvement", 
                        `title`="Expected Improvement", 
                        `type`="text"),
                    list(
                        `name`="implementation_notes", 
                        `title`="Implementation Notes", 
                        `type`="text"))))
            self$add(jmvcore::Html$new(
                options=options,
                name="overall_recommendations",
                title="Overall Quality Recommendations",
                visible=TRUE))
            self$add(jmvcore::Html$new(
                options=options,
                name="clinical_interpretation",
                title="Clinical Context Interpretation",
                visible="(clinical_context)"))
            self$add(jmvcore::Image$new(
                options=options,
                name="distribution_plot",
                title="Feature Distributions",
                width=800,
                height=600,
                renderFun=".distributionPlot",
                visible="(plot_distributions)",
                requiresData=TRUE))
            self$add(jmvcore::Image$new(
                options=options,
                name="correlation_plot",
                title="Feature Correlation Heatmap",
                width=800,
                height=600,
                renderFun=".correlationPlot",
                visible="(plot_correlations)",
                requiresData=TRUE))
            self$add(jmvcore::Image$new(
                options=options,
                name="outlier_plot",
                title="Outlier Detection Visualization",
                width=800,
                height=600,
                renderFun=".outlierPlot",
                visible="(plot_outliers)",
                requiresData=TRUE))
            self$add(jmvcore::Image$new(
                options=options,
                name="missing_plot",
                title="Missing Data Pattern Visualization",
                width=800,
                height=600,
                renderFun=".missingPlot",
                visible="(plot_missing)",
                requiresData=TRUE))
            self$add(jmvcore::Image$new(
                options=options,
                name="quality_dashboard",
                title="Quality Assessment Dashboard",
                width=1000,
                height=800,
                renderFun=".qualityDashboard",
                visible="(detailed_plots)",
                requiresData=TRUE))}))

featurequalityBase <- if (requireNamespace("jmvcore", quietly=TRUE)) R6::R6Class(
    "featurequalityBase",
    inherit = jmvcore::Analysis,
    public = list(
        initialize = function(options, data=NULL, datasetId="", analysisId="", revision=0) {
            super$initialize(
                package = "ClinicoPath",
                name = "featurequality",
                version = c(1,0,0),
                options = options,
                results = featurequalityResults$new(options=options),
                data = data,
                datasetId = datasetId,
                analysisId = analysisId,
                revision = revision,
                pause = NULL,
                completeWhenFilled = FALSE,
                requiresMissings = FALSE,
                weightsSupport = 'auto')
        }))

#' Feature Quality Assessment
#'
#' Comprehensive feature quality assessment for clinical and pathology 
#' research data. Provides
#' essential data quality control including missing data analysis, outlier 
#' detection, distribution
#' analysis, correlation assessment, and variance evaluation. Implements 
#' multiple quality metrics
#' with clinical interpretation and actionable recommendations. Critical for 
#' ensuring data integrity
#' before statistical analysis and meeting regulatory standards for clinical 
#' research.
#' 
#'
#' @examples
#' data('clinical_data')
#'
#' featurequality(
#'     data = clinical_data,
#'     features = c("biomarker1", "biomarker2", "age", "severity"),
#'     outlier_detection = TRUE,
#'     correlation_analysis = TRUE
#' )
#'
#' @param data .
#' @param features .
#' @param group_var .
#' @param analysis_scope .
#' @param missing_data_analysis .
#' @param distribution_analysis .
#' @param outlier_detection .
#' @param outlier_method .
#' @param outlier_threshold .
#' @param correlation_analysis .
#' @param correlation_threshold .
#' @param variance_analysis .
#' @param low_variance_threshold .
#' @param normality_testing .
#' @param normality_method .
#' @param skewness_analysis .
#' @param feature_importance .
#' @param importance_method .
#' @param data_transformation .
#' @param quality_score .
#' @param detailed_plots .
#' @param plot_distributions .
#' @param plot_correlations .
#' @param plot_outliers .
#' @param plot_missing .
#' @param export_recommendations .
#' @param clinical_context .
#' @param batch_processing .
#' @param confidence_level .
#' @param random_seed .
#' @return A results object containing:
#' \tabular{llllll}{
#'   \code{results$instructions} \tab \tab \tab \tab \tab a html \cr
#'   \code{results$progress} \tab \tab \tab \tab \tab a html \cr
#'   \code{results$quality_summary} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$missing_data_analysis} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$distribution_analysis} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$outlier_analysis} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$correlation_analysis} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$variance_analysis} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$normality_analysis} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$feature_importance} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$transformation_recommendations} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$overall_recommendations} \tab \tab \tab \tab \tab a html \cr
#'   \code{results$clinical_interpretation} \tab \tab \tab \tab \tab a html \cr
#'   \code{results$distribution_plot} \tab \tab \tab \tab \tab an image \cr
#'   \code{results$correlation_plot} \tab \tab \tab \tab \tab an image \cr
#'   \code{results$outlier_plot} \tab \tab \tab \tab \tab an image \cr
#'   \code{results$missing_plot} \tab \tab \tab \tab \tab an image \cr
#'   \code{results$quality_dashboard} \tab \tab \tab \tab \tab an image \cr
#' }
#'
#' Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:
#'
#' \code{results$quality_summary$asDF}
#'
#' \code{as.data.frame(results$quality_summary)}
#'
#' @export
featurequality <- function(
    data,
    features,
    group_var = NULL,
    analysis_scope = "comprehensive",
    missing_data_analysis = TRUE,
    distribution_analysis = TRUE,
    outlier_detection = TRUE,
    outlier_method = "multiple",
    outlier_threshold = 3,
    correlation_analysis = TRUE,
    correlation_threshold = 0.8,
    variance_analysis = TRUE,
    low_variance_threshold = 0.01,
    normality_testing = TRUE,
    normality_method = "multiple",
    skewness_analysis = TRUE,
    feature_importance = FALSE,
    importance_method = "random_forest",
    data_transformation = TRUE,
    quality_score = TRUE,
    detailed_plots = TRUE,
    plot_distributions = TRUE,
    plot_correlations = TRUE,
    plot_outliers = TRUE,
    plot_missing = TRUE,
    export_recommendations = FALSE,
    clinical_context = TRUE,
    batch_processing = TRUE,
    confidence_level = 0.95,
    random_seed = 123) {

    if ( ! requireNamespace("jmvcore", quietly=TRUE))
        stop("featurequality requires jmvcore to be installed (restart may be required)")

    if ( ! missing(features)) features <- jmvcore::resolveQuo(jmvcore::enquo(features))
    if ( ! missing(group_var)) group_var <- jmvcore::resolveQuo(jmvcore::enquo(group_var))
    if (missing(data))
        data <- jmvcore::marshalData(
            parent.frame(),
            `if`( ! missing(features), features, NULL),
            `if`( ! missing(group_var), group_var, NULL))

    for (v in group_var) if (v %in% names(data)) data[[v]] <- as.factor(data[[v]])

    options <- featurequalityOptions$new(
        features = features,
        group_var = group_var,
        analysis_scope = analysis_scope,
        missing_data_analysis = missing_data_analysis,
        distribution_analysis = distribution_analysis,
        outlier_detection = outlier_detection,
        outlier_method = outlier_method,
        outlier_threshold = outlier_threshold,
        correlation_analysis = correlation_analysis,
        correlation_threshold = correlation_threshold,
        variance_analysis = variance_analysis,
        low_variance_threshold = low_variance_threshold,
        normality_testing = normality_testing,
        normality_method = normality_method,
        skewness_analysis = skewness_analysis,
        feature_importance = feature_importance,
        importance_method = importance_method,
        data_transformation = data_transformation,
        quality_score = quality_score,
        detailed_plots = detailed_plots,
        plot_distributions = plot_distributions,
        plot_correlations = plot_correlations,
        plot_outliers = plot_outliers,
        plot_missing = plot_missing,
        export_recommendations = export_recommendations,
        clinical_context = clinical_context,
        batch_processing = batch_processing,
        confidence_level = confidence_level,
        random_seed = random_seed)

    analysis <- featurequalityClass$new(
        options = options,
        data = data)

    analysis$run()

    analysis$results
}

