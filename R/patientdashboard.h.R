
# This file is automatically generated, you probably don't want to edit this

patientdashboardOptions <- if (requireNamespace("jmvcore", quietly=TRUE)) R6::R6Class(
    "patientdashboardOptions",
    inherit = jmvcore::Options,
    public = list(
        initialize = function(
            patientID = NULL,
            vitals = NULL,
            labValues = NULL,
            timestamps = NULL,
            clinicalNotes = NULL,
            medications = NULL,
            realtime_monitoring = TRUE,
            alert_system = TRUE,
            trend_analysis = TRUE,
            risk_stratification = TRUE,
            dashboard_type = "comprehensive",
            monitoring_frequency = "hourly",
            alert_thresholds = "standard",
            time_window = 24,
            alert_priority = TRUE,
            predictive_analytics = FALSE,
            clinical_pathways = TRUE,
            medication_reconciliation = FALSE,
            family_communication = FALSE,
            quality_metrics = TRUE,
            workflow_optimization = TRUE,
            interactive_plots = TRUE,
            trend_plots = TRUE,
            alert_dashboard = TRUE,
            risk_dashboard = TRUE,
            medication_dashboard = FALSE,
            summary_reports = TRUE,
            performance_analytics = FALSE,
            patient_outcomes = TRUE, ...) {

            super$initialize(
                package="ClinicoPath",
                name="patientdashboard",
                requiresData=TRUE,
                ...)

            private$..patientID <- jmvcore::OptionVariable$new(
                "patientID",
                patientID,
                suggested=list(
                    "nominal"),
                permitted=list(
                    "factor",
                    "id"))
            private$..vitals <- jmvcore::OptionVariables$new(
                "vitals",
                vitals,
                suggested=list(
                    "continuous"),
                permitted=list(
                    "numeric"))
            private$..labValues <- jmvcore::OptionVariables$new(
                "labValues",
                labValues,
                suggested=list(
                    "continuous"),
                permitted=list(
                    "numeric"))
            private$..timestamps <- jmvcore::OptionVariables$new(
                "timestamps",
                timestamps,
                suggested=list(
                    "continuous"),
                permitted=list(
                    "numeric"))
            private$..clinicalNotes <- jmvcore::OptionVariables$new(
                "clinicalNotes",
                clinicalNotes,
                suggested=list(
                    "nominal"),
                permitted=list(
                    "factor"))
            private$..medications <- jmvcore::OptionVariables$new(
                "medications",
                medications,
                suggested=list(
                    "nominal"),
                permitted=list(
                    "factor"))
            private$..realtime_monitoring <- jmvcore::OptionBool$new(
                "realtime_monitoring",
                realtime_monitoring,
                default=TRUE)
            private$..alert_system <- jmvcore::OptionBool$new(
                "alert_system",
                alert_system,
                default=TRUE)
            private$..trend_analysis <- jmvcore::OptionBool$new(
                "trend_analysis",
                trend_analysis,
                default=TRUE)
            private$..risk_stratification <- jmvcore::OptionBool$new(
                "risk_stratification",
                risk_stratification,
                default=TRUE)
            private$..dashboard_type <- jmvcore::OptionList$new(
                "dashboard_type",
                dashboard_type,
                options=list(
                    "comprehensive",
                    "critical_care",
                    "ward_monitoring",
                    "emergency"),
                default="comprehensive")
            private$..monitoring_frequency <- jmvcore::OptionList$new(
                "monitoring_frequency",
                monitoring_frequency,
                options=list(
                    "continuous",
                    "every_15min",
                    "hourly",
                    "every_4hrs",
                    "daily"),
                default="hourly")
            private$..alert_thresholds <- jmvcore::OptionList$new(
                "alert_thresholds",
                alert_thresholds,
                options=list(
                    "standard",
                    "pediatric",
                    "geriatric",
                    "icu",
                    "custom"),
                default="standard")
            private$..time_window <- jmvcore::OptionInteger$new(
                "time_window",
                time_window,
                min=1,
                max=168,
                default=24)
            private$..alert_priority <- jmvcore::OptionBool$new(
                "alert_priority",
                alert_priority,
                default=TRUE)
            private$..predictive_analytics <- jmvcore::OptionBool$new(
                "predictive_analytics",
                predictive_analytics,
                default=FALSE)
            private$..clinical_pathways <- jmvcore::OptionBool$new(
                "clinical_pathways",
                clinical_pathways,
                default=TRUE)
            private$..medication_reconciliation <- jmvcore::OptionBool$new(
                "medication_reconciliation",
                medication_reconciliation,
                default=FALSE)
            private$..family_communication <- jmvcore::OptionBool$new(
                "family_communication",
                family_communication,
                default=FALSE)
            private$..quality_metrics <- jmvcore::OptionBool$new(
                "quality_metrics",
                quality_metrics,
                default=TRUE)
            private$..workflow_optimization <- jmvcore::OptionBool$new(
                "workflow_optimization",
                workflow_optimization,
                default=TRUE)
            private$..interactive_plots <- jmvcore::OptionBool$new(
                "interactive_plots",
                interactive_plots,
                default=TRUE)
            private$..trend_plots <- jmvcore::OptionBool$new(
                "trend_plots",
                trend_plots,
                default=TRUE)
            private$..alert_dashboard <- jmvcore::OptionBool$new(
                "alert_dashboard",
                alert_dashboard,
                default=TRUE)
            private$..risk_dashboard <- jmvcore::OptionBool$new(
                "risk_dashboard",
                risk_dashboard,
                default=TRUE)
            private$..medication_dashboard <- jmvcore::OptionBool$new(
                "medication_dashboard",
                medication_dashboard,
                default=FALSE)
            private$..summary_reports <- jmvcore::OptionBool$new(
                "summary_reports",
                summary_reports,
                default=TRUE)
            private$..performance_analytics <- jmvcore::OptionBool$new(
                "performance_analytics",
                performance_analytics,
                default=FALSE)
            private$..patient_outcomes <- jmvcore::OptionBool$new(
                "patient_outcomes",
                patient_outcomes,
                default=TRUE)

            self$.addOption(private$..patientID)
            self$.addOption(private$..vitals)
            self$.addOption(private$..labValues)
            self$.addOption(private$..timestamps)
            self$.addOption(private$..clinicalNotes)
            self$.addOption(private$..medications)
            self$.addOption(private$..realtime_monitoring)
            self$.addOption(private$..alert_system)
            self$.addOption(private$..trend_analysis)
            self$.addOption(private$..risk_stratification)
            self$.addOption(private$..dashboard_type)
            self$.addOption(private$..monitoring_frequency)
            self$.addOption(private$..alert_thresholds)
            self$.addOption(private$..time_window)
            self$.addOption(private$..alert_priority)
            self$.addOption(private$..predictive_analytics)
            self$.addOption(private$..clinical_pathways)
            self$.addOption(private$..medication_reconciliation)
            self$.addOption(private$..family_communication)
            self$.addOption(private$..quality_metrics)
            self$.addOption(private$..workflow_optimization)
            self$.addOption(private$..interactive_plots)
            self$.addOption(private$..trend_plots)
            self$.addOption(private$..alert_dashboard)
            self$.addOption(private$..risk_dashboard)
            self$.addOption(private$..medication_dashboard)
            self$.addOption(private$..summary_reports)
            self$.addOption(private$..performance_analytics)
            self$.addOption(private$..patient_outcomes)
        }),
    active = list(
        patientID = function() private$..patientID$value,
        vitals = function() private$..vitals$value,
        labValues = function() private$..labValues$value,
        timestamps = function() private$..timestamps$value,
        clinicalNotes = function() private$..clinicalNotes$value,
        medications = function() private$..medications$value,
        realtime_monitoring = function() private$..realtime_monitoring$value,
        alert_system = function() private$..alert_system$value,
        trend_analysis = function() private$..trend_analysis$value,
        risk_stratification = function() private$..risk_stratification$value,
        dashboard_type = function() private$..dashboard_type$value,
        monitoring_frequency = function() private$..monitoring_frequency$value,
        alert_thresholds = function() private$..alert_thresholds$value,
        time_window = function() private$..time_window$value,
        alert_priority = function() private$..alert_priority$value,
        predictive_analytics = function() private$..predictive_analytics$value,
        clinical_pathways = function() private$..clinical_pathways$value,
        medication_reconciliation = function() private$..medication_reconciliation$value,
        family_communication = function() private$..family_communication$value,
        quality_metrics = function() private$..quality_metrics$value,
        workflow_optimization = function() private$..workflow_optimization$value,
        interactive_plots = function() private$..interactive_plots$value,
        trend_plots = function() private$..trend_plots$value,
        alert_dashboard = function() private$..alert_dashboard$value,
        risk_dashboard = function() private$..risk_dashboard$value,
        medication_dashboard = function() private$..medication_dashboard$value,
        summary_reports = function() private$..summary_reports$value,
        performance_analytics = function() private$..performance_analytics$value,
        patient_outcomes = function() private$..patient_outcomes$value),
    private = list(
        ..patientID = NA,
        ..vitals = NA,
        ..labValues = NA,
        ..timestamps = NA,
        ..clinicalNotes = NA,
        ..medications = NA,
        ..realtime_monitoring = NA,
        ..alert_system = NA,
        ..trend_analysis = NA,
        ..risk_stratification = NA,
        ..dashboard_type = NA,
        ..monitoring_frequency = NA,
        ..alert_thresholds = NA,
        ..time_window = NA,
        ..alert_priority = NA,
        ..predictive_analytics = NA,
        ..clinical_pathways = NA,
        ..medication_reconciliation = NA,
        ..family_communication = NA,
        ..quality_metrics = NA,
        ..workflow_optimization = NA,
        ..interactive_plots = NA,
        ..trend_plots = NA,
        ..alert_dashboard = NA,
        ..risk_dashboard = NA,
        ..medication_dashboard = NA,
        ..summary_reports = NA,
        ..performance_analytics = NA,
        ..patient_outcomes = NA)
)

patientdashboardResults <- if (requireNamespace("jmvcore", quietly=TRUE)) R6::R6Class(
    "patientdashboardResults",
    inherit = jmvcore::Group,
    active = list(
        todo = function() private$.items[["todo"]],
        patientSummary = function() private$.items[["patientSummary"]],
        vitalsTable = function() private$.items[["vitalsTable"]],
        labValuesTable = function() private$.items[["labValuesTable"]],
        activeAlertsTable = function() private$.items[["activeAlertsTable"]],
        riskAssessmentTable = function() private$.items[["riskAssessmentTable"]],
        trendAnalysisTable = function() private$.items[["trendAnalysisTable"]],
        medicationTable = function() private$.items[["medicationTable"]],
        qualityMetricsTable = function() private$.items[["qualityMetricsTable"]],
        workflowAnalysisTable = function() private$.items[["workflowAnalysisTable"]],
        clinicalSummaryReport = function() private$.items[["clinicalSummaryReport"]],
        predictiveAnalytics = function() private$.items[["predictiveAnalytics"]],
        patientOutcomes = function() private$.items[["patientOutcomes"]],
        vitalsPlot = function() private$.items[["vitalsPlot"]],
        labTrendsPlot = function() private$.items[["labTrendsPlot"]],
        alertDashboardPlot = function() private$.items[["alertDashboardPlot"]],
        riskDashboardPlot = function() private$.items[["riskDashboardPlot"]],
        interactiveDashboard = function() private$.items[["interactiveDashboard"]]),
    private = list(),
    public=list(
        initialize=function(options) {
            super$initialize(
                options=options,
                name="",
                title="Patient Monitoring Dashboard")
            self$add(jmvcore::Html$new(
                options=options,
                name="todo",
                title="Dashboard Overview",
                refs=list(
                    "patientID",
                    "vitals")))
            self$add(jmvcore::Html$new(
                options=options,
                name="patientSummary",
                title="Patient Summary",
                clearWith=list(
                    "patientID",
                    "vitals",
                    "labValues")))
            self$add(jmvcore::Table$new(
                options=options,
                name="vitalsTable",
                title="Current Vital Signs",
                rows="(vitals)",
                clearWith=list(
                    "vitals",
                    "patientID",
                    "alert_thresholds"),
                columns=list(
                    list(
                        `name`="parameter", 
                        `title`="Vital Sign", 
                        `type`="text"),
                    list(
                        `name`="current_value", 
                        `title`="Current Value", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="normal_range", 
                        `title`="Normal Range", 
                        `type`="text"),
                    list(
                        `name`="status", 
                        `title`="Status", 
                        `type`="text"),
                    list(
                        `name`="trend", 
                        `title`="Trend", 
                        `type`="text"),
                    list(
                        `name`="last_updated", 
                        `title`="Last Updated", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="labValuesTable",
                title="Laboratory Values Status",
                rows="(labValues)",
                visible="(labValues)",
                clearWith=list(
                    "labValues",
                    "patientID",
                    "alert_thresholds"),
                columns=list(
                    list(
                        `name`="test_name", 
                        `title`="Laboratory Test", 
                        `type`="text"),
                    list(
                        `name`="current_result", 
                        `title`="Current Result", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="reference_range", 
                        `title`="Reference Range", 
                        `type`="text"),
                    list(
                        `name`="status", 
                        `title`="Status", 
                        `type`="text"),
                    list(
                        `name`="trend_direction", 
                        `title`="Trend", 
                        `type`="text"),
                    list(
                        `name`="collection_time", 
                        `title`="Collection Time", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="activeAlertsTable",
                title="Active Clinical Alerts",
                visible="(alert_system)",
                clearWith=list(
                    "vitals",
                    "labValues",
                    "alert_system",
                    "alert_priority"),
                columns=list(
                    list(
                        `name`="alert_time", 
                        `title`="Alert Time", 
                        `type`="text"),
                    list(
                        `name`="priority", 
                        `title`="Priority", 
                        `type`="text"),
                    list(
                        `name`="parameter", 
                        `title`="Parameter", 
                        `type`="text"),
                    list(
                        `name`="value", 
                        `title`="Value", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="threshold", 
                        `title`="Threshold", 
                        `type`="text"),
                    list(
                        `name`="status", 
                        `title`="Status", 
                        `type`="text"),
                    list(
                        `name`="response_time", 
                        `title`="Response Time", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="riskAssessmentTable",
                title="Risk Assessment",
                visible="(risk_stratification)",
                clearWith=list(
                    "vitals",
                    "labValues",
                    "risk_stratification"),
                columns=list(
                    list(
                        `name`="risk_category", 
                        `title`="Risk Category", 
                        `type`="text"),
                    list(
                        `name`="score", 
                        `title`="Score", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="risk_level", 
                        `title`="Risk Level", 
                        `type`="text"),
                    list(
                        `name`="factors", 
                        `title`="Contributing Factors", 
                        `type`="text"),
                    list(
                        `name`="recommendations", 
                        `title`="Recommendations", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="trendAnalysisTable",
                title="Trend Analysis Summary",
                visible="(trend_analysis)",
                clearWith=list(
                    "vitals",
                    "labValues",
                    "trend_analysis",
                    "time_window"),
                columns=list(
                    list(
                        `name`="parameter", 
                        `title`="Parameter", 
                        `type`="text"),
                    list(
                        `name`="trend_type", 
                        `title`="Trend Type", 
                        `type`="text"),
                    list(
                        `name`="change_rate", 
                        `title`="Change Rate", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="statistical_significance", 
                        `title`="Significance", 
                        `type`="text"),
                    list(
                        `name`="clinical_relevance", 
                        `title`="Clinical Relevance", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="medicationTable",
                title="Medication Status",
                visible="(medications)",
                clearWith=list(
                    "medications",
                    "medication_reconciliation"),
                columns=list(
                    list(
                        `name`="medication_name", 
                        `title`="Medication", 
                        `type`="text"),
                    list(
                        `name`="dose", 
                        `title`="Dose", 
                        `type`="text"),
                    list(
                        `name`="frequency", 
                        `title`="Frequency", 
                        `type`="text"),
                    list(
                        `name`="last_administered", 
                        `title`="Last Administered", 
                        `type`="text"),
                    list(
                        `name`="next_due", 
                        `title`="Next Due", 
                        `type`="text"),
                    list(
                        `name`="compliance_status", 
                        `title`="Compliance", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="qualityMetricsTable",
                title="Quality Metrics",
                visible="(quality_metrics)",
                clearWith=list(
                    "quality_metrics",
                    "workflow_optimization"),
                columns=list(
                    list(
                        `name`="metric_name", 
                        `title`="Quality Metric", 
                        `type`="text"),
                    list(
                        `name`="current_value", 
                        `title`="Current Value", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="target_value", 
                        `title`="Target", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="performance_status", 
                        `title`="Status", 
                        `type`="text"),
                    list(
                        `name`="trend", 
                        `title`="Trend", 
                        `type`="text"))))
            self$add(jmvcore::Table$new(
                options=options,
                name="workflowAnalysisTable",
                title="Workflow Analysis",
                visible="(workflow_optimization)",
                clearWith=list(
                    "workflow_optimization",
                    "performance_analytics"),
                columns=list(
                    list(
                        `name`="workflow_step", 
                        `title`="Workflow Step", 
                        `type`="text"),
                    list(
                        `name`="average_time", 
                        `title`="Average Time (min)", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="efficiency_score", 
                        `title`="Efficiency Score", 
                        `type`="number", 
                        `format`="zto"),
                    list(
                        `name`="bottlenecks", 
                        `title`="Bottlenecks", 
                        `type`="text"),
                    list(
                        `name`="improvement_suggestions", 
                        `title`="Improvements", 
                        `type`="text"))))
            self$add(jmvcore::Html$new(
                options=options,
                name="clinicalSummaryReport",
                title="Clinical Summary Report",
                visible="(summary_reports)",
                clearWith=list(
                    "patientID",
                    "vitals",
                    "labValues",
                    "summary_reports")))
            self$add(jmvcore::Html$new(
                options=options,
                name="predictiveAnalytics",
                title="Predictive Analytics",
                visible="(predictive_analytics)",
                clearWith=list(
                    "vitals",
                    "labValues",
                    "predictive_analytics")))
            self$add(jmvcore::Html$new(
                options=options,
                name="patientOutcomes",
                title="Patient Outcomes",
                visible="(patient_outcomes)",
                clearWith=list(
                    "patient_outcomes",
                    "quality_metrics")))
            self$add(jmvcore::Image$new(
                options=options,
                name="vitalsPlot",
                title="Vital Signs Trends",
                width=800,
                height=500,
                renderFun=".vitalsPlot",
                visible="(trend_plots)",
                requiresData=TRUE,
                clearWith=list(
                    "vitals",
                    "timestamps",
                    "trend_plots")))
            self$add(jmvcore::Image$new(
                options=options,
                name="labTrendsPlot",
                title="Laboratory Trends",
                width=800,
                height=500,
                renderFun=".labTrendsPlot",
                visible="(trend_plots)",
                requiresData=TRUE,
                clearWith=list(
                    "labValues",
                    "timestamps",
                    "trend_plots")))
            self$add(jmvcore::Image$new(
                options=options,
                name="alertDashboardPlot",
                title="Alert Management Dashboard",
                width=900,
                height=600,
                renderFun=".alertDashboardPlot",
                visible="(alert_dashboard)",
                requiresData=TRUE,
                clearWith=list(
                    "vitals",
                    "labValues",
                    "alert_system",
                    "alert_dashboard")))
            self$add(jmvcore::Image$new(
                options=options,
                name="riskDashboardPlot",
                title="Risk Assessment Dashboard",
                width=700,
                height=600,
                renderFun=".riskDashboardPlot",
                visible="(risk_dashboard)",
                requiresData=TRUE,
                clearWith=list(
                    "vitals",
                    "labValues",
                    "risk_stratification",
                    "risk_dashboard")))
            self$add(jmvcore::Image$new(
                options=options,
                name="interactiveDashboard",
                title="Interactive Patient Monitor",
                width=1200,
                height=800,
                renderFun=".interactiveDashboard",
                visible="(interactive_plots)",
                requiresData=TRUE,
                clearWith=list(
                    "patientID",
                    "vitals",
                    "labValues",
                    "interactive_plots",
                    "realtime_monitoring")))}))

patientdashboardBase <- if (requireNamespace("jmvcore", quietly=TRUE)) R6::R6Class(
    "patientdashboardBase",
    inherit = jmvcore::Analysis,
    public = list(
        initialize = function(options, data=NULL, datasetId="", analysisId="", revision=0) {
            super$initialize(
                package = "ClinicoPath",
                name = "patientdashboard",
                version = c(1,0,0),
                options = options,
                results = patientdashboardResults$new(options=options),
                data = data,
                datasetId = datasetId,
                analysisId = analysisId,
                revision = revision,
                pause = NULL,
                completeWhenFilled = TRUE,
                requiresMissings = FALSE,
                weightsSupport = 'auto')
        }))

#' Patient Monitoring Dashboard
#'
#' Patient Monitoring Dashboard provides real-time clinical analytics with 
#' continuous patient status visualization through interactive dashboards 
#' featuring vital signs monitoring, laboratory trend analysis, alert 
#' threshold management, and clinical decision support for comprehensive 
#' patient care coordination and clinical workflow optimization.
#' 
#'
#' @examples
#' data('patient_monitoring', package='ClinicoPath')
#'
#' # Basic patient monitoring dashboard
#' patientdashboard(patient_monitoring,
#'                patientID = 'PatientID',
#'                vitals = c('HeartRate', 'BloodPressure', 'Temperature'),
#'                labValues = c('Glucose', 'Creatinine', 'Hemoglobin'),
#'                realtime_monitoring = TRUE,
#'                alert_system = TRUE)
#'
#' @param data .
#' @param patientID Unique patient identifier for individual patient tracking
#' @param vitals Vital signs parameters (heart rate, blood pressure,
#'   temperature, etc.)
#' @param labValues Laboratory test results for trend monitoring and analysis
#' @param timestamps Date/time variables for temporal analysis and trending
#'   (optional)
#' @param clinicalNotes Clinical events, interventions, and annotations
#'   (optional)
#' @param medications Medication administration records and dosing information
#'   (optional)
#' @param realtime_monitoring Enable real-time data streaming and continuous
#'   monitoring updates
#' @param alert_system Activate threshold-based alerting system for critical
#'   values
#' @param trend_analysis Perform statistical trend analysis on vital signs and
#'   lab values
#' @param risk_stratification Calculate patient risk scores and stratification
#'   levels
#' @param dashboard_type Type of clinical dashboard optimized for specific
#'   care settings
#' @param monitoring_frequency Frequency of data updates and monitoring
#'   intervals
#' @param alert_thresholds Clinical threshold configuration based on patient
#'   population
#' @param time_window Time window for displaying historical data and trends
#' @param alert_priority Enable priority-based alert classification (Critical,
#'   High, Medium, Low)
#' @param predictive_analytics Enable predictive modeling for early warning
#'   system
#' @param clinical_pathways Integrate with clinical care pathways and
#'   protocols
#' @param medication_reconciliation Include medication reconciliation and
#'   interaction checking
#' @param family_communication Enable family/caregiver communication and
#'   updates
#' @param quality_metrics Track healthcare quality indicators and outcomes
#' @param workflow_optimization Analyze and optimize clinical workflow
#'   efficiency
#' @param interactive_plots Create interactive plots and charts for data
#'   exploration
#' @param trend_plots Generate time-series trend plots for vital signs and lab
#'   values
#' @param alert_dashboard Display comprehensive alert management and response
#'   tracking
#' @param risk_dashboard Show patient risk stratification and early warning
#'   scores
#' @param medication_dashboard Display medication administration and
#'   reconciliation dashboard
#' @param summary_reports Generate automated clinical summary reports
#' @param performance_analytics Analyze clinical team performance and
#'   efficiency metrics
#' @param patient_outcomes Track and analyze patient outcome measures and
#'   quality indicators
#' @return A results object containing:
#' \tabular{llllll}{
#'   \code{results$todo} \tab \tab \tab \tab \tab a html \cr
#'   \code{results$patientSummary} \tab \tab \tab \tab \tab a html \cr
#'   \code{results$vitalsTable} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$labValuesTable} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$activeAlertsTable} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$riskAssessmentTable} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$trendAnalysisTable} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$medicationTable} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$qualityMetricsTable} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$workflowAnalysisTable} \tab \tab \tab \tab \tab a table \cr
#'   \code{results$clinicalSummaryReport} \tab \tab \tab \tab \tab a html \cr
#'   \code{results$predictiveAnalytics} \tab \tab \tab \tab \tab a html \cr
#'   \code{results$patientOutcomes} \tab \tab \tab \tab \tab a html \cr
#'   \code{results$vitalsPlot} \tab \tab \tab \tab \tab an image \cr
#'   \code{results$labTrendsPlot} \tab \tab \tab \tab \tab an image \cr
#'   \code{results$alertDashboardPlot} \tab \tab \tab \tab \tab an image \cr
#'   \code{results$riskDashboardPlot} \tab \tab \tab \tab \tab an image \cr
#'   \code{results$interactiveDashboard} \tab \tab \tab \tab \tab an image \cr
#' }
#'
#' Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:
#'
#' \code{results$vitalsTable$asDF}
#'
#' \code{as.data.frame(results$vitalsTable)}
#'
#' @export
patientdashboard <- function(
    data,
    patientID,
    vitals,
    labValues,
    timestamps,
    clinicalNotes,
    medications,
    realtime_monitoring = TRUE,
    alert_system = TRUE,
    trend_analysis = TRUE,
    risk_stratification = TRUE,
    dashboard_type = "comprehensive",
    monitoring_frequency = "hourly",
    alert_thresholds = "standard",
    time_window = 24,
    alert_priority = TRUE,
    predictive_analytics = FALSE,
    clinical_pathways = TRUE,
    medication_reconciliation = FALSE,
    family_communication = FALSE,
    quality_metrics = TRUE,
    workflow_optimization = TRUE,
    interactive_plots = TRUE,
    trend_plots = TRUE,
    alert_dashboard = TRUE,
    risk_dashboard = TRUE,
    medication_dashboard = FALSE,
    summary_reports = TRUE,
    performance_analytics = FALSE,
    patient_outcomes = TRUE) {

    if ( ! requireNamespace("jmvcore", quietly=TRUE))
        stop("patientdashboard requires jmvcore to be installed (restart may be required)")

    if ( ! missing(patientID)) patientID <- jmvcore::resolveQuo(jmvcore::enquo(patientID))
    if ( ! missing(vitals)) vitals <- jmvcore::resolveQuo(jmvcore::enquo(vitals))
    if ( ! missing(labValues)) labValues <- jmvcore::resolveQuo(jmvcore::enquo(labValues))
    if ( ! missing(timestamps)) timestamps <- jmvcore::resolveQuo(jmvcore::enquo(timestamps))
    if ( ! missing(clinicalNotes)) clinicalNotes <- jmvcore::resolveQuo(jmvcore::enquo(clinicalNotes))
    if ( ! missing(medications)) medications <- jmvcore::resolveQuo(jmvcore::enquo(medications))
    if (missing(data))
        data <- jmvcore::marshalData(
            parent.frame(),
            `if`( ! missing(patientID), patientID, NULL),
            `if`( ! missing(vitals), vitals, NULL),
            `if`( ! missing(labValues), labValues, NULL),
            `if`( ! missing(timestamps), timestamps, NULL),
            `if`( ! missing(clinicalNotes), clinicalNotes, NULL),
            `if`( ! missing(medications), medications, NULL))

    for (v in clinicalNotes) if (v %in% names(data)) data[[v]] <- as.factor(data[[v]])
    for (v in medications) if (v %in% names(data)) data[[v]] <- as.factor(data[[v]])

    options <- patientdashboardOptions$new(
        patientID = patientID,
        vitals = vitals,
        labValues = labValues,
        timestamps = timestamps,
        clinicalNotes = clinicalNotes,
        medications = medications,
        realtime_monitoring = realtime_monitoring,
        alert_system = alert_system,
        trend_analysis = trend_analysis,
        risk_stratification = risk_stratification,
        dashboard_type = dashboard_type,
        monitoring_frequency = monitoring_frequency,
        alert_thresholds = alert_thresholds,
        time_window = time_window,
        alert_priority = alert_priority,
        predictive_analytics = predictive_analytics,
        clinical_pathways = clinical_pathways,
        medication_reconciliation = medication_reconciliation,
        family_communication = family_communication,
        quality_metrics = quality_metrics,
        workflow_optimization = workflow_optimization,
        interactive_plots = interactive_plots,
        trend_plots = trend_plots,
        alert_dashboard = alert_dashboard,
        risk_dashboard = risk_dashboard,
        medication_dashboard = medication_dashboard,
        summary_reports = summary_reports,
        performance_analytics = performance_analytics,
        patient_outcomes = patient_outcomes)

    analysis <- patientdashboardClass$new(
        options = options,
        data = data)

    analysis$run()

    analysis$results
}

