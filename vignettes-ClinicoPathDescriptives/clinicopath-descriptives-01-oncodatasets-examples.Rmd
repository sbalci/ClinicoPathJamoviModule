---
title: "ClinicoPath Descriptives: Oncology Data Examples"
author: "ClinicoPath Team"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{ClinicoPath Descriptives: Oncology Data Examples}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Introduction

This vignette demonstrates the use of ClinicoPath Descriptives module with real oncology datasets from the `OncoDataSets` package. We'll explore descriptive statistics, cross-tabulations, and data summaries using cancer research data.

## Loading Required Packages

```{r packages, message=FALSE}
library(ClinicoPath)
library(OncoDataSets)
library(dplyr)
library(knitr)
```

## Example 1: Breast Cancer Wisconsin Dataset

The Wisconsin Breast Cancer dataset contains features computed from digitized images of fine needle aspirates (FNA) of breast masses.

```{r breast-cancer-data}
data("BreastCancerWI_df")

# Overview of the dataset
dim(BreastCancerWI_df)
names(BreastCancerWI_df)[1:10]  # First 10 variables

# Convert diagnosis to factor with meaningful labels
BreastCancerWI_df$diagnosis <- factor(BreastCancerWI_df$diagnosis, 
                                      levels = c("0", "1"),
                                      labels = c("Benign", "Malignant"))
```

### Table One Analysis

Create a comprehensive summary table comparing benign and malignant cases:

```{r table-one, eval=FALSE}
# In jamovi, you would:
# 1. Select Analyses → ClinicoPath → Descriptives → Table One
# 2. Set 'diagnosis' as the grouping variable
# 3. Add continuous variables: radius_mean, texture_mean, perimeter_mean, area_mean
# 4. Enable median/IQR for non-normal distributions
```

### Cross-tabulation Example

Let's categorize tumor size and examine its relationship with diagnosis:

```{r cross-tab-prep}
# Categorize radius_mean
BreastCancerWI_df$radius_category <- cut(BreastCancerWI_df$radius_mean,
                                         breaks = c(0, 10, 15, 20, Inf),
                                         labels = c("Small", "Medium", "Large", "Very Large"))

# Summary
table(BreastCancerWI_df$radius_category, BreastCancerWI_df$diagnosis)
```

```{r cross-tab, eval=FALSE}
# In jamovi:
# 1. Select Analyses → ClinicoPath → Comparisons → Cross Table
# 2. Set 'radius_category' as rows and 'diagnosis' as columns
# 3. Enable chi-square test and standardized residuals
```

## Example 2: Childhood Cancer Dataset

The childhood cancer dataset provides information about cancer cases in children.

```{r child-cancer}
data("ChildCancer_df")

# Dataset structure
str(ChildCancer_df)

# Summary statistics
summary(ChildCancer_df)
```

### Descriptive Analysis by Cancer Type

```{r child-cancer-desc, eval=FALSE}
# In jamovi:
# 1. Select Analyses → ClinicoPath → Descriptives → Summary Data
# 2. Add variables for analysis
# 3. Group by cancer type if available
# 4. Request comprehensive statistics including skewness and kurtosis
```

## Example 3: Bladder Cancer Dataset

```{r bladder-cancer}
data("BladderCancer_df")

# Examine the structure
head(BladderCancer_df)
str(BladderCancer_df)
```

### Data Quality Check

```{r data-check, eval=FALSE}
# In jamovi:
# 1. Select Analyses → ClinicoPath → Descriptives → Check Data
# 2. Select all variables for missing value analysis
# 3. Enable outlier detection
# 4. Request data quality report
```

## Example 4: Smoking and Lung Cancer Relationship

```{r smoking-lung}
data("SmokingLungCancer_df")

# Dataset overview
str(SmokingLungCancer_df)
head(SmokingLungCancer_df)
```

### Enhanced Cross-tabulation

```{r enhanced-crosstab, eval=FALSE}
# In jamovi:
# 1. Select Analyses → ClinicoPath → Comparisons → Enhanced Cross Table
# 2. Set smoking status as rows and cancer status as columns
# 3. Enable odds ratio calculation
# 4. Add confidence intervals
# 5. Request risk estimates
```

## Example 5: Brain Cancer Geographic Distribution

```{r brain-cancer}
data("BrainCancerGeo_df")

# Geographic distribution analysis
str(BrainCancerGeo_df)
```

### Summary by Region

```{r geo-summary, eval=FALSE}
# In jamovi:
# 1. Select Analyses → ClinicoPath → Descriptives → Summary Data 2
# 2. Group by geographic region
# 3. Analyze incidence rates
# 4. Create comparative statistics
```

## Best Practices for Oncology Data Analysis

1. **Check Data Quality First**: Always run data quality checks before analysis
2. **Consider Clinical Relevance**: Group continuous variables using clinically meaningful cutoffs
3. **Report Missing Data**: Document patterns of missing data
4. **Use Appropriate Statistics**: Consider non-parametric tests for skewed distributions
5. **Multiple Comparisons**: Apply corrections when making multiple comparisons

## Integration with Clinical Workflows

### Example Workflow

```{r workflow, eval=FALSE}
# 1. Data Import and Cleaning
#    - Import from CSV/Excel
#    - Check for errors and inconsistencies

# 2. Initial Exploration
#    - Use Check Data for quality assessment
#    - Generate Summary Data reports

# 3. Comparative Analysis
#    - Create Table One for publication
#    - Perform cross-tabulations
#    - Calculate effect sizes

# 4. Export Results
#    - Copy tables to manuscript
#    - Export plots for presentations
```

## Advanced Features

### Chi-Square Post-hoc Tests with Weighted Data

For aggregated data (like the smoking-lung cancer contingency table):

```{r chisq-posthoc, eval=FALSE}
# In jamovi:
# 1. Select Analyses → ClinicoPath → Comparisons → Chi-Square Post-Hoc Tests
# 2. Use the counts/weights option for pre-aggregated data
# 3. Enable residuals analysis to identify significant cells
# 4. Apply Bonferroni correction for multiple comparisons
```

## Conclusion

The ClinicoPath Descriptives module provides comprehensive tools for analyzing oncology data. By combining these tools with the rich datasets from `OncoDataSets`, researchers can:

- Generate publication-ready descriptive statistics
- Identify patterns in cancer data
- Perform rigorous comparative analyses
- Ensure data quality throughout the analysis process

## References

- OncoDataSets package: https://cran.r-project.org/package=OncoDataSets
- ClinicoPath documentation: https://www.serdarbalci.com/ClinicoPath/