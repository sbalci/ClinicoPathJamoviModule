Loading required package: magrittr

Attaching package: â€˜magrittrâ€™

The following object is masked from â€˜package:arsenalâ€™:

    set_attr

The following objects are masked from â€˜package:testthatâ€™:

    equals, is_less_than, not

Loading required package: knitr

Attaching package: â€˜janitorâ€™

The following objects are masked from â€˜package:statsâ€™:

    chisq.test, fisher.test


Attaching package: â€˜labelledâ€™

The following object is masked from â€˜package:finalfitâ€™:

    remove_labels

Loading required namespace: jmvcore
â”€â”€ Warning: gtsummary Style Generates Correctly â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Using an external vector in selections was deprecated in tidyselect 1.1.0.
i Please use `all_of()` or `any_of()` instead.
  # Was:
  data %>% select(mygroup)

  # Now:
  data %>% select(all_of(mygroup))

See <https://tidyselect.r-lib.org/reference/faq-external-vector.html>.
Backtrace:
     â–†
  1. â”œâ”€analysis$run()
  2. â”‚ â””â”€private$.run()
  3. â”‚   â””â”€... %>% ...
  4. â”œâ”€gtsummary::add_p(...)
  5. â”‚ â””â”€gtsummary:::check_class(x, "gtsummary")
  6. â”œâ”€gtsummary::add_overall(.)
  7. â”‚ â””â”€gtsummary:::check_class(x, "gtsummary")
  8. â”œâ”€gtsummary::add_n(.)
  9. â”‚ â””â”€gtsummary:::check_class(x, "gtsummary")
 10. â””â”€gtsummary::tbl_summary(...)
 11.   â”œâ”€cards::process_selectors(...)
 12.   â””â”€cards:::process_selectors.data.frame(...)
 13.     â””â”€cards:::imap(...)
 14.       â””â”€cards:::map2(.x, names(.x) %||% seq_along(.x), .f, ...)
 15.         â””â”€base::mapply(.f, .x, .y, MoreArgs = list(...), SIMPLIFY = FALSE)
 16.           â””â”€cards (local) `<fn>`(dots[[1L]][[2L]], dots[[2L]][[2L]])
 17.             â””â”€cards::cards_select(...)
 18.               â”œâ”€base::tryCatch(...)
 19.               â”‚ â””â”€base (local) tryCatchList(expr, classes, parentenv, handlers)
 20.               â”‚   â””â”€base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 21.               â”‚     â””â”€base (local) doTryCatch(return(expr), name, parentenv, handler)
 22.               â””â”€tidyselect::eval_select(expr = expr, data = data, ...)
 23.                 â””â”€tidyselect:::eval_select_impl(...)
 24.                   â”œâ”€tidyselect:::with_subscript_errors(...)
 25.                   â”‚ â””â”€base::withCallingHandlers(...)
 26.                   â””â”€tidyselect:::vars_select_eval(...)
 27.                     â””â”€tidyselect:::walk_data_tree(expr, data_mask, context_mask)
 28.                       â””â”€tidyselect:::eval_sym(expr, data_mask, context_mask)
Test passed with 2 successes ðŸŽŠ.
Test passed with 2 successes ðŸŽŠ.
Test passed with 1 success ðŸŽŠ.
â”€â”€ Warning: Multiple Testing Correction (FDR) Works â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Using an external vector in selections was deprecated in tidyselect 1.1.0.
i Please use `all_of()` or `any_of()` instead.
  # Was:
  data %>% select(mygroup)

  # Now:
  data %>% select(all_of(mygroup))

See <https://tidyselect.r-lib.org/reference/faq-external-vector.html>.
Backtrace:
     â–†
  1. â”œâ”€analysis$run()
  2. â”‚ â””â”€private$.run()
  3. â”‚   â””â”€... %>% ...
  4. â”œâ”€gtsummary::add_p(...)
  5. â”‚ â””â”€gtsummary:::check_class(x, "gtsummary")
  6. â”œâ”€gtsummary::add_overall(.)
  7. â”‚ â””â”€gtsummary:::check_class(x, "gtsummary")
  8. â”œâ”€gtsummary::add_n(.)
  9. â”‚ â””â”€gtsummary:::check_class(x, "gtsummary")
 10. â””â”€gtsummary::tbl_summary(...)
 11.   â”œâ”€cards::process_selectors(...)
 12.   â””â”€cards:::process_selectors.data.frame(...)
 13.     â””â”€cards:::imap(...)
 14.       â””â”€cards:::map2(.x, names(.x) %||% seq_along(.x), .f, ...)
 15.         â””â”€base::mapply(.f, .x, .y, MoreArgs = list(...), SIMPLIFY = FALSE)
 16.           â””â”€cards (local) `<fn>`(dots[[1L]][[2L]], dots[[2L]][[2L]])
 17.             â””â”€cards::cards_select(...)
 18.               â”œâ”€base::tryCatch(...)
 19.               â”‚ â””â”€base (local) tryCatchList(expr, classes, parentenv, handlers)
 20.               â”‚   â””â”€base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 21.               â”‚     â””â”€base (local) doTryCatch(return(expr), name, parentenv, handler)
 22.               â””â”€tidyselect::eval_select(expr = expr, data = data, ...)
 23.                 â””â”€tidyselect:::eval_select_impl(...)
 24.                   â”œâ”€tidyselect:::with_subscript_errors(...)
 25.                   â”‚ â””â”€base::withCallingHandlers(...)
 26.                   â””â”€tidyselect:::vars_select_eval(...)
 27.                     â””â”€tidyselect:::walk_data_tree(expr, data_mask, context_mask)
 28.                       â””â”€tidyselect:::eval_sym(expr, data_mask, context_mask)
Test passed with 3 successes ðŸŽ‰.
â”€â”€ Warning: Stratified Analysis (Mantel-Haenszel) Works â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Using an external vector in selections was deprecated in tidyselect 1.1.0.
i Please use `all_of()` or `any_of()` instead.
  # Was:
  data %>% select(mygroup)

  # Now:
  data %>% select(all_of(mygroup))

See <https://tidyselect.r-lib.org/reference/faq-external-vector.html>.
Backtrace:
     â–†
  1. â”œâ”€analysis$run()
  2. â”‚ â””â”€private$.run()
  3. â”‚   â””â”€... %>% ...
  4. â”œâ”€gtsummary::add_p(...)
  5. â”‚ â””â”€gtsummary:::check_class(x, "gtsummary")
  6. â”œâ”€gtsummary::add_overall(.)
  7. â”‚ â””â”€gtsummary:::check_class(x, "gtsummary")
  8. â”œâ”€gtsummary::add_n(.)
  9. â”‚ â””â”€gtsummary:::check_class(x, "gtsummary")
 10. â””â”€gtsummary::tbl_summary(...)
 11.   â”œâ”€cards::process_selectors(...)
 12.   â””â”€cards:::process_selectors.data.frame(...)
 13.     â””â”€cards:::imap(...)
 14.       â””â”€cards:::map2(.x, names(.x) %||% seq_along(.x), .f, ...)
 15.         â””â”€base::mapply(.f, .x, .y, MoreArgs = list(...), SIMPLIFY = FALSE)
 16.           â””â”€cards (local) `<fn>`(dots[[1L]][[2L]], dots[[2L]][[2L]])
 17.             â””â”€cards::cards_select(...)
 18.               â”œâ”€base::tryCatch(...)
 19.               â”‚ â””â”€base (local) tryCatchList(expr, classes, parentenv, handlers)
 20.               â”‚   â””â”€base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]])
 21.               â”‚     â””â”€base (local) doTryCatch(return(expr), name, parentenv, handler)
 22.               â””â”€tidyselect::eval_select(expr = expr, data = data, ...)
 23.                 â””â”€tidyselect:::eval_select_impl(...)
 24.                   â”œâ”€tidyselect:::with_subscript_errors(...)
 25.                   â”‚ â””â”€base::withCallingHandlers(...)
 26.                   â””â”€tidyselect:::vars_select_eval(...)
 27.                     â””â”€tidyselect:::walk_data_tree(expr, data_mask, context_mask)
 28.                       â””â”€tidyselect:::eval_sym(expr, data_mask, context_mask)
â”€â”€ Failure: Stratified Analysis (Mantel-Haenszel) Works â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Expected `analysis$results$mantelHaenszelResults$content` to match regexp "Common Odds Ratio".
Actual text:
x | <div style='background-color: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 5px; border: 1px solid #dee2e6;'><h2 style='margin-top: 0; color: #495057;'>Stratified Analysis Results</h2><p><strong>Stratification Variable:</strong> Strata</p><p><strong>Purpose:</strong> Mantel-Haenszel test examines the association between row and column variables while controlling for the effect of the stratification variable. This helps identify whether an observed association is confounded by a third variable.</p></div><h3 style='margin-top: 20px; color: #333;'>Variable: Outcome</h3><div style='background-color: #e8f4fd; padding: 15px; margin: 10px 0; border-radius: 5px; border-left: 4px solid #2196F3;'><h4 style='margin-top: 0; color: #1976D2;'>Mantel-Haenszel Chi-Square Test</h4><p><strong>Purpose:</strong> Tests association between row and column variables while controlling for stratification variable.</p><table style='width: 100%; border-collapse: collapse; margin: 10px 0;'><tr><td style='padding: 5px; border-bottom: 1px solid #ccc;'><strong>Chi-square statistic:</strong></td><td style='padding: 5px; border-bottom: 1px solid #ccc; text-align: right;'>0.000</td></tr><tr><td style='padding: 5px; border-bottom: 1px solid #ccc;'><strong>Degrees of freedom:</strong></td><td style='padding: 5px; border-bottom: 1px solid #ccc; text-align: right;'>1</td></tr><tr><td style='padding: 5px; border-bottom: 1px solid #ccc;'><strong>P-value:</strong></td><td style='padding: 5px; border-bottom: 1px solid #ccc; text-align: right;'>1.0000</td></tr><tr><td style='padding: 5px; border-bottom: 1px solid #ccc;'><strong>Common odds ratio:</strong></td><td style='padding: 5px; border-bottom: 1px solid #ccc; text-align: right;'>1.000</td></tr><tr><td style='padding: 5px; border-bottom: 1px solid #ccc;'><strong>95% CI for OR:</strong></td><td style='padding: 5px; border-bottom: 1px solid #ccc; text-align: right;'>(0.345, 2.895)</td></tr><tr><td style='padding: 5px; border-bottom: 1px solid #ccc;'><strong>Number of strata:</strong></td><td style='padding: 5px; border-bottom: 1px solid #ccc; text-align: right;'>2</td></tr></table><p><strong>Interpretation:</strong></p><ul><li><strong>Common OR = 1:</strong> No association between variables (after controlling for strata)</li><li><strong>Common OR > 1:</strong> Positive association (exposure increases odds of outcome)</li><li><strong>Common OR < 1:</strong> Negative association (exposure decreases odds of outcome)</li></ul></div>
Error:
! Test failed with 1 failure and 2 successes.
Backtrace:
    â–†
 1. â””â”€testthat::test_that(...)
 2.   â””â”€testthat:::test_code(code, parent.frame())
 3.     â”œâ”€withr (local) `<fn>`()
 4.     â””â”€reporter$end_test(context = reporter$.context, test = test)
 5.       â””â”€cli::cli_abort(...)
 6.         â””â”€rlang::abort(...)
Execution halted
