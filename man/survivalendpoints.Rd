% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/survivalendpoints.h.R
\name{survivalendpoints}
\alias{survivalendpoints}
\title{Survival Endpoint Derivation}
\usage{
survivalendpoints(
  data,
  patientId,
  startDate,
  lastFollowup,
  progressionDate = NULL,
  deathDate = NULL,
  deathEvent = NULL,
  progressionEvent = NULL,
  treatmentEnd = NULL,
  responseDate = NULL,
  timeUnit = "months",
  inputType = "dates",
  calculatePFS = FALSE,
  calculateOS = FALSE,
  calculateTTP = FALSE,
  calculateDOR = FALSE,
  calculateTOT = FALSE,
  showDerivedData = FALSE,
  showSummaryStats = FALSE,
  showEventRates = FALSE,
  showKMPlot = FALSE,
  showMilestones = FALSE,
  milestones = "6,12,24",
  exportEndpoints = FALSE,
  showUsageGuide = FALSE
)
}
\arguments{
\item{data}{the data as a data frame}

\item{patientId}{Patient identifier variable}

\item{startDate}{Treatment start date or baseline time (Date or numeric)}

\item{lastFollowup}{Last follow-up date or time}

\item{progressionDate}{Date/time of disease progression (required for
accurate PFS/TTP/DOR)}

\item{deathDate}{Date/time of death (required for accurate OS/PFS)}

\item{deathEvent}{Death event indicator (0=alive, 1=dead). Not needed if
death date is provided.}

\item{progressionEvent}{Disease progression indicator (0=no progression,
1=progression). Not needed if progression date is provided.}

\item{treatmentEnd}{Treatment end date (optional, for time on treatment
calculation)}

\item{responseDate}{Date of confirmed response (optional, for DOR
calculation)}

\item{timeUnit}{Unit for time calculations (for numeric time variables)}

\item{inputType}{Type of input data (dates or numeric time values)}

\item{calculatePFS}{Calculate progression-free survival (time to
progression or death)}

\item{calculateOS}{Calculate overall survival (time to death)}

\item{calculateTTP}{Calculate time to progression (censors death without
progression)}

\item{calculateDOR}{Calculate duration of response (requires response date)}

\item{calculateTOT}{Calculate time on treatment (requires treatment end
date)}

\item{showDerivedData}{Display table with all derived survival endpoints}

\item{showSummaryStats}{Display summary statistics for each endpoint}

\item{showEventRates}{Display event rates and censoring proportions}

\item{showKMPlot}{Display simple Kaplan-Meier curves for derived endpoints}

\item{showMilestones}{Calculate survival at specific time milestones}

\item{milestones}{Comma-separated milestone times (in selected time unit)}

\item{exportEndpoints}{Export derived endpoints to CSV for use in survival
modules}

\item{showUsageGuide}{Display guide for using derived endpoints in survival
analysis}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$instructions} \tab \tab \tab \tab \tab a html \cr
\code{results$dataWarning} \tab \tab \tab \tab \tab a html \cr
\code{results$dataInfo} \tab \tab \tab \tab \tab a table \cr
\code{results$derivedEndpoints} \tab \tab \tab \tab \tab a table \cr
\code{results$summaryStats} \tab \tab \tab \tab \tab a table \cr
\code{results$eventRates} \tab \tab \tab \tab \tab a table \cr
\code{results$milestoneTable} \tab \tab \tab \tab \tab a table \cr
\code{results$kmPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$usageGuide} \tab \tab \tab \tab \tab a html \cr
\code{results$exportMessage} \tab \tab \tab \tab \tab a html \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$dataInfo$asDF}

\code{as.data.frame(results$dataInfo)}
}
\description{
Derives common survival endpoints (PFS, OS, TTP, DOR) from clinical trial
timeline data. Automatically calculates time-to-event and event status
variables for use in survival analysis. Designed for seamless integration
with swimmer/waterfall plot data.
}
\examples{
data <- data.frame(
    patient = c("P01", "P02", "P03"),
    start_date = as.Date(c("2023-01-01", "2023-02-01", "2023-03-01")),
    end_date = as.Date(c("2023-06-15", "2023-08-20", "2023-09-10")),
    last_followup = as.Date(c("2024-01-01", "2023-12-01", "2024-02-01")),
    death = c(0, 1, 0),
    progression = c(1, 1, 0)
)

survivalendpoints(
    data = data,
    patientId = "patient",
    startDate = "start_date",
    lastFollowup = "last_followup",
    deathEvent = "death",
    progressionEvent = "progression"
)

}
