% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/survivalbart.h.R
\name{survivalbart}
\alias{survivalbart}
\title{Bayesian Additive Regression Trees (BART) for Survival}
\usage{
survivalbart(
  data,
  time,
  event,
  predictors,
  strata,
  model_type = "aft",
  prior_distribution = "normal",
  n_trees = 200,
  alpha = 0.95,
  beta = 2,
  k = 2,
  q = 0.9,
  nu = 3,
  n_burn = 1000,
  n_post = 2000,
  n_thin = 1,
  n_chains = 1,
  variable_selection = TRUE,
  sparse_prior = FALSE,
  selection_alpha = 1,
  predict_times = "1, 2, 5",
  survival_quantiles = "0.25, 0.5, 0.75",
  credible_level = 0.95,
  cross_validation = FALSE,
  cv_folds = 5,
  convergence_diagnostics = TRUE,
  posterior_prediction = FALSE,
  show_model_summary = TRUE,
  show_variable_importance = TRUE,
  show_survival_summary = TRUE,
  show_convergence = TRUE,
  plot_survival_curves = TRUE,
  plot_variable_importance = TRUE,
  plot_trace = FALSE,
  plot_posterior_predictive = FALSE,
  plot_partial_dependence = FALSE,
  plot_interactions = FALSE,
  probit_link = FALSE,
  cure_fraction_prior = "uniform",
  adaptive_scaling = TRUE,
  parallel_chains = FALSE,
  memory_optimization = TRUE,
  random_seed = 123
)
}
\arguments{
\item{data}{The data as a data frame.}

\item{time}{Time to event variable (numeric). For right-censored data, this
is the  time from study entry to event or censoring.}

\item{event}{Event indicator variable. For survival analysis: 0 = censored,
1 = event. Binary coding required for current BART implementation.}

\item{predictors}{Variables to include in the BART survival model. Can
include numeric, ordinal, and nominal variables. BART automatically handles
variable types and interactions without preprocessing.}

\item{strata}{Optional stratification variable for stratified survival
analysis. Creates separate BART models for each stratum.}

\item{model_type}{Type of survival model. AFT models log-survival times
directly, PH models log-hazard ratios, cure models handle long-term
survivors with mixture of cured and susceptible populations.}

\item{prior_distribution}{Prior distribution for error terms in AFT model.
Normal corresponds to log-normal survival times, extreme value to Weibull
survival, logistic to log-logistic survival.}

\item{n_trees}{Number of trees in the BART ensemble. More trees provide
greater flexibility but increase computation time. 100-300 is typical
range.}

\item{alpha}{Controls tree depth through splitting probability. Higher
values favor shallower trees, lower values allow deeper trees and more
complex interactions.}

\item{beta}{Controls tree depth through splitting probability formula.
Higher values discourage deep splits, promoting simpler trees.}

\item{k}{Scale parameter for terminal node prior. Controls magnitude of
individual tree contributions to overall ensemble.}

\item{q}{Quantile for error variance prior specification. Higher values
assume less noise in the survival process.}

\item{nu}{Degrees of freedom for inverse chi-square prior on error
variance. Lower values allow more uncertainty in variance estimation.}

\item{n_burn}{Number of burn-in MCMC iterations to discard. Should be
sufficient for convergence to stationary distribution.}

\item{n_post}{Number of posterior MCMC iterations to keep for inference.
More iterations provide more precise posterior estimates.}

\item{n_thin}{Keep every nth posterior sample to reduce autocorrelation.
Higher values reduce effective sample size but may improve mixing.}

\item{n_chains}{Number of independent MCMC chains. Multiple chains enable
convergence diagnostics and robust posterior inference.}

\item{variable_selection}{Include variable selection probabilities in BART
model. Automatically identifies relevant predictors and reduces overfitting
with irrelevant variables.}

\item{sparse_prior}{Use sparse Dirichlet prior for variable selection
probabilities. Promotes sparser models with fewer active variables.}

\item{selection_alpha}{Concentration parameter for Dirichlet prior on
variable selection probabilities. Higher values favor uniform selection.}

\item{predict_times}{Comma-separated list of time points for survival
probability predictions. Empty string uses data-driven quantiles.}

\item{survival_quantiles}{Comma-separated list of quantiles for survival
time predictions. Provides percentile-based survival time estimates.}

\item{credible_level}{Level for posterior credible intervals on all
estimates. 0.95 provides 95\\% credible intervals.}

\item{cross_validation}{Perform k-fold cross-validation to assess
out-of-sample performance and model generalization.}

\item{cv_folds}{Number of folds for cross-validation. More folds provide
better performance estimates but increase computation.}

\item{convergence_diagnostics}{Compute MCMC convergence diagnostics
including effective sample sizes, autocorrelation, and potential scale
reduction.}

\item{posterior_prediction}{Perform posterior predictive checks to assess
model adequacy by comparing observed data to posterior predictive
distributions.}

\item{show_model_summary}{Display comprehensive model summary including
BART parameters, convergence diagnostics, and posterior summaries.}

\item{show_variable_importance}{Display variable importance measures based
on selection frequencies and splitting criteria across all trees.}

\item{show_survival_summary}{Display survival function summaries including
median survival times and survival probabilities at key time points.}

\item{show_convergence}{Display MCMC convergence diagnostics and chain
mixing assessment for model validation.}

\item{plot_survival_curves}{Plot individual and population-level survival
curves with posterior credible bands showing uncertainty.}

\item{plot_variable_importance}{Create variable importance plot showing
inclusion probabilities and splitting frequencies across the ensemble.}

\item{plot_trace}{Generate trace plots for key model parameters to assess
MCMC convergence and mixing.}

\item{plot_posterior_predictive}{Create posterior predictive check plots
comparing observed survival patterns to model predictions.}

\item{plot_partial_dependence}{Generate partial dependence plots showing
marginal effects of individual variables on survival hazard.}

\item{plot_interactions}{Visualize detected interactions between variables
with strength and confidence measures.}

\item{probit_link}{Use probit link for binary outcomes in cure models.
Alternative to logit link for mixture component modeling.}

\item{cure_fraction_prior}{Prior distribution for cure fraction in cure
models. Uniform is non-informative, Jeffreys is scale-invariant.}

\item{adaptive_scaling}{Use adaptive scaling of MCMC proposals to optimize
acceptance rates and improve sampling efficiency.}

\item{parallel_chains}{Run MCMC chains in parallel for faster computation
when multiple chains are specified.}

\item{memory_optimization}{Use memory-efficient storage for large ensembles
and datasets to reduce memory footprint.}

\item{random_seed}{Random seed for reproducible MCMC sampling and tree
ensemble generation.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$instructions} \tab \tab \tab \tab \tab a html \cr
\code{results$todo} \tab \tab \tab \tab \tab a html \cr
\code{results$modelSummary} \tab \tab \tab \tab \tab a table \cr
\code{results$variableImportance} \tab \tab \tab \tab \tab a table \cr
\code{results$survivalSummary} \tab \tab \tab \tab \tab a table \cr
\code{results$convergenceDiagnostics} \tab \tab \tab \tab \tab a table \cr
\code{results$crossValidationResults} \tab \tab \tab \tab \tab a table \cr
\code{results$posteriorPredictive} \tab \tab \tab \tab \tab a table \cr
\code{results$interactionEffects} \tab \tab \tab \tab \tab a table \cr
\code{results$survivalCurvesPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$variableImportancePlot} \tab \tab \tab \tab \tab an image \cr
\code{results$tracePlot} \tab \tab \tab \tab \tab an image \cr
\code{results$posteriorPredictivePlot} \tab \tab \tab \tab \tab an image \cr
\code{results$partialDependencePlot} \tab \tab \tab \tab \tab an image \cr
\code{results$interactionsPlot} \tab \tab \tab \tab \tab an image \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$modelSummary$asDF}

\code{as.data.frame(results$modelSummary)}
}
\description{
Bayesian Additive Regression Trees (BART) for survival analysis, providing
a flexible
non-parametric approach to modeling complex clinical survival data.
}
\details{
Automatically captures non-linear relationships and high-order interactions
without explicit specification. Supports Accelerated Failure Time (AFT),
Proportional Hazards (PH), and Cure models.
BART combines an ensemble of weak learners (trees)
with Bayesian priors to create a powerful predictive model that naturally
handles nonlinear relationships, interactions, and variable selection
without requiring preprocessing. The method provides full posterior
distributions for predictions, built-in uncertainty quantification,
and robust performance across diverse survival scenarios. Particularly
effective for complex survival data with unknown functional forms,
high-dimensional predictors, mixed variable types, and scenarios requiring
individualized survival predictions with credible intervals. Implementation
supports both accelerated failure time and proportional hazards
formulations
with comprehensive posterior inference and model diagnostics.
}
\examples{
result <- survivalbart(
    data = mydata,
    time = "time_to_event",
    event = "event_indicator",
    predictors = c("age", "stage", "biomarker1", "biomarker2"),
    model_type = "aft",
    n_trees = 200,
    n_burn = 1000,
    n_post = 2000
)

}
