% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/modelbuilder.h.R
\name{modelbuilder}
\alias{modelbuilder}
\title{Prediction Model Builder}
\usage{
modelbuilder(
  data,
  clinicalPreset = "none",
  outcome,
  outcomePositive,
  splitData = FALSE,
  randomSeed = 123,
  buildBasicModel = TRUE,
  basicPredictors,
  basicModelName = "basic_model",
  buildEnhancedModel = FALSE,
  enhancedPredictors,
  enhancedModelName = "enhanced_model",
  buildBiomarkerModel = FALSE,
  biomarkerPredictors,
  biomarkerModelName = "biomarker_model",
  buildCustomModel = FALSE,
  customPredictors,
  customModelName = "custom_model",
  includeInteractions = FALSE,
  interactionTerms = "",
  useStepwise = FALSE,
  stepwiseDirection = "both",
  selectionCriterion = "aic",
  transformVariables = FALSE,
  transformMethod = "log",
  missingDataMethod = "complete_cases",
  imputationSets = 5,
  crossValidation = FALSE,
  cvFolds = 5,
  bootstrapValidation = FALSE,
  bootstrapReps = 1000,
  showModelSummary = TRUE,
  showPerformanceMetrics = TRUE,
  showCalibrationPlots = FALSE,
  showROCCurves = FALSE,
  compareModels = FALSE,
  createPredictions = FALSE,
  exportForDCA = FALSE,
  calculateNRI = FALSE,
  nriThresholds = "0.05, 0.10, 0.20",
  calculateIDI = FALSE,
  penalizedRegression = FALSE,
  penaltyType = "lasso",
  generateRiskScore = FALSE,
  riskScorePoints = "simple"
)
}
\arguments{
\item{data}{The data as a data frame.}

\item{clinicalPreset}{Predefined clinical scenarios with optimized settings
and variable recommendations.}

\item{outcome}{Binary outcome variable to predict (e.g., disease presence,
adverse event occurrence).}

\item{outcomePositive}{Which level of the outcome variable represents the
positive case.}

\item{splitData}{Split data into training (70\\%) and validation (30\\%) sets
for unbiased model evaluation.}

\item{randomSeed}{Random seed for reproducible data splitting and results.}

\item{buildBasicModel}{Build a basic clinical model using demographic and
primary risk factors.}

\item{basicPredictors}{Variables for the basic clinical model (e.g., age,
sex, primary risk factors).}

\item{basicModelName}{Name for the basic model (used as column name for
predictions).}

\item{buildEnhancedModel}{Build an enhanced model with additional clinical
variables.}

\item{enhancedPredictors}{Variables for the enhanced model (should include
basic predictors plus additional ones).}

\item{enhancedModelName}{Name for the enhanced model (used as column name
for predictions).}

\item{buildBiomarkerModel}{Build a model incorporating biomarkers or
advanced diagnostics.}

\item{biomarkerPredictors}{Variables for the biomarker model (clinical
variables plus biomarkers).}

\item{biomarkerModelName}{Name for the biomarker model (used as column name
for predictions).}

\item{buildCustomModel}{Build a custom model with user-specified variables.}

\item{customPredictors}{Variables for the custom model.}

\item{customModelName}{Name for the custom model (used as column name for
predictions).}

\item{includeInteractions}{Include two-way interactions between predictor
variables.}

\item{interactionTerms}{Specify interactions (e.g., "age\emph{sex,
diabetes}smoking"). Leave empty for all pairwise.}

\item{useStepwise}{Use stepwise variable selection to optimize models.}

\item{stepwiseDirection}{Direction for stepwise variable selection.}

\item{selectionCriterion}{Criterion for stepwise variable selection.}

\item{transformVariables}{Apply automatic transformations to continuous
variables.}

\item{transformMethod}{Type of transformation to apply to continuous
variables.}

\item{missingDataMethod}{Method for handling missing data in predictor
variables.}

\item{imputationSets}{Number of imputation sets for multiple imputation.}

\item{crossValidation}{Perform k-fold cross-validation for robust model
assessment.}

\item{cvFolds}{Number of folds for cross-validation.}

\item{bootstrapValidation}{Perform bootstrap validation to assess optimism
and shrinkage.}

\item{bootstrapReps}{Number of bootstrap replications for validation.}

\item{showModelSummary}{Display regression coefficients and model
statistics.}

\item{showPerformanceMetrics}{Display AUC, calibration, and other
performance measures.}

\item{showCalibrationPlots}{Display calibration plots for each model.}

\item{showROCCurves}{Display ROC curves for discrimination assessment.}

\item{compareModels}{Display side-by-side comparison of all models.}

\item{createPredictions}{Add predicted probability columns to dataset for
DCA use.}

\item{exportForDCA}{Format output specifically for use in Decision Curve
Analysis module.}

\item{calculateNRI}{Calculate NRI comparing enhanced models to basic model.}

\item{nriThresholds}{Risk thresholds for NRI calculation (comma-separated).}

\item{calculateIDI}{Calculate IDI comparing models.}

\item{penalizedRegression}{Use penalized regression (LASSO/Ridge) for
variable selection.}

\item{penaltyType}{Type of penalty for regularized regression.}

\item{generateRiskScore}{Create integer risk score from best model for
clinical use.}

\item{riskScorePoints}{Method for creating clinical risk score.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$instructions} \tab \tab \tab \tab \tab a html \cr
\code{results$clinicalGuidance} \tab \tab \tab \tab \tab a html \cr
\code{results$dataSummary} \tab \tab \tab \tab \tab a html \cr
\code{results$clinicalSummary} \tab \tab \tab \tab \tab a html \cr
\code{results$glossary} \tab \tab \tab \tab \tab a html \cr
\code{results$dcaReadyMessage} \tab \tab \tab \tab \tab a html \cr
\code{results$reportSentences} \tab \tab \tab \tab \tab a html \cr
\code{results$exportOptions} \tab \tab \tab \tab \tab a html \cr
\code{results$basicModelSummary} \tab \tab \tab \tab \tab a table \cr
\code{results$enhancedModelSummary} \tab \tab \tab \tab \tab a table \cr
\code{results$biomarkerModelSummary} \tab \tab \tab \tab \tab a table \cr
\code{results$customModelSummary} \tab \tab \tab \tab \tab a table \cr
\code{results$modelComparisonTable} \tab \tab \tab \tab \tab a table \cr
\code{results$validationResults} \tab \tab \tab \tab \tab a table \cr
\code{results$nriTable} \tab \tab \tab \tab \tab a table \cr
\code{results$idiTable} \tab \tab \tab \tab \tab a table \cr
\code{results$riskScoreTable} \tab \tab \tab \tab \tab a table \cr
\code{results$rocCurvesPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$calibrationPlotsArray} \tab \tab \tab \tab \tab an array of images \cr
\code{results$modelComparisonPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$validationPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$dcaPreparationSummary} \tab \tab \tab \tab \tab a html \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$basicModelSummary$asDF}

\code{as.data.frame(results$basicModelSummary)}
}
\description{
Build and validate prediction models for medical decision making. Creates
multiple logistic regression models with predicted probabilities that can
be directly used in Decision Curve Analysis.
}
\examples{
\donttest{
# example will be added
}
}
