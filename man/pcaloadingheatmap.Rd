% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pcaloadingheatmap.h.R
\name{pcaloadingheatmap}
\alias{pcaloadingheatmap}
\title{PCA Loading Heatmap & Barmap}
\usage{
pcaloadingheatmap(
  data,
  vars,
  ncomp = 4,
  cutoff = 0.5,
  center = TRUE,
  scale = TRUE,
  textvalues = TRUE,
  starvalues = FALSE,
  textsize = 2,
  plotlegend = TRUE,
  plotcutoff = TRUE,
  gradientcolor = TRUE,
  colorlow = "steelblue1",
  colormid = "white",
  colorhigh = "firebrick1",
  plotwidth = 600,
  plotheight = 450
)
}
\arguments{
\item{data}{The data as a data frame.}

\item{vars}{Continuous variables to include in Principal Component
Analysis. Select at least 3 numeric variables.}

\item{ncomp}{Number of principal components to display (1 to 10).}

\item{cutoff}{Threshold for marking loadings as significant (0 to 1).
Loadings with |loading| >= cutoff will be marked with stars if star_values
is enabled.}

\item{center}{Center variables before PCA.}

\item{scale}{Scale variables before PCA.}

\item{textvalues}{Display numeric loading values in heatmap/barmap cells.}

\item{starvalues}{Display stars (*) for loadings >= cutoff threshold. Only
relevant if textvalues is FALSE.}

\item{textsize}{Font size for text in plots.}

\item{plotlegend}{Display legend in barmap plot.}

\item{plotcutoff}{Display horizontal lines at Â±cutoff threshold in barmap.}

\item{gradientcolor}{Use gradient colors proportional to loading values. If
FALSE, uses binary colors for positive/negative.}

\item{colorlow}{Color for negative loadings.}

\item{colormid}{Midpoint color for zero loading.}

\item{colorhigh}{Color for positive loadings.}

\item{plotwidth}{Width of plots in pixels.}

\item{plotheight}{Height of plots in pixels.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$todo} \tab \tab \tab \tab \tab a html \cr
\code{results$variance} \tab \tab \tab \tab \tab a table \cr
\code{results$heatmap} \tab \tab \tab \tab \tab Heatmap visualization of PCA loadings across components \cr
\code{results$scree} \tab \tab \tab \tab \tab Scree/variance explained plot \cr
\code{results$barmap} \tab \tab \tab \tab \tab Barmap visualization of PCA loadings showing magnitude and direction \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$variance$asDF}

\code{as.data.frame(results$variance)}
}
\description{
Creates heatmap and barmap visualizations of PCA loadings for easy
interpretation
of component structure. Heatmaps show all loadings as a color-coded matrix,
while
barmaps display loading patterns as bar charts across components.
}
\details{
Both visualizations support optional significance indicators (stars) for
loadings
above a specified cutoff threshold. These publication-ready plots help
identify
which variables contribute most strongly to each component.
}
\section{References}{

Torres-Espin A, Chou A, Huie JR, et al. (2021). Reproducible analysis of disease space via principal components using the novel R package syndRomics. eLife, 10:e61812.
}

\examples{
# Example with mtcars dataset
data("mtcars")

# Create loading heatmap and barmap
pcaloadingheatmap(
  data = mtcars,
  vars = c("mpg", "disp", "hp", "drat", "wt", "qsec"),
  ncomp = 4,
  cutoff = 0.5,
  center = TRUE,
  scale = TRUE,
  textvalues = TRUE,
  gradientcolor = TRUE
)

}
