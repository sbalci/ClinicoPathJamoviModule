% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ihcdiagnostic.b.R, R/ihcdiagnostic.h.R
\name{ihcdiagnostic}
\alias{ihcdiagnostic}
\title{IHC Diagnostic Analysis}
\usage{
ihcdiagnostic(
  data,
  markers,
  diagnosis,
  id = NULL,
  differentialDiagnosis = TRUE,
  antibodyOptimization = FALSE,
  calculateDiagnosticMetrics = TRUE,
  clusterMethod = "hierarchical",
  cutpointMethod = "optimal",
  confidenceLevel = 0.95,
  crossValidation = TRUE,
  minimumGroupSize = 10
)
}
\arguments{
\item{data}{the data as a data frame}

\item{markers}{Select IHC marker variables (e.g., ER, PR, HER2, Ki67, CD
markers). These can be percentage scores, H-scores, or categorical results.}

\item{diagnosis}{Select the reference diagnosis variable (e.g., tumor type,
grade, subtype). This is your gold standard for evaluating marker
performance.}

\item{id}{Optional case identifier for tracking individual results in
differential diagnosis. Useful for matching predictions with actual
diagnoses.}

\item{differentialDiagnosis}{Predict diagnosis for each case based on IHC
marker patterns. Uses clustering to classify cases into diagnostic groups.}

\item{antibodyOptimization}{Find the best combination of markers for
diagnosis. Tests single markers and combinations to identify optimal
panels.}

\item{calculateDiagnosticMetrics}{Calculate sensitivity, specificity, PPV,
NPV, and AUC for each marker. Essential for evaluating marker diagnostic
performance.}

\item{clusterMethod}{Clustering method for differential diagnosis}

\item{cutpointMethod}{Method for determining positive/negative cutpoints}

\item{confidenceLevel}{Confidence level for performance metrics (0.95 =
95\\% confidence intervals). Higher values give wider, more conservative
intervals.}

\item{crossValidation}{Use 5-fold cross-validation for more reliable
performance estimates. Recommended for clinical validation but takes longer
to compute.}

\item{minimumGroupSize}{Minimum number of cases required per diagnostic
group. Groups with fewer cases will trigger a warning (recommend â‰¥10).}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$instructions} \tab \tab \tab \tab \tab a html \cr
\code{results$clinicalSummary} \tab \tab \tab \tab \tab a html \cr
\code{results$interpretationGuide} \tab \tab \tab \tab \tab a html \cr
\code{results$diagnosticPerformance} \tab \tab \tab \tab \tab a table \cr
\code{results$differentialResults} \tab \tab \tab \tab \tab a table \cr
\code{results$confusionMatrix} \tab \tab \tab \tab \tab a table \cr
\code{results$panelOptimization} \tab \tab \tab \tab \tab a table \cr
\code{results$rocPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$diagnosticPlot} \tab \tab \tab \tab \tab an image \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$diagnosticPerformance$asDF}

\code{as.data.frame(results$diagnosticPerformance)}
}
\description{
Diagnostic performance analysis and clinical classification using IHC
markers. Designed for differential diagnosis and antibody panel
optimization.
}
\examples{
data \\%>\\%
ihcdiagnostic(
    markers = c("ER", "PR", "HER2", "Ki67"),
    diagnosis = "tumor_type",
    differentialDiagnosis = TRUE
)

}
