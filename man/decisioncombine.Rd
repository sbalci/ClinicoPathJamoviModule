% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/decisioncombine.h.R
\name{decisioncombine}
\alias{decisioncombine}
\title{Combine Medical Decision Tests}
\usage{
decisioncombine(
  data,
  gold,
  goldPositive,
  test1,
  test1Positive,
  test2 = NULL,
  test2Positive,
  test3 = NULL,
  test3Positive,
  od = FALSE,
  showIndividual = FALSE,
  addCombinationPattern = FALSE,
  showVisualization = FALSE,
  plotType = "heatmap",
  plotHeight = 600,
  plotWidth = 800,
  colorScheme = "clinical"
)
}
\arguments{
\item{data}{The data as a data frame.}

\item{gold}{The gold standard reference variable representing true disease
status.}

\item{goldPositive}{The level indicating presence of disease in the gold
standard variable.}

\item{test1}{The first diagnostic test variable being evaluated for
performance.}

\item{test1Positive}{The level representing a positive result for Test 1.}

\item{test2}{The second diagnostic test variable for combination analysis.}

\item{test2Positive}{.}

\item{test3}{.}

\item{test3Positive}{.}

\item{od}{Boolean selection whether to show frequency tables. Default is
'false'.}

\item{showIndividual}{.}

\item{addCombinationPattern}{Export a new variable to the original data
frame indicating the test combination pattern (e.g., +/+, +/-, -/+, -/-).}

\item{showVisualization}{Display comprehensive visualizations for
categorical test combination analysis.}

\item{plotType}{Visualization selection: heatmap (performance matrix), tree
(clinical decision hierarchy),  venn (test agreement), forest (Wilson CIs),
all (comprehensive output).}

\item{plotHeight}{Height of the plot in pixels.}

\item{plotWidth}{Width of the plot in pixels.}

\item{colorScheme}{Color scheme for visualizations. Clinical uses red for
negative and green for positive.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$goldStandardFreqTable} \tab \tab \tab \tab \tab a table \cr
\code{results$crossTabTable} \tab \tab \tab \tab \tab a table \cr
\code{results$indTable1} \tab \tab \tab \tab \tab a table \cr
\code{results$indTable2} \tab \tab \tab \tab \tab a table \cr
\code{results$indTable3} \tab \tab \tab \tab \tab a table \cr
\code{results$combinationsAnalysis} \tab \tab \tab \tab \tab Comprehensive analysis of all possible test combinations \cr
\code{results$combStatsTable} \tab \tab \tab \tab \tab Primary diagnostic performance metrics for each test combination pattern. Wilson score confidence intervals used for enhanced accuracy with small samples. \cr
\code{results$combStatsTableCI} \tab \tab \tab \tab \tab Detailed confidence intervals using Wilson score method, which provides more accurate bounds for diagnostic proportions than normal approximation, especially for small samples or extreme values. \cr
\code{results$addCombinationPattern} \tab \tab \tab \tab \tab an output \cr
\code{results$performanceHeatmap} \tab \tab \tab \tab \tab Publication-quality heatmap showing comprehensive diagnostic performance metrics across all test combination patterns with clinical color coding. \cr
\code{results$decisionTree} \tab \tab \tab \tab \tab an image \cr
\code{results$vennDiagram} \tab \tab \tab \tab \tab an image \cr
\code{results$forestPlot} \tab \tab \tab \tab \tab Comprehensive forest plot displaying all diagnostic metrics with Wilson score confidence intervals, providing more accurate uncertainty estimates than normal approximation methods. \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$goldStandardFreqTable$asDF}

\code{as.data.frame(results$goldStandardFreqTable)}
}
\description{
Advanced medical diagnostic test combination analysis for categorical tests
with comprehensive clinical interpretation. This function systematically
evaluates all possible test result combinations (2-test: 4 patterns,
3-test: 8 patterns) against a gold standard using state-of-the-art
statistical methods. Features include Wilson score confidence intervals
for enhanced accuracy, performance heatmaps, decision trees, and
publication-quality visualizations with clinical decision thresholds.
Provides actionable recommendations for screening vs. confirmatory testing
strategies with detailed clinical interpretation guidelines. Essential for
evidence-based diagnostic protocol development and categorical test
validation studies.
}
\examples{
# Basic two-test combination analysis
result1 <- decisioncombine(
  data = histopathology,
  gold = "Golden Standart",
  goldPositive = "1",
  test1 = "New Test",
  test1Positive = "1",
  test2 = "Rater 1",
  test2Positive = "1",
  showVisualization = TRUE,
  plotType = "all"  # Shows all visualization types
)

# Comprehensive three-test analysis with clinical recommendations
result2 <- decisioncombine(
  data = histopathology,
  gold = "Golden Standart",
  goldPositive = "1",
  test1 = "New Test",
  test1Positive = "1",
  test2 = "Rater 1",
  test2Positive = "1",
  test3 = "Rater 2",
  test3Positive = "1",
  showIndividual = TRUE,
  showVisualization = TRUE,
  plotType = "heatmap",  # Focus on performance heatmap
  addCombinationPattern = TRUE  # Export patterns for further analysis
)

# Access clinical recommendations from HTML output
# result2$combinationsAnalysis contains clinical recommendations

}
