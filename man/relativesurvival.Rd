% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/relativesurvival.h.R
\name{relativesurvival}
\alias{relativesurvival}
\title{Relative Survival Analysis}
\usage{
relativesurvival(
  data,
  time,
  status,
  age,
  sex,
  year,
  covariates,
  ratetable = "us",
  method = "poharperme",
  time_scale = "years",
  net_survival = TRUE,
  excess_mortality = TRUE,
  crude_probability = TRUE,
  age_standardized = FALSE,
  period_analysis = FALSE,
  cohort_year = "",
  regression_model = "none",
  spline_df = 4,
  plot_observed = TRUE,
  plot_expected = TRUE,
  plot_relative = TRUE,
  plot_excess = TRUE,
  confidence_level = 0.95,
  timepoints = "1,3,5,10"
)
}
\arguments{
\item{data}{The data as a data frame.}

\item{time}{Follow-up time variable}

\item{status}{Event status variable}

\item{age}{Age variable for rate table matching}

\item{sex}{Sex variable for rate table matching}

\item{year}{Calendar year for rate table matching}

\item{covariates}{Covariates for regression models}

\item{ratetable}{Population rate table for expected survival}

\item{method}{Relative survival estimation method}

\item{time_scale}{Time unit specification}

\item{net_survival}{Compute net survival estimates}

\item{excess_mortality}{Compute excess mortality}

\item{crude_probability}{Compute cause-specific crude probabilities}

\item{age_standardized}{Perform age standardization}

\item{period_analysis}{Use period analysis approach}

\item{cohort_year}{Cohort year specification}

\item{regression_model}{Regression model specification}

\item{spline_df}{Spline complexity}

\item{plot_observed}{Show observed survival}

\item{plot_expected}{Show expected survival}

\item{plot_relative}{Show relative survival}

\item{plot_excess}{Show excess hazard}

\item{confidence_level}{CI level}

\item{timepoints}{Specific time points}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$todo} \tab \tab \tab \tab \tab a html \cr
\code{results$summary} \tab \tab \tab \tab \tab a html \cr
\code{results$survivalTable} \tab \tab \tab \tab \tab a table \cr
\code{results$netSurvivalTable} \tab \tab \tab \tab \tab a table \cr
\code{results$excessMortalityTable} \tab \tab \tab \tab \tab a table \cr
\code{results$crudeProbTable} \tab \tab \tab \tab \tab a table \cr
\code{results$regressionTable} \tab \tab \tab \tab \tab a table \cr
\code{results$observedPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$expectedPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$relativePlot} \tab \tab \tab \tab \tab an image \cr
\code{results$excessPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$ageStandardizedTable} \tab \tab \tab \tab \tab a table \cr
\code{results$periodAnalysisTable} \tab \tab \tab \tab \tab a table \cr
\code{results$modelFit} \tab \tab \tab \tab \tab a table \cr
\code{results$interpretation} \tab \tab \tab \tab \tab a html \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$survivalTable$asDF}

\code{as.data.frame(results$survivalTable)}
}
\description{
Relative survival analysis compares observed survival in a patient cohort
to
expected survival in a matched general population. Essential for cancer
registry
studies and population-based research.
}
\examples{
\donttest{
# Example: Cancer relative survival
relativesurvival(
    data = cancer_registry,
    time = followup_years,
    status = vital_status,
    age = age_at_diagnosis,
    sex = gender,
    year = diagnosis_year,
    ratetable = "us_population"
)
}
}
