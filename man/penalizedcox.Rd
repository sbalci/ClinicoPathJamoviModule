% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/penalizedcox.h.R
\name{penalizedcox}
\alias{penalizedcox}
\title{Penalized Cox Regression}
\usage{
penalizedcox(
  data,
  elapsedtime = NULL,
  tint = FALSE,
  dxdate = NULL,
  fudate = NULL,
  timetypedata = "ymd",
  timetypeoutput = "months",
  outcome = NULL,
  outcomeLevel,
  predictors = NULL,
  penalty_type = "lasso",
  alpha = 0.5,
  lambda_selection = "1se",
  lambda_custom = 0.01,
  cv_folds = 10,
  cv_type = "deviance",
  variable_selection = TRUE,
  standardize = TRUE,
  include_intercept = FALSE,
  bootstrap_validation = FALSE,
  bootstrap_samples = 100,
  predict_risk = TRUE,
  survival_curves = FALSE,
  risk_groups = "3",
  coefficient_plot = TRUE,
  cv_plot = TRUE,
  variable_importance = FALSE,
  lambda_sequence = "",
  max_variables = 100,
  convergence_threshold = 1e-07,
  show_coefficients = TRUE,
  show_model_metrics = TRUE,
  show_lambda_path = FALSE,
  showSummaries = FALSE,
  showExplanations = FALSE,
  addRiskScore = FALSE,
  addRiskGroup = FALSE
)
}
\arguments{
\item{data}{The dataset for analysis, provided as a data frame. Should
contain survival variables and predictor variables for penalized
regression.}

\item{elapsedtime}{The numeric variable representing follow-up time until
the event or censoring.}

\item{tint}{If true, survival time will be calculated from diagnosis and
follow-up dates.}

\item{dxdate}{Date of diagnosis or start of follow-up. Required if tint =
true.}

\item{fudate}{Follow-up date or date of last observation. Required if tint
= true.}

\item{timetypedata}{Specifies the format of date variables in the input
data.}

\item{timetypeoutput}{The units in which survival time is reported in the
output.}

\item{outcome}{The outcome variable indicating event status (e.g., death,
recurrence).}

\item{outcomeLevel}{The level of outcome considered as the event.}

\item{predictors}{Variables to include in the penalized Cox regression
model.}

\item{penalty_type}{Type of penalty to apply. LASSO performs variable
selection, Ridge shrinks coefficients, Elastic Net combines both.}

\item{alpha}{Mixing parameter for Elastic Net. Alpha=1 is LASSO, alpha=0 is
Ridge. Used only when penalty_type = "elastic_net".}

\item{lambda_selection}{Method for selecting the regularization parameter
lambda.}

\item{lambda_custom}{Custom lambda value when lambda_selection = "custom".}

\item{cv_folds}{Number of folds for cross-validation to select optimal
lambda.}

\item{cv_type}{Cross-validation error measure for model selection.}

\item{variable_selection}{Extract and display selected variables (non-zero
coefficients).}

\item{standardize}{Whether to standardize predictor variables before
fitting.}

\item{include_intercept}{Whether to include an intercept in the model
(usually false for Cox models).}

\item{bootstrap_validation}{Perform bootstrap validation of the penalized
model.}

\item{bootstrap_samples}{Number of bootstrap samples for validation.}

\item{predict_risk}{Calculate linear predictors (risk scores) for each
observation.}

\item{survival_curves}{Generate survival curves stratified by risk score
groups.}

\item{risk_groups}{Number of risk groups for survival curve stratification.}

\item{coefficient_plot}{Display coefficient paths showing shrinkage across
lambda values.}

\item{cv_plot}{Display cross-validation error plot for lambda selection.}

\item{variable_importance}{Display variable importance based on coefficient
magnitudes.}

\item{lambda_sequence}{Custom sequence of lambda values (comma-separated).
If empty, glmnet will choose automatically.}

\item{max_variables}{Maximum number of variables to include in the model
path.}

\item{convergence_threshold}{Convergence threshold for coordinate descent
algorithm.}

\item{show_coefficients}{Display table of selected variables and their
coefficients.}

\item{show_model_metrics}{Display model performance metrics including
deviance and C-index.}

\item{show_lambda_path}{Display detailed information about lambda selection
process.}

\item{showSummaries}{Display natural language summaries alongside tables
and plots for interpretation of penalized Cox regression results.}

\item{showExplanations}{Display detailed explanations of penalized Cox
regression methods and interpretation guidelines.}

\item{addRiskScore}{Add calculated linear predictor (risk score) as new
variable to dataset.}

\item{addRiskGroup}{Add risk group classification as new variable to
dataset.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$todo} \tab \tab \tab \tab \tab a html \cr
\code{results$modelSummary} \tab \tab \tab \tab \tab a html \cr
\code{results$coefficientTable} \tab \tab \tab \tab \tab a table \cr
\code{results$performanceTable} \tab \tab \tab \tab \tab a table \cr
\code{results$crossValidationSummary} \tab \tab \tab \tab \tab a html \cr
\code{results$lambdaTable} \tab \tab \tab \tab \tab a table \cr
\code{results$variableImportanceTable} \tab \tab \tab \tab \tab a table \cr
\code{results$riskScoreTable} \tab \tab \tab \tab \tab a table \cr
\code{results$riskGroupTable} \tab \tab \tab \tab \tab a table \cr
\code{results$bootstrapTable} \tab \tab \tab \tab \tab a table \cr
\code{results$coefficientPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$cvPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$importancePlot} \tab \tab \tab \tab \tab an image \cr
\code{results$survivalPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$analysisSummary} \tab \tab \tab \tab \tab a html \cr
\code{results$methodExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$regularizationExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$variableSelectionExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$crossValidationExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$performanceExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$calculatedtime} \tab \tab \tab \tab \tab an output \cr
\code{results$riskScoreOutput} \tab \tab \tab \tab \tab an output \cr
\code{results$riskGroupOutput} \tab \tab \tab \tab \tab an output \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$coefficientTable$asDF}

\code{as.data.frame(results$coefficientTable)}
}
\description{
Performs penalized Cox proportional hazards regression using regularization
methods (LASSO, Ridge, Elastic Net) for high-dimensional survival data.
This method is particularly useful when the number of variables is large
relative to the number of observations, or when multicollinearity is
present. The regularization helps with variable selection and prevents
overfitting.
}
\examples{
# Example 1: LASSO penalized Cox regression
library(survival)
library(glmnet)

penalizedcox(
    data = lung_data,
    elapsedtime = "time",
    outcome = "status",
    outcomeLevel = "2",
    predictors = c("age", "sex", "ph.ecog", "ph.karno"),
    penalty_type = "lasso",
    cv_folds = 10
)

# Example 2: Elastic Net with variable selection
penalizedcox(
    data = genomic_data,
    elapsedtime = "survival_time",
    outcome = "event",
    outcomeLevel = "1",
    predictors = c("gene1", "gene2", "gene3", "gene4"),
    penalty_type = "elastic_net",
    alpha = 0.5,
    lambda_selection = "1se",
    variable_selection = TRUE
)

}
