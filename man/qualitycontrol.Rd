% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/qualitycontrol.h.R
\name{qualitycontrol}
\alias{qualitycontrol}
\title{Laboratory Quality Control Statistics}
\usage{
qualitycontrol(
  data,
  measurement_var,
  time_var,
  control_level,
  batch_var,
  analysis_type = "control_charts",
  control_chart_type = "all_charts",
  target_value,
  target_sd,
  control_limits_method = "classical",
  custom_lower_limit,
  custom_upper_limit,
  cusum_target,
  cusum_k_value = 0.5,
  cusum_h_value = 5,
  ewma_lambda = 0.2,
  sigma_calculation = "total_error",
  allowable_error = 10,
  reference_method = "nonparametric",
  reference_percentile = "95",
  outlier_detection = "tukey",
  pt_target_value,
  pt_acceptable_range,
  validation_components = "comprehensive",
  precision_design = "ep5_a3",
  replicate_days = 20,
  replicates_per_day = 2,
  confidence_level = 0.95,
  westgard_rules = TRUE,
  trend_analysis = TRUE,
  capability_analysis = FALSE,
  generate_plots = TRUE
)
}
\arguments{
\item{data}{the data as a data frame}

\item{measurement_var}{Continuous variable containing laboratory
measurement values for quality control analysis}

\item{time_var}{Optional time variable for temporal control chart analysis
(sequence number, date, time)}

\item{control_level}{Optional variable indicating control material level
(e.g., Level 1, Level 2, Normal, Pathological)}

\item{batch_var}{Optional batch or lot identifier for batch-to-batch
variation analysis}

\item{analysis_type}{Primary type of quality control analysis to perform}

\item{control_chart_type}{Type of control chart to generate for quality
control monitoring}

\item{target_value}{Target value for control charts and sigma metrics (if
known)}

\item{target_sd}{Target standard deviation for sigma metrics (if known)}

\item{control_limits_method}{Method for calculating control chart limits}

\item{custom_lower_limit}{Custom lower control limit (when using custom
limits method)}

\item{custom_upper_limit}{Custom upper control limit (when using custom
limits method)}

\item{cusum_target}{Target value for CUSUM chart (defaults to sample mean)}

\item{cusum_k_value}{CUSUM slack parameter k (typically 0.5 * sigma)}

\item{cusum_h_value}{CUSUM decision interval h (typically 4-5 * sigma)}

\item{ewma_lambda}{EWMA smoothing parameter lambda (0 < λ ≤ 1)}

\item{sigma_calculation}{Method for calculating laboratory sigma metrics}

\item{allowable_error}{Total allowable error percentage for sigma metrics
calculation}

\item{reference_method}{Statistical method for establishing reference
intervals}

\item{reference_percentile}{Percentile range for reference interval
calculation}

\item{outlier_detection}{Method for detecting and handling outliers in
reference interval estimation}

\item{pt_target_value}{Target value for proficiency testing analysis}

\item{pt_acceptable_range}{Acceptable range for proficiency testing (±\\% or
± absolute units)}

\item{validation_components}{Components of analytical method validation to
assess}

\item{precision_design}{Design for precision assessment following
laboratory standards}

\item{replicate_days}{Number of days for precision study (CLSI EP5-A3
recommends ≥20 days)}

\item{replicates_per_day}{Number of replicates per day for precision study}

\item{confidence_level}{Confidence level for statistical calculations and
intervals}

\item{westgard_rules}{Apply Westgard multi-rule quality control decision
criteria}

\item{trend_analysis}{Perform statistical trend analysis for systematic
changes}

\item{capability_analysis}{Calculate process capability indices (Cp, Cpk,
Pp, Ppk)}

\item{generate_plots}{Generate comprehensive quality control visualization
plots}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$instructions} \tab \tab \tab \tab \tab a html \cr
\code{results$descriptiveStats} \tab \tab \tab \tab \tab a table \cr
\code{results$controlChartsResults} \tab \tab \tab \tab \tab a table \cr
\code{results$sigmaMetrics} \tab \tab \tab \tab \tab a table \cr
\code{results$methodValidation} \tab \tab \tab \tab \tab a table \cr
\code{results$precisionComponents} \tab \tab \tab \tab \tab a table \cr
\code{results$referenceIntervals} \tab \tab \tab \tab \tab a table \cr
\code{results$proficiencyTesting} \tab \tab \tab \tab \tab a table \cr
\code{results$westgardRules} \tab \tab \tab \tab \tab a table \cr
\code{results$trendAnalysis} \tab \tab \tab \tab \tab a table \cr
\code{results$capabilityAnalysis} \tab \tab \tab \tab \tab a table \cr
\code{results$outlierAnalysis} \tab \tab \tab \tab \tab a table \cr
\code{results$qualityGoals} \tab \tab \tab \tab \tab a table \cr
\code{results$controlChart} \tab \tab \tab \tab \tab an image \cr
\code{results$sigmaMetricsPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$methodValidationPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$referenceIntervalsPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$trendPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$methodExplanation} \tab \tab \tab \tab \tab a html \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$descriptiveStats$asDF}

\code{as.data.frame(results$descriptiveStats)}
}
\description{
Comprehensive laboratory quality control statistics including control
charts (Shewhart, CUSUM, EWMA),  sigma metrics, method validation
protocols, and reference interval establishment for clinical laboratory
management.
}
\examples{
data \\%>\\%
qualitycontrol(
    measurement_var = "measurement",
    analysis_type = "control_charts",
    control_chart_type = "all_charts"
)

}
