% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/survival.h.R
\name{survival}
\alias{survival}
\title{Survival Analysis}
\usage{
survival(
  data,
  elapsedtime,
  tint = FALSE,
  dxdate,
  fudate,
  explanatory,
  outcome,
  outcomeLevel,
  dod,
  dooc,
  awd,
  awod,
  analysistype = "overall",
  cutp = "12, 36, 60",
  timetypedata = "ymd",
  timetypeoutput = "months",
  uselandmark = FALSE,
  landmark = 3,
  pw = FALSE,
  padjustmethod = "holm",
  ph_cox = FALSE,
  sc = FALSE,
  kmunicate = FALSE,
  ce = FALSE,
  ch = FALSE,
  endplot = 60,
  ybegin_plot = 0,
  yend_plot = 1,
  byplot = 12,
  multievent = FALSE,
  ci95 = FALSE,
  risktable = FALSE,
  censored = FALSE,
  pplot = FALSE,
  medianline = "none",
  person_time = FALSE,
  time_intervals = "12, 36, 60",
  rate_multiplier = 100,
  rmst_analysis = FALSE,
  rmst_tau = 0,
  stratified_cox = FALSE,
  strata_variable,
  residual_diagnostics = FALSE,
  loglog = FALSE,
  showExplanations = FALSE,
  showSummaries = FALSE,
  use_parametric = FALSE,
  parametric_distribution = "weibull",
  parametric_covariates = TRUE,
  spline_knots = 3,
  spline_scale = "hazard",
  parametric_extrapolation = FALSE,
  extrapolation_time = 0,
  parametric_diagnostics = TRUE,
  compare_distributions = FALSE,
  parametric_survival_plots = FALSE,
  hazard_plots = FALSE
)
}
\arguments{
\item{data}{The data as a data frame.}

\item{elapsedtime}{The time elapsed from the start of the study to the
event or censoring.}

\item{tint}{If the time is in date format, select this option to calculate
the survival time. The time will be calculated as the difference between
the event date and the diagnosis date. If the follow-up date is available,
the time will be  calculated as the difference between the event date and
the follow-up date.}

\item{dxdate}{The date of diagnosis. If the time is in date format, the
time will be calculated as the difference between the event date and the
diagnosis date.}

\item{fudate}{The date of follow-up. If the time is in date format, the
time will be calculated as the difference between the event date and the
follow-up date.}

\item{explanatory}{The explanatory variable that will be used to compare
the survival times of different groups.}

\item{outcome}{The outcome variable that will be used to compare the
survival times of different groups.}

\item{outcomeLevel}{The level of the outcome variable that will be used as
the event level.}

\item{dod}{.}

\item{dooc}{.}

\item{awd}{.}

\item{awod}{.}

\item{analysistype}{.}

\item{cutp}{.}

\item{timetypedata}{select the time type in data}

\item{timetypeoutput}{select the time type in output}

\item{uselandmark}{.}

\item{landmark}{.}

\item{pw}{.}

\item{padjustmethod}{.}

\item{ph_cox}{.}

\item{sc}{.}

\item{kmunicate}{.}

\item{ce}{.}

\item{ch}{.}

\item{endplot}{.}

\item{ybegin_plot}{.}

\item{yend_plot}{.}

\item{byplot}{.}

\item{multievent}{.}

\item{ci95}{.}

\item{risktable}{.}

\item{censored}{.}

\item{pplot}{.}

\item{medianline}{If true, displays a line indicating the median survival
time on the survival plot.}

\item{person_time}{Enable this option to calculate and display person-time
metrics, including total follow-up time and incidence rates. These metrics
help quantify the rate of events per unit of time in your study population.}

\item{time_intervals}{Specify time intervals for stratified person-time
analysis. Enter a  comma-separated list of time points to create intervals.
For example,  "12, 36, 60" will create intervals 0-12, 12-36, 36-60, and
60+.}

\item{rate_multiplier}{Specify the multiplier for incidence rates (e.g.,
100 for rates per 100 person-years, 1000 for rates per 1000 person-years).}

\item{rmst_analysis}{Calculate Restricted Mean Survival Time, which
represents the average survival time up to a specified time horizon. Useful
when median survival cannot be estimated or for comparing survival over a
specific time period.}

\item{rmst_tau}{Time horizon for RMST calculation. If 0 or not specified,
uses the 75th percentile of follow-up time. Should be specified in the same
units as the survival time.}

\item{stratified_cox}{Perform stratified Cox regression to account for
non-proportional hazards or unmeasured confounders that affect baseline
hazard.}

\item{strata_variable}{Variable to use for stratification in Cox
regression. This variable should represent groups with different baseline
hazards.}

\item{residual_diagnostics}{Calculate and display Cox model residuals for
diagnostic purposes, including Martingale, deviance, score, and Schoenfeld
residuals.}

\item{loglog}{Display log-log survival plot for visual assessment of
proportional hazards assumption. Parallel lines suggest proportional
hazards.}

\item{showExplanations}{Display detailed explanations for each analysis
component to help interpret the statistical methods and results.}

\item{showSummaries}{Display natural language summaries alongside tables
and plots. These summaries provide plain-language interpretations of the
statistical results. Turn off to reduce visual clutter when summaries are
not needed.}

\item{use_parametric}{Enable parametric survival modeling using flexsurv
package. Provides alternative to Cox regression with explicit hazard
functions and extrapolation capabilities beyond observed follow-up.}

\item{parametric_distribution}{Choose parametric distribution for survival
modeling. Weibull is most common, while splines provide flexible hazard
shapes. Different distributions make different assumptions about hazard
function shape.}

\item{parametric_covariates}{Include explanatory variables as covariates in
parametric models, similar to Cox regression but with parametric baseline
hazard.}

\item{spline_knots}{Number of knots for spline-based models. More knots
allow more flexible hazard shapes but may lead to overfitting. Used only
for Royston-Parmar splines.}

\item{spline_scale}{Scale for spline-based models. Hazard scale models log
hazard function, odds scale models log cumulative odds, normal scale models
normal scores.}

\item{parametric_extrapolation}{Perform survival extrapolation beyond
observed follow-up time using fitted parametric models. Useful for health
economic modeling and long-term prognosis assessment.}

\item{extrapolation_time}{Maximum time for survival extrapolation (in same
units as survival time). If 0, uses 2x maximum observed time. Use with
caution as extrapolation relies on distributional assumptions.}

\item{parametric_diagnostics}{Display model diagnostics including AIC/BIC
for model comparison, residual plots, and goodness-of-fit statistics for
parametric models.}

\item{compare_distributions}{Fit and compare multiple parametric
distributions using AIC/BIC criteria. Helps select the best-fitting
distribution for your data.}

\item{parametric_survival_plots}{Generate survival curves from fitted
parametric models with confidence intervals. Compare with Kaplan-Meier
estimates for model validation.}

\item{hazard_plots}{Plot estimated hazard functions from parametric models.
Shows how instantaneous risk changes over time for different distributions.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$subtitle} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$todo} \tab \tab \tab \tab \tab a html \cr
\code{results$medianSurvivalHeading} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$medianSummary} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$medianTable} \tab \tab \tab \tab \tab a table \cr
\code{results$medianSurvivalHeading3} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$medianSurvivalExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$coxRegressionHeading} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$coxSummary} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$coxTable} \tab \tab \tab \tab \tab a table \cr
\code{results$tCoxtext2} \tab \tab \tab \tab \tab a html \cr
\code{results$coxRegressionHeading3} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$coxRegressionExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$cox_ph} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$plot8} \tab \tab \tab \tab \tab an image \cr
\code{results$survivalTablesHeading} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$survTableSummary} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$survTable} \tab \tab \tab \tab \tab a table \cr
\code{results$survivalTablesHeading3} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$survivalTablesExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$personTimeHeading} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$personTimeTable} \tab \tab \tab \tab \tab a table \cr
\code{results$personTimeSummary} \tab \tab \tab \tab \tab a html \cr
\code{results$personTimeExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$rmstHeading} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$rmstTable} \tab \tab \tab \tab \tab a table \cr
\code{results$rmstSummary} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$rmstExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$residualDiagnosticsExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$residualsTable} \tab \tab \tab \tab \tab a table \cr
\code{results$survivalExport} \tab \tab \tab \tab \tab an output \cr
\code{results$survivalExportSummary} \tab \tab \tab \tab \tab a html \cr
\code{results$pairwiseComparisonHeading} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$pairwiseTable} \tab \tab \tab \tab \tab a table \cr
\code{results$pairwiseSummary} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$plot} \tab \tab \tab \tab \tab an image \cr
\code{results$plot2} \tab \tab \tab \tab \tab an image \cr
\code{results$plot3} \tab \tab \tab \tab \tab an image \cr
\code{results$plot6} \tab \tab \tab \tab \tab an image \cr
\code{results$survivalPlotsHeading3} \tab \tab \tab \tab \tab a preformatted \cr
\code{results$survivalPlotsExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$plot7} \tab \tab \tab \tab \tab an image \cr
\code{results$residualsPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$calculatedtime} \tab \tab \tab \tab \tab an output \cr
\code{results$outcomeredefined} \tab \tab \tab \tab \tab an output \cr
\code{results$parametricModelComparison} \tab \tab \tab \tab \tab a table \cr
\code{results$parametricModelSummary} \tab \tab \tab \tab \tab a table \cr
\code{results$parametricDiagnostics} \tab \tab \tab \tab \tab a html \cr
\code{results$parametricSurvivalPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$hazardFunctionPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$extrapolationPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$extrapolationTable} \tab \tab \tab \tab \tab a table \cr
\code{results$parametricModelsExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$clinicalGlossaryExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$clinicalInterpretationExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$copyReadySentencesExplanation} \tab \tab \tab \tab \tab a html \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$medianTable$asDF}

\code{as.data.frame(results$medianTable)}
}
\description{
Performs univariate survival analysis comparing survival between groups.
This analysis  calculates person-time follow-up for each group and uses
this to derive accurate  survival estimates and incidence rates that
account for varying follow-up durations  across groups. The Cox
proportional hazards model incorporates person-time by modeling  the hazard
function, which represents the instantaneous event rate per unit of
person-time.
}
\examples{
# example will be added

}
