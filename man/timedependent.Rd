% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/timedependent.h.R
\name{timedependent}
\alias{timedependent}
\title{Time-Dependent Covariates & ROC Analysis}
\usage{
timedependent(
  data,
  id,
  start_time,
  stop_time,
  event,
  time_dependent_vars,
  baseline_vars,
  perform_landmark = TRUE,
  landmark_times = "6,12,24",
  prediction_window = 12,
  time_dependent_roc = TRUE,
  roc_times = "1,2,3,5",
  roc_method = "incident_dynamic",
  optimal_cutpoint = TRUE,
  cutpoint_method = "youden",
  model_type = "extended_cox",
  time_transform = "none",
  test_proportional_hazards = TRUE,
  schoenfeld_transform = "km",
  internal_validation = TRUE,
  cv_folds = 5,
  bootstrap_validation = FALSE,
  n_bootstrap = 100,
  compare_models = FALSE,
  comparison_metric = "iauc",
  plot_time_varying_effects = TRUE,
  plot_roc_curves = TRUE,
  plot_auc_trajectory = TRUE,
  plot_cutpoint_stability = TRUE,
  plot_landmark_predictions = TRUE,
  plot_schoenfeld_residuals = TRUE,
  confidence_level = 0.95,
  decimals = 3,
  export_predictions = FALSE,
  export_roc_data = FALSE
)
}
\arguments{
\item{data}{The data as a data frame (can be in counting process format).}

\item{id}{Patient ID variable}

\item{start_time}{Beginning of time interval (tstart)}

\item{stop_time}{End of time interval (tstop)}

\item{event}{Event status variable}

\item{time_dependent_vars}{Time-varying predictors}

\item{baseline_vars}{Time-fixed predictors}

\item{perform_landmark}{Enable landmark analysis}

\item{landmark_times}{Landmark time points}

\item{prediction_window}{Prediction horizon from landmark}

\item{time_dependent_roc}{Enable TD-ROC analysis}

\item{roc_times}{ROC assessment times}

\item{roc_method}{TD-ROC approach}

\item{optimal_cutpoint}{Optimal threshold selection}

\item{cutpoint_method}{Cutpoint optimization approach}

\item{model_type}{Model specification}

\item{time_transform}{Time function transformation}

\item{test_proportional_hazards}{PH assumption testing}

\item{schoenfeld_transform}{Residual test transformation}

\item{internal_validation}{Cross-validation assessment}

\item{cv_folds}{CV fold specification}

\item{bootstrap_validation}{Bootstrap assessment}

\item{n_bootstrap}{Bootstrap iterations}

\item{compare_models}{Model comparison}

\item{comparison_metric}{Comparison measure}

\item{plot_time_varying_effects}{Time-varying coefficient plots}

\item{plot_roc_curves}{TD-ROC visualization}

\item{plot_auc_trajectory}{AUC evolution plot}

\item{plot_cutpoint_stability}{Cutpoint trajectory plot}

\item{plot_landmark_predictions}{Landmark prediction plots}

\item{plot_schoenfeld_residuals}{Residual diagnostic plots}

\item{confidence_level}{CI level}

\item{decimals}{Output precision}

\item{export_predictions}{Save predictions}

\item{export_roc_data}{Save ROC results}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$todo} \tab \tab \tab \tab \tab a html \cr
\code{results$model_summary} \tab \tab \tab \tab \tab a html \cr
\code{results$cox_results} \tab \tab \tab \tab \tab a table \cr
\code{results$time_varying_effects} \tab \tab \tab \tab \tab a table \cr
\code{results$landmark_results} \tab \tab \tab \tab \tab a table \cr
\code{results$roc_results} \tab \tab \tab \tab \tab a table \cr
\code{results$model_comparison} \tab \tab \tab \tab \tab a table \cr
\code{results$validation_results} \tab \tab \tab \tab \tab a table \cr
\code{results$time_varying_plot} \tab \tab \tab \tab \tab an image \cr
\code{results$roc_curves_plot} \tab \tab \tab \tab \tab an image \cr
\code{results$auc_trajectory_plot} \tab \tab \tab \tab \tab an image \cr
\code{results$cutpoint_stability_plot} \tab \tab \tab \tab \tab an image \cr
\code{results$landmark_predictions_plot} \tab \tab \tab \tab \tab an image \cr
\code{results$schoenfeld_plot} \tab \tab \tab \tab \tab an image \cr
\code{results$interpretation} \tab \tab \tab \tab \tab a html \cr
\code{results$recommendations} \tab \tab \tab \tab \tab a html \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$cox_results$asDF}

\code{as.data.frame(results$cox_results)}
}
\description{
Analysis of time-dependent covariates and time-varying ROC curves for
survival data.
Handles covariates that change over time, landmark analysis, and dynamic
prediction
accuracy assessment through time-dependent AUC and optimal cutpoint
selection.
}
\examples{
\donttest{
# Example: Time-varying biomarker effects
timedependent(
    data = biomarker_data,
    id = patient_id,
    start_time = tstart,
    stop_time = tstop,
    event = status,
    time_dependent_vars = c("biomarker_level", "treatment_status"),
    baseline_vars = c("age", "sex"),
    landmark_times = c(6, 12, 24),
    roc_times = c(1, 2, 3, 5)
)
}
}
