% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/timedependentdca.h.R
\name{timedependentdca}
\alias{timedependentdca}
\title{Time-Dependent Decision Curve Analysis}
\usage{
timedependentdca(
  data,
  time,
  event,
  predictor,
  time_points = "365, 730, 1095",
  threshold_range_min = 0.01,
  threshold_range_max = 0.99,
  threshold_steps = 100,
  reference_strategy = "both",
  estimate_survival = "kaplan_meier",
  smoothing = FALSE,
  confidence_intervals = FALSE,
  bootstrap_samples = 500,
  confidence_level = 0.95,
  plot_net_benefit = TRUE,
  plot_by_timepoint = FALSE,
  plot_interventions_avoided = FALSE,
  random_seed = 42
)
}
\arguments{
\item{data}{the data as a data frame}

\item{time}{a string naming the time-to-event variable}

\item{event}{a string naming the event indicator (1=event, 0=censored)}

\item{predictor}{a string naming the risk score or prediction variable}

\item{time_points}{comma-separated time points at which to calculate net
benefit (e.g., "365, 730" for 1 and 2 years)}

\item{threshold_range_min}{minimum threshold probability for decision curve}

\item{threshold_range_max}{maximum threshold probability for decision curve}

\item{threshold_steps}{number of threshold probabilities to evaluate}

\item{reference_strategy}{reference strategy for comparison}

\item{estimate_survival}{method for estimating event probabilities from
predictor}

\item{smoothing}{apply LOESS smoothing to decision curves for visualization}

\item{confidence_intervals}{calculate confidence intervals for net benefit
(via bootstrap)}

\item{bootstrap_samples}{number of bootstrap samples for CI calculation}

\item{confidence_level}{confidence level for intervals (default: 0.95 for
95\\% CI)}

\item{plot_net_benefit}{plot net benefit curves across threshold
probabilities}

\item{plot_by_timepoint}{create separate plots for each time point (vs.
overlay)}

\item{plot_interventions_avoided}{plot number of interventions avoided per
100 patients}

\item{random_seed}{random seed for reproducible bootstrap sampling}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$instructionsText} \tab \tab \tab \tab \tab a html \cr
\code{results$netBenefitTable} \tab \tab \tab \tab \tab a table \cr
\code{results$summaryTable} \tab \tab \tab \tab \tab a table \cr
\code{results$interventionsTable} \tab \tab \tab \tab \tab a table \cr
\code{results$netBenefitPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$interventionsPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$interpretationText} \tab \tab \tab \tab \tab a html \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$netBenefitTable$asDF}

\code{as.data.frame(results$netBenefitTable)}
}
\description{
Time-Dependent Decision Curve Analysis (tdDCA) extends standard DCA to
evaluate the clinical utility of prognostic models with time-to-event
outcomes.
}
\details{
This method calculates net benefit at specific time points, accounting for
censoring and time-varying risk predictions. It's essential for evaluating
survival models, recurrence prediction models, and other longitudinal
outcomes.

Common applications: Serial biopsy surveillance, recurrence vs death
prediction,
time-varying treatment decisions.
}
\examples{
# Example with survival outcome
library(survival)
data <- lung

timedependentdca(
  data = data,
  time = 'time',
  event = 'status',
  predictor = 'ph.ecog',
  time_points = c(180, 365, 730),
  reference_strategy = 'treat_all'
)

}
