% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/coxphw.h.R
\name{coxphw}
\alias{coxphw}
\title{Weighted Cox Regression}
\usage{
coxphw(
  data,
  elapsedtime,
  outcome,
  covariates,
  outcomeLevel = "1",
  weight_method = "average",
  alpha = 0.5,
  offset_variable,
  stratify_variable,
  cluster_variable,
  confidence_level = 0.95,
  max_iterations = 100,
  convergence_tolerance = 1e-06,
  bootstrap_ci = FALSE,
  bootstrap_samples = 500,
  show_model_summary = TRUE,
  show_coefficients = TRUE,
  show_weights = TRUE,
  show_diagnostics = TRUE,
  show_comparison = TRUE,
  show_weight_plots = TRUE,
  show_residual_plots = TRUE,
  show_survival_plots = TRUE,
  show_forest_plot = TRUE,
  showSummaries = FALSE,
  showExplanations = FALSE
)
}
\arguments{
\item{data}{the data as a data frame}

\item{elapsedtime}{Survival time or follow-up duration variable}

\item{outcome}{Event indicator variable (0/1, FALSE/TRUE, or factor)}

\item{covariates}{Predictor variables for the Cox model}

\item{outcomeLevel}{Level of outcome variable indicating event occurrence}

\item{weight_method}{Weighting method for the partial likelihood}

\item{alpha}{Weight parameter (0=log-rank, 0.5=average, 1=Breslow)}

\item{offset_variable}{Optional offset variable for the model}

\item{stratify_variable}{Variable for stratified analysis}

\item{cluster_variable}{Variable defining clusters for robust variance}

\item{confidence_level}{Confidence level for intervals}

\item{max_iterations}{Maximum number of iterations}

\item{convergence_tolerance}{Convergence tolerance for estimation}

\item{bootstrap_ci}{Compute bootstrap confidence intervals}

\item{bootstrap_samples}{Number of bootstrap samples}

\item{show_model_summary}{Display comprehensive model summary}

\item{show_coefficients}{Display coefficient estimates table}

\item{show_weights}{Display weight distribution analysis}

\item{show_diagnostics}{Display model diagnostics}

\item{show_comparison}{Compare weighted vs standard Cox models}

\item{show_weight_plots}{Display weight distribution plots}

\item{show_residual_plots}{Display residual diagnostic plots}

\item{show_survival_plots}{Display survival curves}

\item{show_forest_plot}{Display forest plot of hazard ratios}

\item{showSummaries}{Generate natural language summaries}

\item{showExplanations}{Show detailed methodology explanations}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$modelSummary} \tab \tab \tab \tab \tab a table \cr
\code{results$coefficients} \tab \tab \tab \tab \tab a table \cr
\code{results$weightAnalysis} \tab \tab \tab \tab \tab a table \cr
\code{results$diagnostics} \tab \tab \tab \tab \tab a table \cr
\code{results$modelComparison} \tab \tab \tab \tab \tab a table \cr
\code{results$convergenceInfo} \tab \tab \tab \tab \tab a table \cr
\code{results$rareEventAnalysis} \tab \tab \tab \tab \tab a table \cr
\code{results$weightPlots} \tab \tab \tab \tab \tab an image \cr
\code{results$residualPlots} \tab \tab \tab \tab \tab an image \cr
\code{results$survivalPlots} \tab \tab \tab \tab \tab an image \cr
\code{results$forestPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$comparisonPlots} \tab \tab \tab \tab \tab an image \cr
\code{results$summaryTable} \tab \tab \tab \tab \tab a html \cr
\code{results$methodExplanation} \tab \tab \tab \tab \tab a html \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$modelSummary$asDF}

\code{as.data.frame(results$modelSummary)}
}
\description{
Implements weighted Cox proportional hazards regression models specifically
designed for rare events and imbalanced survival data. Uses average hazard
weights to improve estimation accuracy when events are rare or covariates
are imbalanced, providing more reliable hazard ratios and confidence
intervals in challenging clinical research scenarios.
}
\examples{
# Example: Weighted Cox regression for rare events
library(survival)
library(coxphw)

coxphw(
    data = rare_event_data,
    elapsedtime = "time",
    outcome = "status",
    outcomeLevel = "1",
    covariates = c("age", "treatment", "biomarker"),
    weight_method = "average",
    alpha = 0.5
)

}
