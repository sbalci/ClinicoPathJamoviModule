% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/decisioncurve.h.R
\name{decisioncurve}
\alias{decisioncurve}
\title{Decision Curve Analysis}
\usage{
decisioncurve(
  data,
  outcome,
  outcomePositive,
  models,
  modelNames = "",
  thresholdRange = "clinical",
  thresholdMin = 0.05,
  thresholdMax = 0.5,
  thresholdStep = 0.01,
  showTable = TRUE,
  selectedThresholds = "0.05, 0.10, 0.15, 0.20, 0.25, 0.30",
  showPlot = TRUE,
  plotStyle = "standard",
  showReferenceLinesLabels = TRUE,
  highlightRange = FALSE,
  highlightMin = 0.1,
  highlightMax = 0.3,
  calculateClinicalImpact = FALSE,
  populationSize = 1000,
  showInterventionAvoided = FALSE,
  confidenceIntervals = FALSE,
  bootReps = 1000,
  ciLevel = 0.95,
  showOptimalThreshold = TRUE,
  compareModels = FALSE,
  weightedAUC = FALSE,
  clinicalDecisionRule = FALSE,
  decisionRuleThreshold = 0.15,
  decisionRuleLabel = "Clinical Rule"
)
}
\arguments{
\item{data}{The data as a data frame.}

\item{outcome}{Binary outcome variable (0/1 or FALSE/TRUE). This represents
the condition or event you want to predict.}

\item{outcomePositive}{Which level of the outcome variable represents the
positive case (presence of condition/event).}

\item{models}{Variables representing predicted probabilities or risk scores
from different models. Can include multiple models for comparison.}

\item{modelNames}{Optional comma-separated list of names for the models. If
not provided, variable names will be used.}

\item{thresholdRange}{Range of threshold probabilities to evaluate.}

\item{thresholdMin}{Minimum threshold probability when using custom range.}

\item{thresholdMax}{Maximum threshold probability when using custom range.}

\item{thresholdStep}{Step size between threshold probabilities.}

\item{showTable}{Display table with net benefit values at selected
thresholds.}

\item{selectedThresholds}{Comma-separated list of threshold probabilities
to display in table.}

\item{showPlot}{Display the decision curve plot.}

\item{plotStyle}{Style of the decision curve plot.}

\item{showReferenceLinesLabels}{Show labels for "Treat All" and "Treat
None" reference lines.}

\item{highlightRange}{Highlight a clinically relevant threshold range on
the plot.}

\item{highlightMin}{Minimum threshold for highlighted range.}

\item{highlightMax}{Maximum threshold for highlighted range.}

\item{calculateClinicalImpact}{Calculate clinical impact metrics (number
needed to screen, etc.).}

\item{populationSize}{Population size for calculating clinical impact
metrics.}

\item{showInterventionAvoided}{Show how many unnecessary interventions are
avoided compared to treat-all.}

\item{confidenceIntervals}{Calculate bootstrap confidence intervals for net
benefit curves.}

\item{bootReps}{Number of bootstrap replications for confidence intervals.}

\item{ciLevel}{Confidence level for bootstrap confidence intervals.}

\item{showOptimalThreshold}{Identify and display optimal threshold
probabilities for each model.}

\item{compareModels}{Calculate statistical tests for comparing model
performance.}

\item{weightedAUC}{Calculate weighted area under the decision curve.}

\item{clinicalDecisionRule}{Add clinical decision rule analysis and
comparison with models.}

\item{decisionRuleThreshold}{Threshold probability for clinical decision
rule (e.g., "screen if risk > 15\\%").}

\item{decisionRuleLabel}{Label for the clinical decision rule in plots and
tables.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$instructions} \tab \tab \tab \tab \tab a html \cr
\code{results$procedureNotes} \tab \tab \tab \tab \tab a html \cr
\code{results$resultsTable} \tab \tab \tab \tab \tab a table \cr
\code{results$optimalTable} \tab \tab \tab \tab \tab a table \cr
\code{results$clinicalImpactTable} \tab \tab \tab \tab \tab a table \cr
\code{results$comparisonTable} \tab \tab \tab \tab \tab a table \cr
\code{results$weightedAUCTable} \tab \tab \tab \tab \tab a table \cr
\code{results$dcaPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$clinicalImpactPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$interventionsAvoidedPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$summaryText} \tab \tab \tab \tab \tab a html \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$resultsTable$asDF}

\code{as.data.frame(results$resultsTable)}
}
\description{
Decision Curve Analysis for evaluating the clinical utility of prediction
models and diagnostic tests. Calculates net benefit across threshold
probabilities to determine if using a model provides more benefit than
default strategies.
}
\examples{
\donttest{
# example will be added
}
}
