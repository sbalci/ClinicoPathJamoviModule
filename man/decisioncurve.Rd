% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/decisioncurve.h.R
\name{decisioncurve}
\alias{decisioncurve}
\title{Decision Curve Analysis}
\usage{
decisioncurve(
  data,
  outcome = NULL,
  outcomePositive,
  models,
  modelNames = "",
  thresholdRange = "clinical",
  thresholdMin = 0.05,
  thresholdMax = 0.5,
  thresholdStep = 0.01,
  showTable = FALSE,
  selectedThresholds = "0.05, 0.10, 0.15, 0.20, 0.25, 0.30",
  showPlot = FALSE,
  plotStyle = "standard",
  showReferenceLinesLabels = FALSE,
  highlightRange = FALSE,
  highlightMin = 0.1,
  highlightMax = 0.3,
  calculateClinicalImpact = FALSE,
  populationSize = 1000,
  showInterventionAvoided = FALSE,
  confidenceIntervals = FALSE,
  bootReps = 1000,
  ciLevel = 0.95,
  showOptimalThreshold = FALSE,
  compareModels = FALSE,
  weightedAUC = FALSE,
  clinicalDecisionRule = FALSE,
  decisionRuleVar = NULL,
  decisionRulePositive,
  decisionRuleLabel = "Clinical Rule",
  showClinicalImpactPlot = FALSE,
  showNetBenefitCI = FALSE,
  costBenefitAnalysis = FALSE,
  testCost = 100,
  treatmentCost = 1000,
  benefitCorrectTreatment = 10000,
  harmFalseTreatment = 500,
  showStandardizedNetBenefit = FALSE,
  multiModelComparison = FALSE,
  comparisonMethod = "bootstrap",
  showDecisionConsequences = FALSE,
  resourceUtilization = FALSE,
  showRelativeUtility = FALSE
)
}
\arguments{
\item{data}{The data as a data frame.}

\item{outcome}{Binary outcome variable (0/1 or FALSE/TRUE). This represents
the condition or event you want to predict.}

\item{outcomePositive}{Which level of the outcome variable represents the
positive case (presence of condition/event).}

\item{models}{Variables representing predicted probabilities or risk scores
from different models. Can include multiple models for comparison.}

\item{modelNames}{Optional comma-separated list of names for the models. If
not provided, variable names will be used.}

\item{thresholdRange}{Range of threshold probabilities to evaluate.}

\item{thresholdMin}{Minimum threshold probability when using custom range.}

\item{thresholdMax}{Maximum threshold probability when using custom range.}

\item{thresholdStep}{Step size between threshold probabilities.}

\item{showTable}{Display table with net benefit values at selected
thresholds.}

\item{selectedThresholds}{Comma-separated list of threshold probabilities
to display in table.}

\item{showPlot}{Display the decision curve plot.}

\item{plotStyle}{Style of the decision curve plot.}

\item{showReferenceLinesLabels}{Show labels for "Treat All" and "Treat
None" reference lines.}

\item{highlightRange}{Highlight a clinically relevant threshold range on
the plot.}

\item{highlightMin}{Minimum threshold for highlighted range.}

\item{highlightMax}{Maximum threshold for highlighted range.}

\item{calculateClinicalImpact}{Calculate clinical impact metrics (number
needed to screen, etc.).}

\item{populationSize}{Population size for calculating clinical impact
metrics.}

\item{showInterventionAvoided}{Show how many unnecessary interventions are
avoided compared to treat-all.}

\item{confidenceIntervals}{Calculate bootstrap confidence intervals for net
benefit curves.}

\item{bootReps}{Number of bootstrap replications for confidence intervals.}

\item{ciLevel}{Confidence level for bootstrap confidence intervals.}

\item{showOptimalThreshold}{Identify and display optimal threshold
probabilities for each model.}

\item{compareModels}{Calculate statistical tests for comparing model
performance.}

\item{weightedAUC}{Calculate weighted area under the decision curve.}

\item{clinicalDecisionRule}{Add clinical decision rule analysis and
comparison with models.}

\item{decisionRuleVar}{Binary variable indicating whether the clinical rule
recommends intervention (1/0 or yes/no).}

\item{decisionRulePositive}{Which level of the rule variable indicates a
positive recommendation (treat/intervene).}

\item{decisionRuleLabel}{Label for the clinical decision rule in plots and
tables.}

\item{showClinicalImpactPlot}{Display clinical impact plot showing number
of true positives and false positives per population unit across threshold
probabilities.}

\item{showNetBenefitCI}{Display confidence intervals around net benefit
curves in the decision curve plot.}

\item{costBenefitAnalysis}{Perform cost-benefit analysis incorporating
costs of testing, treatment, and outcomes.}

\item{testCost}{Cost per test or screening procedure (in currency units).}

\item{treatmentCost}{Cost of treatment or intervention (in currency units).}

\item{benefitCorrectTreatment}{Monetary benefit or QALY-equivalent value of
correctly treating a true positive.}

\item{harmFalseTreatment}{Cost or harm of treating a false positive
(unnecessary treatment).}

\item{showStandardizedNetBenefit}{Calculate and display standardized net
benefit (net benefit per 100 patients).}

\item{multiModelComparison}{Perform comprehensive pairwise comparisons
between all models with statistical tests.}

\item{comparisonMethod}{Statistical method for comparing decision curves
between models.}

\item{showDecisionConsequences}{Show detailed table of decision
consequences (TP, FP, TN, FN) at selected thresholds.}

\item{resourceUtilization}{Calculate resource utilization metrics (tests
performed, treatments administered).}

\item{showRelativeUtility}{Display relative utility curve comparing each
model to default strategies.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$instructions} \tab \tab \tab \tab \tab a html \cr
\code{results$procedureNotes} \tab \tab \tab \tab \tab a html \cr
\code{results$notices} \tab \tab \tab \tab \tab a html \cr
\code{results$resultsTable} \tab \tab \tab \tab \tab a table \cr
\code{results$optimalTable} \tab \tab \tab \tab \tab a table \cr
\code{results$clinicalImpactTable} \tab \tab \tab \tab \tab a table \cr
\code{results$comparisonTable} \tab \tab \tab \tab \tab a table \cr
\code{results$weightedAUCTable} \tab \tab \tab \tab \tab a table \cr
\code{results$dcaPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$clinicalImpactPlot} \tab \tab \tab \tab \tab Number of true/false positives per population unit \cr
\code{results$interventionsAvoidedPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$summaryText} \tab \tab \tab \tab \tab a html \cr
\code{results$costBenefitTable} \tab \tab \tab \tab \tab Cost-benefit analysis at selected thresholds \cr
\code{results$decisionConsequencesTable} \tab \tab \tab \tab \tab Detailed consequences at selected thresholds \cr
\code{results$modelComparisonEnhanced} \tab \tab \tab \tab \tab Pairwise statistical comparison of models \cr
\code{results$resourceUtilizationTable} \tab \tab \tab \tab \tab Resource utilization at selected thresholds \cr
\code{results$relativeUtilityPlot} \tab \tab \tab \tab \tab Relative utility compared to default strategies \cr
\code{results$standardizedNetBenefitPlot} \tab \tab \tab \tab \tab Net benefit per 100 patients \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$resultsTable$asDF}

\code{as.data.frame(results$resultsTable)}
}
\description{
Decision Curve Analysis for evaluating the clinical utility of prediction
models and diagnostic tests. Calculates net benefit across threshold
probabilities to determine if using a model provides more benefit than
default strategies.
}
\examples{
\donttest{
# example will be added
}
}
