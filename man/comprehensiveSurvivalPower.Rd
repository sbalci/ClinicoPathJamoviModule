% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/comprehensiveSurvivalPower.h.R
\name{comprehensiveSurvivalPower}
\alias{comprehensiveSurvivalPower}
\title{Comprehensive Survival Power Analysis (Expert)}
\usage{
comprehensiveSurvivalPower(
  data,
  method_category = "standard",
  calculation_type = "sample_size",
  statistical_method = "log_rank_schoenfeld",
  study_design = "simple",
  alpha = 0.05,
  power = 0.8,
  sample_size = 200,
  allocation_ratio = 1,
  hazard_ratio = 0.75,
  median_survival_control = 12,
  median_survival_treatment = 16,
  accrual_period = 24,
  follow_up_period = 36,
  dropout_rate = 0.05,
  event_rate = 0.6,
  competing_event_rate = 0.2,
  cumulative_incidence_control = 0.4,
  cumulative_incidence_treatment = 0.3,
  rmst_timepoint = 24,
  non_inferiority_margin = 1.25,
  superiority_test = FALSE,
  snp_maf = 0.2,
  genetic_model = "additive",
  number_of_looks = 1,
  spending_function = "lan_demets_obf",
  show_detailed_output = TRUE,
  show_sensitivity_analysis = FALSE,
  show_power_curves = FALSE,
  export_study_design = FALSE,
  genetic_effect_size = 1.5,
  cure_rate_control = 0,
  cure_rate_treatment = 0,
  survival_distribution = "exponential",
  accrual_distribution = "uniform",
  interim_futility_boundary = 0.2,
  binding_futility = FALSE,
  number_of_covariates = 2,
  covariate_correlation = 0,
  interaction_effect_size = 1,
  covariate_distribution = "normal",
  adjust_for_confounders = TRUE,
  show_method_comparison = FALSE
)
}
\arguments{
\item{data}{The data as a data frame (optional for power calculations).}

\item{method_category}{Choose the category of survival analysis method.
Standard methods include log-rank tests and Cox regression. Competing risks
methods analyze multiple event types. Advanced methods include RMST,
non-inferiority, and specialized approaches.}

\item{calculation_type}{Select what parameter to calculate. Most commonly
used are sample size (given desired power) and power (given available
sample size).}

\item{statistical_method}{Choose the specific statistical method. Available
options depend on the selected method category. Schoenfeld method is most
common for log-rank tests.}

\item{study_design}{Simple design assumes fixed follow-up time. Complex
design includes accrual period and variable follow-up. Sequential designs
allow interim analyses.}

\item{alpha}{Type I error rate. Standard values: 0.05 (two-sided) or 0.025
(one-sided). For non-inferiority trials, consider 0.025.}

\item{power}{Statistical power (probability of detecting true effect).
Standard values: 0.80 (80\\%) or 0.90 (90\\%). Higher power requires larger
sample sizes.}

\item{sample_size}{Total number of subjects in the study. Used when
calculating power or detectable effect size from a fixed sample size.}

\item{allocation_ratio}{Ratio of control to treatment group sizes. 1.0 =
equal allocation (1:1), 2.0 = twice as many controls (2:1). Equal
allocation is most efficient.}

\item{hazard_ratio}{Expected hazard ratio. Values < 1 indicate treatment
benefit. Common values: 0.75 (25\\% reduction), 0.67 (33\\% reduction), 0.50
(50\\% reduction).}

\item{median_survival_control}{Expected median survival time in control
group. Units should match your study timeline (months, years, etc.).}

\item{median_survival_treatment}{Expected median survival time in treatment
group. Should be longer than control group for beneficial treatments.}

\item{accrual_period}{Time period for patient recruitment (months/years).
Longer accrual periods allow for smaller sample sizes but extend study
duration.}

\item{follow_up_period}{Additional follow-up time after accrual completion.
Total study duration = accrual period + follow-up period.}

\item{dropout_rate}{Annual rate of loss to follow-up (0.05 = 5\\% per year).
Higher dropout rates require larger sample sizes to maintain power.}

\item{event_rate}{Proportion of subjects expected to experience the event
during study period. Used for simple design calculations.}

\item{competing_event_rate}{Proportion experiencing competing events (for
competing risks analysis). Should be less than primary event rate.}

\item{cumulative_incidence_control}{Expected cumulative incidence of
primary event in control group (for competing risks analysis).}

\item{cumulative_incidence_treatment}{Expected cumulative incidence of
primary event in treatment group (for competing risks analysis).}

\item{rmst_timepoint}{Time point for restricted mean survival time
analysis. Should be clinically meaningful and within study follow-up
period.}

\item{non_inferiority_margin}{Non-inferiority margin for hazard ratio. 1.25
means treatment is non-inferior if HR < 1.25 (25\\% increase in hazard is
acceptable).}

\item{superiority_test}{After establishing non-inferiority, test for
superiority. Requires hierarchical testing approach to control Type I
error.}

\item{snp_maf}{Minor allele frequency for SNP-based survival analysis.
Common range: 0.05-0.45.}

\item{genetic_model}{Genetic inheritance model for SNP analysis. Additive
model is most common.}

\item{number_of_looks}{Number of planned interim analyses for sequential
designs. More looks require larger sample sizes to maintain overall Type I
error.}

\item{spending_function}{Method for spending Type I error across interim
analyses. O'Brien-Fleming type preserves most alpha for final analysis.}

\item{show_detailed_output}{Display detailed calculation steps and
intermediate results.}

\item{show_sensitivity_analysis}{Perform sensitivity analysis varying key
parameters around their specified values (+/- 10\\%, 20\\%).}

\item{show_power_curves}{Generate plots showing power vs sample size,
effect size, or other parameters.}

\item{export_study_design}{Generate a comprehensive study design document
suitable for protocols and grant applications.}

\item{genetic_effect_size}{Genetic effect size for SNP-based survival
analysis. Represents the hazard ratio per copy of the risk allele.}

\item{cure_rate_control}{Proportion of subjects in control group who will
never experience the event (cure fraction). 0 = no cure, standard survival
model.}

\item{cure_rate_treatment}{Proportion of subjects in treatment group who
will never experience the event (cure fraction). Usually higher than
control group in effective treatments.}

\item{survival_distribution}{Assumed underlying survival distribution.
Exponential assumes constant hazard; Weibull allows increasing/decreasing
hazard; Piecewise allows complex patterns.}

\item{accrual_distribution}{Pattern of patient enrollment over time.
Uniform = constant rate; Increasing/Decreasing = linear change; Exponential
= curved pattern.}

\item{interim_futility_boundary}{Futility boundary for interim analyses in
sequential designs. Probability threshold below which study may be stopped
for futility.}

\item{binding_futility}{Whether futility boundaries are binding (must stop
if crossed) or non-binding (advisory only).}

\item{number_of_covariates}{Number of covariates to include in the Cox
regression model. More covariates generally require larger sample sizes.}

\item{covariate_correlation}{Correlation between covariates in the model.
Higher correlation reduces effective sample size and increases required
sample size.}

\item{interaction_effect_size}{Effect size for interaction between main
exposure and other covariates. Used when testing interaction effects.}

\item{covariate_distribution}{Distribution type for covariates in the
model. Affects power calculations for epidemiological studies.}

\item{adjust_for_confounders}{Whether to account for confounding variables
in power calculations. Generally recommended for epidemiological studies.}

\item{show_method_comparison}{Compare results across multiple power
calculation methods to assess robustness of sample size estimates.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$instructions} \tab \tab \tab \tab \tab a html \cr
\code{results$powerResults} \tab \tab \tab \tab \tab a table \cr
\code{results$methodDetails} \tab \tab \tab \tab \tab a table \cr
\code{results$studyDesign} \tab \tab \tab \tab \tab a html \cr
\code{results$assumptions} \tab \tab \tab \tab \tab a table \cr
\code{results$sensitivityTable} \tab \tab \tab \tab \tab a table \cr
\code{results$powerCurvePlot} \tab \tab \tab \tab \tab an image \cr
\code{results$effectSizePlot} \tab \tab \tab \tab \tab an image \cr
\code{results$methodComparison} \tab \tab \tab \tab \tab a table \cr
\code{results$competingRisksDetails} \tab \tab \tab \tab \tab a table \cr
\code{results$sequentialDesign} \tab \tab \tab \tab \tab a table \cr
\code{results$clinicalInterpretation} \tab \tab \tab \tab \tab a html \cr
\code{results$protocolSummary} \tab \tab \tab \tab \tab a html \cr
\code{results$regulatoryNotes} \tab \tab \tab \tab \tab a html \cr
\code{results$technicalDetails} \tab \tab \tab \tab \tab a html \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$powerResults$asDF}

\code{as.data.frame(results$powerResults)}
}
\description{
Comprehensive power analysis and sample size calculation for survival
studies and clinical trials. Unifies all survival power methods: standard
log-rank tests, Cox regression, competing risks, RMST-based analyses,
non-inferiority trials, and specialized methods. Supports both simple and
complex study designs with accrual periods, variable follow-up, and dropout
considerations. Essential for study planning, grant applications, and
regulatory submissions.
}
\examples{
# Standard log-rank test power calculation
comprehensiveSurvivalPower(
    method_category = "standard",
    calculation_type = "sample_size",
    statistical_method = "log_rank",
    hazard_ratio = 0.75,
    power = 0.80,
    alpha = 0.05,
    allocation_ratio = 1
)

# Competing risks power analysis
comprehensiveSurvivalPower(
    method_category = "competing_risks",
    calculation_type = "power",
    statistical_method = "grays_test",
    sample_size = 300,
    effect_size = 0.15,
    alpha = 0.05
)

# Advanced RMST-based analysis
comprehensiveSurvivalPower(
    method_category = "advanced",
    calculation_type = "effect_size",
    statistical_method = "rmst",
    sample_size = 400,
    power = 0.90,
    alpha = 0.05,
    rmst_timepoint = 24
)

}
