% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/lollipop.h.R
\name{lollipop}
\alias{lollipop}
\title{Lollipop Chart}
\usage{
lollipop(
  data,
  dep,
  group,
  useHighlight = FALSE,
  highlight = "",
  aggregation = "none",
  sortBy = "original",
  orientation = "vertical",
  showValues = FALSE,
  showMean = FALSE,
  colorScheme = "default",
  theme = "default",
  pointSize = 3,
  lineWidth = 1,
  lineType = "solid",
  baseline = 0,
  conditionalColor = FALSE,
  colorThreshold = 0,
  xlabel = "",
  ylabel = "",
  title = "",
  width = 800,
  height = 600
)
}
\arguments{
\item{data}{The data as a data frame.}

\item{dep}{The numeric variable for the values (lollipop heights/lengths).}

\item{group}{The categorical variable for grouping (lollipop categories).}

\item{useHighlight}{Enable or disable highlighting of specific levels in
the plot.}

\item{highlight}{Specific level to highlight in the plot with different
color/style. Only used when useHighlight is TRUE.}

\item{aggregation}{How to aggregate multiple values per group. Use 'Mean'
or 'Median' for typical clinical measurements, 'Sum' for counts. 'No
Aggregation' will over-plot if multiple rows per group exist.}

\item{sortBy}{How to sort the lollipops in the chart.}

\item{orientation}{Chart orientation (vertical or horizontal lollipops).}

\item{showValues}{Whether to display value labels on the lollipops.}

\item{showMean}{Whether to display a reference line at the mean value.}

\item{colorScheme}{Color scheme for the lollipops.}

\item{theme}{Overall theme/appearance of the plot.}

\item{pointSize}{Size of the lollipop points.}

\item{lineWidth}{Width of the lollipop stems.}

\item{lineType}{Type of line for lollipop stems.}

\item{baseline}{Starting point for lollipop stems (default is 0).}

\item{conditionalColor}{Enable coloring based on value thresholds.}

\item{colorThreshold}{Threshold value for conditional coloring (values
above/below get different colors).}

\item{xlabel}{Custom label for the x-axis.}

\item{ylabel}{Custom label for the y-axis.}

\item{title}{Custom title for the plot.}

\item{width}{Width of the plot in pixels.}

\item{height}{Height of the plot in pixels.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$todo} \tab \tab \tab \tab \tab a html \cr
\code{results$summary} \tab \tab \tab \tab \tab a table \cr
\code{results$plot} \tab \tab \tab \tab \tab an image \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$summary$asDF}

\code{as.data.frame(results$summary)}
}
\description{
Creates lollipop charts for categorical data visualization following R
Graph Gallery best practices, with emphasis on clinical applications like
patient timelines, treatment outcomes, and biomarker comparisons. Uses
geom_segment() and geom_point() for optimal visual presentation.
}
\examples{
# Load clinical lab data
clinical_lab_data <- read.csv("clinical_lab_data.csv")
# Or load from package: data("clinical_lab_data", package = "ClinicoPath")

# Basic lollipop chart - Hemoglobin by treatment group
lollipop(
    data = clinical_lab_data,
    dep = "hemoglobin",
    group = "treatment_group",
    sortBy = "value_desc",
    title = "Hemoglobin Levels by Treatment"
)

# Highlighting severe disease cases - Albumin levels
lollipop(
    data = clinical_lab_data,
    dep = "albumin",
    group = "disease_severity",
    useHighlight = TRUE,
    highlight = "Severe",
    orientation = "horizontal",
    showValues = TRUE,
    colorScheme = "clinical",
    title = "Albumin Levels by Disease Severity"
)

# Conditional coloring for abnormal creatinine (>1.2 mg/dL)
lollipop(
    data = clinical_lab_data,
    dep = "creatinine",
    group = "age_group",
    conditionalColor = TRUE,
    colorThreshold = 1.2,
    lineType = "dashed",
    sortBy = "value_asc",
    title = "Creatinine by Age (Threshold: 1.2 mg/dL)"
)

# Advanced - Platelet count with clinical baseline
lollipop(
    data = clinical_lab_data,
    dep = "platelet_count",
    group = "hospital",
    baseline = 150,  # Lower normal limit
    useHighlight = TRUE,
    highlight = "Hospital A",
    lineType = "dotted",
    pointSize = 4,
    showMean = TRUE,
    colorScheme = "clinical",
    title = "Platelet Counts by Hospital (Normal >150)"
)

# Compare WBC across multiple factors
lollipop(
    data = clinical_lab_data,
    dep = "white_blood_cells",
    group = "treatment_group",
    conditionalColor = TRUE,
    colorThreshold = 11,  # Upper normal limit
    orientation = "horizontal",
    sortBy = "value_desc",
    lineWidth = 2,
    title = "WBC Count by Treatment (ULN: 11)"
)

}
