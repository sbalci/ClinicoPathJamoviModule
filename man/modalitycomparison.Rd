% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/modalitycomparison.h.R
\name{modalitycomparison}
\alias{modalitycomparison}
\title{Modality Comparison Analysis}
\usage{
modalitycomparison(
  data,
  modality1_var,
  modality2_var,
  case_id = NULL,
  modality1_name = "Modality 1",
  modality2_name = "Modality 2",
  show_discordance_analysis = TRUE,
  score_categories = "auto",
  show_contingency_table = TRUE,
  calculate_weighted_kappa = FALSE,
  confidence_intervals = TRUE,
  directional_analysis = TRUE,
  low_end_focus = FALSE,
  show_plots = TRUE
)
}
\arguments{
\item{data}{The data as a data frame with paired observations from two
modalities.}

\item{modality1_var}{Variable containing scores/ratings from the first
modality (e.g., glass slides).}

\item{modality2_var}{Variable containing scores/ratings from the second
modality (e.g., digital images).}

\item{case_id}{Optional case identifier variable for tracking individual
cases.}

\item{modality1_name}{Descriptive name for the first modality (e.g., "Glass
Slides").}

\item{modality2_name}{Descriptive name for the second modality (e.g.,
"Digital Images").}

\item{show_discordance_analysis}{Perform detailed analysis of discordance
patterns between modalities.}

\item{score_categories}{Category system for score interpretation and
analysis.}

\item{show_contingency_table}{Display detailed cross-tabulation of scores
between modalities.}

\item{calculate_weighted_kappa}{Calculate weighted kappa for ordinal scores
(requires ordered categories).}

\item{confidence_intervals}{Calculate and display 95\\% confidence intervals
for agreement statistics.}

\item{directional_analysis}{Analyze systematic bias in one direction (e.g.,
higher scores on digital vs glass).}

\item{low_end_focus}{Perform specialized analysis focusing on agreement at
low expression levels (relevant for HER2-low/null distinction).}

\item{show_plots}{Generate scatter plots and agreement visualization.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$todo} \tab \tab \tab \tab \tab a html \cr
\code{results$overviewTable} \tab \tab \tab \tab \tab a table \cr
\code{results$agreementTable} \tab \tab \tab \tab \tab a table \cr
\code{results$contingencyTable} \tab \tab \tab \tab \tab a table \cr
\code{results$discordanceTable} \tab \tab \tab \tab \tab a table \cr
\code{results$directionalBiasTable} \tab \tab \tab \tab \tab a table \cr
\code{results$lowEndAnalysisTable} \tab \tab \tab \tab \tab a table \cr
\code{results$caseDetailTable} \tab \tab \tab \tab \tab a table \cr
\code{results$agreementPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$discordancePlot} \tab \tab \tab \tab \tab an image \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$overviewTable$asDF}

\code{as.data.frame(results$overviewTable)}
}
\description{
Modality Comparison Analysis for digital pathology validation studies.
Compare agreement between different diagnostic modalities (e.g., glass
slides vs digital images)
with specialized metrics for pathology applications including discordance
pattern analysis
and HER2 scoring validation.
}
\examples{
# Basic modality comparison
result1 <- modalitycomparison(
  data = data,
  modality1_var = "glass_slides",
  modality2_var = "digital_images",
  case_id = "case_number"
)

# HER2 scoring comparison with 5-category analysis
result2 <- modalitycomparison(
  data = her2_data,
  modality1_var = "glass_score",
  modality2_var = "digital_score",
  case_id = "case_id",
  score_categories = "her2_5cat",
  show_discordance_analysis = TRUE
)

}
