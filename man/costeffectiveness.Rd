% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/costeffectiveness.h.R
\name{costeffectiveness}
\alias{costeffectiveness}
\title{Cost-Effectiveness Analysis}
\usage{
costeffectiveness(
  data,
  strategy,
  comparator_level,
  cost,
  effectiveness,
  effectiveness_type = "binary",
  effectiveness_label = "Correct Diagnoses",
  calculate_icer = TRUE,
  calculate_incremental = TRUE,
  dominance_analysis = TRUE,
  net_monetary_benefit = TRUE,
  wtp_threshold = 50000,
  multiple_wtp_thresholds = TRUE,
  wtp_range = "0, 25000, 50000, 100000, 150000",
  confidence_intervals = TRUE,
  ci_method = "bootstrap",
  bootstrap_samples = 1000,
  confidence_level = 0.95,
  deterministic_sensitivity = TRUE,
  sensitivity_parameters =
    "test_cost, follow_up_cost, test_sensitivity, test_specificity",
  sensitivity_range_pct = 20,
  probabilistic_sensitivity = FALSE,
  psa_simulations = 1000,
  cost_distribution = "gamma",
  effect_distribution = "normal",
  voi_analysis = FALSE,
  evpi_population = 10000,
  evppi_parameters = FALSE,
  evppi_focus = "both",
  subgroup_analysis = FALSE,
  subgroup_variable,
  time_horizon = 1,
  discount_costs = FALSE,
  discount_rate_costs = 3,
  discount_effects = FALSE,
  discount_rate_effects = 3,
  plot_ce_plane = TRUE,
  plot_ce_acceptability = FALSE,
  plot_nmb = TRUE,
  plot_tornado = FALSE,
  plot_incremental_frontier = FALSE,
  perspective = "healthcare",
  include_indirect_costs = FALSE,
  currency = "USD",
  cost_year = 2024,
  handling_missing = "complete",
  random_seed = 12345
)
}
\arguments{
\item{data}{The data as a data frame.}

\item{strategy}{Variable indicating which diagnostic strategy was used for
each observation. Should have at least 2 levels (e.g., "New Test" vs.
"Standard Care").}

\item{comparator_level}{Which level of strategy variable represents the
comparator (baseline/reference) strategy against which others are compared.}

\item{cost}{Total cost per patient for the diagnostic strategy. Should
include all relevant costs: test costs, follow-up procedures, treatment
costs, adverse events. Express in consistent currency units (e.g., USD,
EUR).}

\item{effectiveness}{Effectiveness measure per patient. Can be correct
diagnoses (0/1), QALYs, life-years gained, cancers detected, etc. Higher
values should represent better outcomes.}

\item{effectiveness_type}{Type of effectiveness measure being analyzed.
Affects interpretation and labeling of ICER results.}

\item{effectiveness_label}{Custom label for effectiveness measure (e.g.,
"Cancers Detected", "True Positives", "QALYs").}

\item{calculate_icer}{Calculate Incremental Cost-Effectiveness Ratio. ICER
= (Cost_new - Cost_comparator) / (Effect_new - Effect_comparator).
Represents additional cost per additional unit of effectiveness.}

\item{calculate_incremental}{Display incremental costs and effects relative
to comparator strategy.}

\item{dominance_analysis}{Identify dominated strategies (more costly and
less effective) and extended dominance (strategies on inefficient
frontier).}

\item{net_monetary_benefit}{Calculate Net Monetary Benefit (NMB) at
specified willingness-to-pay thresholds. NMB = (Effectiveness × WTP) -
Cost. Positive NMB indicates cost-effective at that threshold.}

\item{wtp_threshold}{Willingness-to-pay threshold for primary analysis
(e.g., $50,000 per QALY in US, £20,000-30,000 per QALY in UK). Used for net
benefit calculation.}

\item{multiple_wtp_thresholds}{Evaluate cost-effectiveness at multiple
willingness-to-pay thresholds to show robustness of conclusions.}

\item{wtp_range}{Comma-separated list of willingness-to-pay thresholds for
analysis. Example: "0, 20000, 30000, 50000, 100000".}

\item{confidence_intervals}{Calculate confidence intervals for mean costs,
mean effects, and ICER using bootstrap or parametric methods.}

\item{ci_method}{Method for confidence interval estimation. Bootstrap is
recommended for cost data (often skewed). BCa (Bias-Corrected Accelerated)
provides better coverage for skewed distributions.}

\item{bootstrap_samples}{Number of bootstrap resamples for confidence
interval estimation.}

\item{confidence_level}{Confidence level for interval estimation.}

\item{deterministic_sensitivity}{One-way sensitivity analysis varying
individual parameters to assess impact on ICER. Creates tornado diagram
showing most influential parameters.}

\item{sensitivity_parameters}{Comma-separated list of parameter names for
deterministic sensitivity analysis. These should be column names in the
data.}

\item{sensitivity_range_pct}{Percentage variation around base case for
sensitivity analysis. For example, 20\\% means vary parameters from 80\\% to
120\\% of base value.}

\item{probabilistic_sensitivity}{Monte Carlo simulation to propagate
uncertainty in all parameters simultaneously. Generates cost-effectiveness
acceptability curve (CEAC) showing probability of cost-effectiveness at
different WTP thresholds.}

\item{psa_simulations}{Number of Monte Carlo simulations for probabilistic
sensitivity analysis.}

\item{cost_distribution}{Probability distribution for cost parameter
uncertainty. Gamma is recommended for costs (non-negative, often
right-skewed).}

\item{effect_distribution}{Probability distribution for effectiveness
parameter uncertainty. Beta is recommended for proportions, normal for
continuous measures.}

\item{voi_analysis}{Calculate Expected Value of Perfect Information (EVPI)
to quantify the expected cost of uncertainty in the decision. EVPI
represents the maximum value of conducting further research to eliminate
all parameter uncertainty.}

\item{evpi_population}{Population size affected by the decision over the
relevant time horizon. EVPI is calculated per-person and then multiplied by
population to give total value of eliminating uncertainty.}

\item{evppi_parameters}{Calculate Expected Value of Perfect Parameter
Information (EVPPI) for specific parameters. Shows which parameters
contribute most to decision uncertainty.}

\item{evppi_focus}{Which parameters to include in EVPPI calculation. Useful
for identifying whether cost or effectiveness uncertainty drives decision
uncertainty.}

\item{subgroup_analysis}{Perform cost-effectiveness analysis stratified by
subgroups to identify populations where new strategy is most
cost-effective.}

\item{subgroup_variable}{Variable defining subgroups for stratified
analysis (e.g., disease stage, age group, risk category).}

\item{time_horizon}{Time horizon for cost-effectiveness analysis in years.
Short-term for diagnostic tests (1 year), longer for treatments affecting
survival.}

\item{discount_costs}{Apply discounting to future costs (relevant for
multi-year time horizons).}

\item{discount_rate_costs}{Annual discount rate for future costs (typically
3-5\\% in health economics).}

\item{discount_effects}{Apply discounting to future health effects (QALYs,
life-years).}

\item{discount_rate_effects}{Annual discount rate for future effects (often
same as cost discount rate).}

\item{plot_ce_plane}{Scatter plot showing incremental costs (y-axis) vs.
incremental effects (x-axis). Quadrants indicate dominance relationships.
Willingness-to-pay threshold shown as diagonal line.}

\item{plot_ce_acceptability}{CEAC showing probability that each strategy is
cost-effective across range of willingness-to-pay thresholds. Requires
probabilistic sensitivity analysis.}

\item{plot_nmb}{Bar plot showing net monetary benefit for each strategy at
specified WTP threshold. Strategy with highest NMB is optimal.}

\item{plot_tornado}{Tornado diagram showing one-way sensitivity analysis
results. Parameters ordered by impact on ICER, showing range of ICER values
across parameter uncertainty ranges.}

\item{plot_incremental_frontier}{Plot showing efficient frontier connecting
non-dominated strategies.}

\item{perspective}{Perspective for cost-effectiveness analysis determines
which costs are included. Healthcare system includes direct medical costs,
societal includes productivity losses and patient time costs.}

\item{include_indirect_costs}{Include indirect costs (productivity losses,
patient time) for societal perspective.}

\item{currency}{Currency for cost reporting (e.g., USD, EUR, GBP, JPY).}

\item{cost_year}{Reference year for cost values (for inflation adjustment
if needed).}

\item{handling_missing}{Method for handling missing cost or effectiveness
data.}

\item{random_seed}{Random seed for bootstrap and Monte Carlo simulations.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$instructions} \tab \tab \tab \tab \tab a html \cr
\code{results$strategySummary} \tab \tab \tab \tab \tab Summary statistics for each diagnostic strategy \cr
\code{results$incrementalAnalysis} \tab \tab \tab \tab \tab Incremental costs, effects, and ICER relative to comparator \cr
\code{results$netBenefit} \tab \tab \tab \tab \tab Net monetary benefit at specified WTP thresholds \cr
\code{results$multipleWTP} \tab \tab \tab \tab \tab NMB and optimal strategy across WTP range \cr
\code{results$dominanceTable} \tab \tab \tab \tab \tab Identification of dominated and extendedly dominated strategies \cr
\code{results$subgroupCEA} \tab \tab \tab \tab \tab ICER by subgroup \cr
\code{results$sensitivityAnalysis} \tab \tab \tab \tab \tab Impact of individual parameter variation on ICER \cr
\code{results$psaSummary} \tab \tab \tab \tab \tab Monte Carlo simulation results \cr
\code{results$voiSummary} \tab \tab \tab \tab \tab Expected value of perfect information analysis \cr
\code{results$evppiTable} \tab \tab \tab \tab \tab Value of information by parameter group \cr
\code{results$cePlanePlot} \tab \tab \tab \tab \tab Incremental costs vs. incremental effects scatter plot \cr
\code{results$ceAcceptabilityCurve} \tab \tab \tab \tab \tab Probability of cost-effectiveness across WTP thresholds \cr
\code{results$nmbPlot} \tab \tab \tab \tab \tab NMB comparison at specified WTP threshold \cr
\code{results$tornadoPlot} \tab \tab \tab \tab \tab One-way sensitivity analysis results \cr
\code{results$incrementalFrontierPlot} \tab \tab \tab \tab \tab Efficient frontier showing non-dominated strategies \cr
\code{results$interpretation} \tab \tab \tab \tab \tab a html \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$strategySummary$asDF}

\code{as.data.frame(results$strategySummary)}
}
\description{
Cost-Effectiveness Analysis (CEA) for evaluating the economic value of
diagnostic tests, screening programs, and clinical decision strategies.
Calculates Incremental Cost-Effectiveness Ratio (ICER), which represents
the additional cost per additional unit of effectiveness (e.g., cost per
correct diagnosis, cost per QALY gained). The analysis compares new
diagnostic strategies against standard of care or alternative approaches,
visualizing results on the cost-effectiveness plane and calculating net
monetary benefit at various willingness-to-pay thresholds. Essential for
health technology assessment, budget impact analysis, and justifying
adoption of new diagnostic technologies such as multiplex IHC, AI-assisted
pathology, digital pathology platforms, and molecular tests. Supports
deterministic sensitivity analysis (tornado plots) to identify key cost
drivers and probabilistic sensitivity analysis (Monte Carlo simulation) to
quantify uncertainty in cost-effectiveness conclusions. Particularly
valuable for demonstrating value proposition of advanced diagnostics to
hospital administrators, payers, and policy makers.
}
\examples{
result <- costeffectiveness(
    data = diagnostic_study,
    strategy = "test_strategy",
    cost = "total_cost",
    effectiveness = "correct_diagnoses",
    comparator = "standard_care"
)

}
