% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pathsampling.h.R
\name{pathsampling}
\alias{pathsampling}
\title{Pathology Sampling Adequacy Analysis}
\usage{
pathsampling(
  data,
  analysisContext = "general",
  totalSamples = NULL,
  firstDetection = NULL,
  positiveCount = NULL,
  positiveSamplesList = NULL,
  sampleType = NULL,
  targetConfidence = 0.95,
  maxSamples = 10,
  bootstrapIterations = 10000,
  showBinomialModel = FALSE,
  showBootstrap = FALSE,
  showDetectionCurve = FALSE,
  showSensitivityCI = FALSE,
  setSeed = FALSE,
  seedValue = 42,
  positiveCassettes = NULL,
  maxPositiveSingle = NULL,
  showTumorBurden = FALSE,
  showStageMigration = FALSE,
  showCorrelation = FALSE,
  showDistributionPattern = FALSE,
  distributionThreshold = 5,
  modelType = "binomial",
  totalPopulation = NULL,
  successStates = NULL,
  targetDetections = 1,
  showHypergeometric = FALSE,
  showBetaBinomial = FALSE,
  totalLymphNodes = NULL,
  positiveLymphNodes = NULL,
  showLNAnalysis = FALSE,
  lnrThreshold1 = 0.1,
  lnrThreshold2 = 0.3,
  showEffectSizes = FALSE,
  showOmentumAnalysis = FALSE,
  showClinicalSummary = FALSE,
  showGuidedInstructions = FALSE,
  showConciseInstructions = FALSE,
  showEmpiricalCumulative = FALSE,
  showSpatialClustering = FALSE,
  showStratifiedAnalysis = FALSE,
  showPopulationDetection = FALSE,
  showIncrementalYield = FALSE,
  showMultifocalAnalysis = FALSE,
  showProbabilityExplanation = FALSE,
  showKeyResults = FALSE,
  showRecommendText = FALSE,
  showInterpretText = FALSE,
  showReferencesText = FALSE,
  estimationMethod = "auto",
  showHeterogeneityTest = FALSE,
  useGeometricCI = TRUE,
  ciMethod = "auto",
  showModelFit = FALSE,
  showObsPred = FALSE,
  showMarginalInterpretation = TRUE,
  showPowerAnalysis = FALSE,
  targetPower = 0.8,
  targetDetectionProb = 0.95,
  autoSelectModel = FALSE,
  appendVariables = FALSE,
  appendPrefix = "ps_",
  autoDetectHeterogeneity = TRUE
)
}
\arguments{
\item{data}{.}

\item{analysisContext}{Select the type of pathology sampling analysis: -
Lymph Node: Adequacy of lymph node dissection - Omentum: Omentum sampling
in ovarian/gastric cancer - Tumor: Tumor block sampling for VI, EMVI, PNI,
or budding detection - Margin: Margin sampling adequacy - General: Custom
sampling adequacy analysis}

\item{totalSamples}{Total number of samples examined per case. Examples:
total tumor blocks examined, total lymph nodes dissected, total omentum
sections.}

\item{firstDetection}{Sample number where outcome was first detected (e.g.,
which block first showed VI). Leave as NA for negative cases. For positive
cases, enter the sequential sample number (1, 2, 3, etc.).}

\item{positiveCount}{.}

\item{positiveSamplesList}{.}

\item{sampleType}{.}

\item{targetConfidence}{.}

\item{maxSamples}{.}

\item{bootstrapIterations}{.}

\item{showBinomialModel}{.}

\item{showBootstrap}{.}

\item{showDetectionCurve}{.}

\item{showSensitivityCI}{.}

\item{setSeed}{.}

\item{seedValue}{.}

\item{positiveCassettes}{.}

\item{maxPositiveSingle}{.}

\item{showTumorBurden}{.}

\item{showStageMigration}{.}

\item{showCorrelation}{.}

\item{showDistributionPattern}{.}

\item{distributionThreshold}{.}

\item{modelType}{.}

\item{totalPopulation}{.}

\item{successStates}{.}

\item{targetDetections}{.}

\item{showHypergeometric}{.}

\item{showBetaBinomial}{.}

\item{totalLymphNodes}{.}

\item{positiveLymphNodes}{.}

\item{showLNAnalysis}{.}

\item{lnrThreshold1}{.}

\item{lnrThreshold2}{.}

\item{showEffectSizes}{.}

\item{showOmentumAnalysis}{.}

\item{showClinicalSummary}{.}

\item{showGuidedInstructions}{Display detailed step-by-step checklist with
examples and common use cases. Best for first-time users and training.}

\item{showConciseInstructions}{Display brief analysis overview with
required variables and methods. Best for experienced users.}

\item{showEmpiricalCumulative}{.}

\item{showSpatialClustering}{.}

\item{showStratifiedAnalysis}{.}

\item{showPopulationDetection}{.}

\item{showIncrementalYield}{.}

\item{showMultifocalAnalysis}{.}

\item{showProbabilityExplanation}{Show detailed explanation distinguishing
conditional vs population-level detection probabilities.}

\item{showKeyResults}{Display a concise summary of key findings at the top
of results.}

\item{showRecommendText}{Display context-specific clinical recommendations
based on analysis results.}

\item{showInterpretText}{Show statistical interpretation and guidance for
result interpretation.}

\item{showReferencesText}{Display statistical methods documentation and
literature references.}

\item{estimationMethod}{.}

\item{showHeterogeneityTest}{Test if detection probability varies
significantly across sample types. Only available when Sample Type variable
is specified. Uses likelihood ratio test.}

\item{useGeometricCI}{Use theoretical geometric model confidence intervals
when bootstrap shows ceiling effect (100\\% bounds). Provides more realistic
uncertainty estimates.}

\item{ciMethod}{Method for calculating confidence intervals. Auto selects
geometric when bootstrap shows ceiling effect, otherwise uses bootstrap.}

\item{showModelFit}{Perform goodness-of-fit test comparing observed vs
predicted detection distribution. Validates geometric/binomial model
assumptions.}

\item{showObsPred}{Compare observed detection rates with model predictions
at each sample number. Visual model validation tool.}

\item{showMarginalInterpretation}{Add cost-benefit interpretation to
marginal gain analysis. Auto-enabled when Show Binomial Model is checked.}

\item{showPowerAnalysis}{.}

\item{targetPower}{.}

\item{targetDetectionProb}{.}

\item{autoSelectModel}{.}

\item{appendVariables}{Add new columns to dataset with calculated detection
probabilities and classifications. Variables include cumulative
probabilities, recommended sample counts, and detection categories.}

\item{appendPrefix}{Prefix for appended variable names (e.g., 'ps_' creates
'ps_cumulative_prob_5'). Only used when Append Variables is enabled.}

\item{autoDetectHeterogeneity}{Automatically analyze and report if sample
types have significantly different detection probabilities. Requires Sample
Type variable. Warns if CV > 30\\%.}
}
\value{
A results object containing:
\tabular{llllll}{
\code{results$welcome} \tab \tab \tab \tab \tab a html \cr
\code{results$guidedInstructions} \tab \tab \tab \tab \tab a html \cr
\code{results$conciseInstructions} \tab \tab \tab \tab \tab a html \cr
\code{results$dataInfo} \tab \tab \tab \tab \tab a table \cr
\code{results$probabilityExplanation} \tab \tab \tab \tab \tab a html \cr
\code{results$keyResults} \tab \tab \tab \tab \tab a html \cr
\code{results$clinicalSummary} \tab \tab \tab \tab \tab a html \cr
\code{results$binomialText} \tab \tab \tab \tab \tab a html \cr
\code{results$binomialTable} \tab \tab \tab \tab \tab a table \cr
\code{results$recommendTable} \tab \tab \tab \tab \tab a table \cr
\code{results$bootstrapText} \tab \tab \tab \tab \tab a html \cr
\code{results$bootstrapTable} \tab \tab \tab \tab \tab a table \cr
\code{results$detectionCurve} \tab \tab \tab \tab \tab an image \cr
\code{results$sensitivityPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$heterogeneityText} \tab \tab \tab \tab \tab a html \cr
\code{results$heterogeneityTest} \tab \tab \tab \tab \tab a table \cr
\code{results$modelFitText} \tab \tab \tab \tab \tab a html \cr
\code{results$modelFitTable} \tab \tab \tab \tab \tab a table \cr
\code{results$obsPredText} \tab \tab \tab \tab \tab a html \cr
\code{results$obsPredTable} \tab \tab \tab \tab \tab a table \cr
\code{results$empiricalCumulativeText} \tab \tab \tab \tab \tab a html \cr
\code{results$empiricalCumulativeTable} \tab \tab \tab \tab \tab a table \cr
\code{results$empiricalCumulativePlot} \tab \tab \tab \tab \tab an image \cr
\code{results$incrementalYieldText} \tab \tab \tab \tab \tab a html \cr
\code{results$incrementalYieldTable} \tab \tab \tab \tab \tab a table \cr
\code{results$populationDetectionText} \tab \tab \tab \tab \tab a html \cr
\code{results$populationDetectionTable} \tab \tab \tab \tab \tab a table \cr
\code{results$spatialClusteringText} \tab \tab \tab \tab \tab a html \cr
\code{results$clusteringTable} \tab \tab \tab \tab \tab a table \cr
\code{results$multifocalText} \tab \tab \tab \tab \tab a html \cr
\code{results$multifocalTable} \tab \tab \tab \tab \tab a table \cr
\code{results$stratifiedText} \tab \tab \tab \tab \tab a html \cr
\code{results$prevalenceTable} \tab \tab \tab \tab \tab a table \cr
\code{results$stratifiedDetectionTable} \tab \tab \tab \tab \tab a table \cr
\code{results$tumorBurdenText} \tab \tab \tab \tab \tab a html \cr
\code{results$tumorBurdenInfo} \tab \tab \tab \tab \tab a table \cr
\code{results$cassetteDistribution} \tab \tab \tab \tab \tab a table \cr
\code{results$stageMigrationText} \tab \tab \tab \tab \tab a html \cr
\code{results$stageMigrationTable} \tab \tab \tab \tab \tab a table \cr
\code{results$correlationText} \tab \tab \tab \tab \tab a html \cr
\code{results$correlationStats} \tab \tab \tab \tab \tab a table \cr
\code{results$correlationPlot} \tab \tab \tab \tab \tab an image \cr
\code{results$distributionPatternText} \tab \tab \tab \tab \tab a html \cr
\code{results$distributionPatternTable} \tab \tab \tab \tab \tab a table \cr
\code{results$distributionComparisonTable} \tab \tab \tab \tab \tab a table \cr
\code{results$hypergeometricText} \tab \tab \tab \tab \tab a html \cr
\code{results$hypergeometricTable} \tab \tab \tab \tab \tab a table \cr
\code{results$hyperRecommendTable} \tab \tab \tab \tab \tab a table \cr
\code{results$betaBinomialText} \tab \tab \tab \tab \tab a html \cr
\code{results$betaBinomialTable} \tab \tab \tab \tab \tab a table \cr
\code{results$betaBinomialRecommendTable} \tab \tab \tab \tab \tab a table \cr
\code{results$powerAnalysisText} \tab \tab \tab \tab \tab a html \cr
\code{results$powerTable} \tab \tab \tab \tab \tab a table \cr
\code{results$multifocalAnalysisText} \tab \tab \tab \tab \tab a html \cr
\code{results$multifocalProbTable} \tab \tab \tab \tab \tab a table \cr
\code{results$modelSelectionText} \tab \tab \tab \tab \tab a html \cr
\code{results$modelComparisonTable} \tab \tab \tab \tab \tab a table \cr
\code{results$lnAnalysisText} \tab \tab \tab \tab \tab a html \cr
\code{results$lnrClassification} \tab \tab \tab \tab \tab a table \cr
\code{results$ajccNStage} \tab \tab \tab \tab \tab a table \cr
\code{results$adequacyByELN} \tab \tab \tab \tab \tab a table \cr
\code{results$effectSizesText} \tab \tab \tab \tab \tab a html \cr
\code{results$effectSizesTable} \tab \tab \tab \tab \tab a table \cr
\code{results$omentumText} \tab \tab \tab \tab \tab a html \cr
\code{results$recommendText} \tab \tab \tab \tab \tab a html \cr
\code{results$interpretText} \tab \tab \tab \tab \tab a html \cr
\code{results$referencesText} \tab \tab \tab \tab \tab a html \cr
}

Tables can be converted to data frames with \code{asDF} or \code{\link{as.data.frame}}. For example:

\code{results$dataInfo$asDF}

\code{as.data.frame(results$dataInfo)}
}
\description{
Pathology Sampling Adequacy Analysis
}
