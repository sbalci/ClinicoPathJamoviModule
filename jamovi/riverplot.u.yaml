title: River Plots & Alluvial Diagrams
name: riverplot
jus: '3.0'
stage: 0
compilerMode: tame
children:
  - type: VariableSupplier
    persistentItems: false
    stretchFactor: 1
    children:
      - type: TargetLayoutBox
        label: ID Variable (Optional)
        children:
          - type: VariablesListBox
            name: id
            maxItemCount: 1
            isTarget: true
      - type: TargetLayoutBox
        label: Time/Sequence Variable (Conditional)
        children:
          - type: VariablesListBox
            name: time
            maxItemCount: 1
            isTarget: true
      - type: TargetLayoutBox
        label: Strata Variables (Required)
        children:
          - type: VariablesListBox
            name: strata
            isTarget: true
      - type: TargetLayoutBox
        label: Weight Variable (Optional)
        children:
          - type: VariablesListBox
            name: weight
            maxItemCount: 1
            isTarget: true
  - type: CollapseBox
    label: Core Plot Settings
    collapsed: false
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: plotType
          - type: ComboBox
            name: fillType
          - type: ComboBox
            name: dataFormat
  - type: CollapseBox
    label: Visual Appearance
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: sortStreams
          - type: CheckBox
            name: labelNodes
          - type: ComboBox
            name: curveType
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: showCounts
          - type: CheckBox
            name: showPercentages
          - type: CheckBox
            name: showLegend
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: legendPosition
            enable: (showLegend)
          - type: ComboBox
            name: colorScheme
          - type: TextBox
            name: customColors
            format: string
            enable: (colorScheme:custom)
  - type: CollapseBox
    label: Fine-Tuning
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: nodeWidth
            format: number
          - type: TextBox
            name: nodeGap
            format: number
          - type: TextBox
            name: flowAlpha
            format: number
  - type: CollapseBox
    label: Labels & Themes
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: mytitle
            format: string
          - type: TextBox
            name: xtitle
            format: string
          - type: TextBox
            name: ytitle
            format: string
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: originaltheme
          - type: TextBox
            name: fontSize
            format: number
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: plotWidth
            format: number
          - type: TextBox
            name: plotHeight
            format: number
  - type: CollapseBox
    label: Advanced Styling
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: nodeStyle
          - type: ComboBox
            name: edgeStyle
          - type: ComboBox
            name: gravity
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: edgeGradient
          - type: CheckBox
            name: addMidPoints
          - type: CheckBox
            name: reorderEdges
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: curveGranularity
            format: number
          - type: CheckBox
            name: backgroundLabels
  - type: CollapseBox
    label: Clinical & Export Options
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: clinicalPreset
          - type: CheckBox
            name: exportRiverplotObject
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: enableDiagnostics
          - type: CheckBox
            name: detailed_progress
            enable: (enableDiagnostics)
  - type: CollapseBox
    label: Performance & Accessibility
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: large_dataset_mode
          - type: CheckBox
            name: enable_caching
          - type: CheckBox
            name: high_contrast_mode
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: smart_detection
          - type: CheckBox
            name: adaptive_styling
          - type: CheckBox
            name: enhanced_validation
  - type: CollapseBox
    label: Experimental Features
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: multi_format_support
          - type: CheckBox
            name: quality_optimization
          - type: CheckBox
            name: cross_reference_mode
