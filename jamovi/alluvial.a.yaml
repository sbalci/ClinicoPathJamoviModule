---
name:  alluvial
title: Alluvial Diagrams
menuGroup: ExplorationT
menuSubgroup: ClinicoPath Descriptive Plots
version: '0.0.31'
jas: '1.2'
options:
    - name: data
      type: Data
      description:
          R: >
            The data as a data frame.
          jamovi: >
            The data as a data frame.

    - name: vars
      title: Variables
      type: Variables
      description:
          R: >
            a string naming the variables from `data` that contains the
            values used for the Alluvial Diagram.
          jamovi: >
            a string naming the variables from `data` that contains the
            values used for the Alluvial Diagram.

    - name: condensationvar
      title: Condensation Variable
      type: Variable
      description:
          R: >
            The primary variable to be used for condensation.
          jamovi: >
            The primary variable to be used for condensation.

    - name: excl
      title: Exclude missing (NA)
      type: Bool
      default: false
      description:
          R: >
            Exclude missing values from the analysis.
          jamovi: >
            Exclude missing values from the analysis.

    - name: marg
      title: Marginal plots
      type: Bool
      default: false
      description:
          R: >
            Include marginal plots.
          jamovi: >
            Include marginal plots.

    - name: fill
      title: Fill by
      type: List
      options:
        - title: First variable
          name: first_variable
        - title: Last variable
          name: last_variable
        - title: All flows
          name: all_flows
        - title: Values
          name: values
      default: first_variable
      description:
          R: >
            A list for the argument fill for selecting the variable to be
            represented by color. Default is 'first_variable'.
          jamovi: >
            A list for the argument fill for selecting the variable to be
            represented by color. Default is 'first_variable'.

    - name: fillGgalluvial
      title: Fill by (ggalluvial)
      type: Variable
      description:
          R: >
            A string naming the variable from `data` that will be used to
            color the flows in the ggalluvial plot.
          jamovi: >
            A string naming the variable from `data` that will be used to
            color the flows in the ggalluvial plot.

    - name: bin
      title: Bin labels
      type: List
      options:
        - title: Default
          name: default
        - title: Mean
          name: mean
        - title: Median
          name: median
        - title: Min-Max
          name: min_max
        - title: Quantile
          name: cuts
      default: default
      description:
          R: >
            Display labels for bin categories. Note: This controls label text only,
            not the binning method. easyalluvial uses its own internal binning algorithm.
            For custom binning, create categorized variables before analysis.
          jamovi: >
            Display labels for bin categories (e.g., 'LL' for low-low, 'HH' for high-high).
            Note: This controls label text only, not the actual binning method.
            For custom categorization, use Data â†’ Compute to create binned variables.


    - name: orient
      title: Plot orientation
      type: List
      options:
        - title: Horizontal
          name: horr
        - title: Vertical
          name: vert
      default: vert
      description:
          R: >
            Orientation of the plot. Default is 'vertical'.
          jamovi: >
            Orientation of the plot. Default is 'vertical'.

    - name: usetitle
      title: Custom title
      type: Bool
      default: false
      description:
          R: >
            Use a custom title for the plot.
          jamovi: >
            Use a custom title for the plot.

    - name: mytitle
      title: Title
      type: String
      default: 'Alluvial Plot'
      description:
          R: >
            Title for the plot.
          jamovi: >
            Title for the plot.

    - name: maxvars
      title: Maximum variables
      type: Integer
      min: 2
      max: 20
      default: 8
      description:
          R: >
            Maximum number of variables to include in the alluvial plot.
          jamovi: >
            Maximum number of variables to include in the alluvial plot.

    - name: custombinlabels
      title: Custom bin labels
      type: String
      default: ''
      description:
          R: >
            Custom labels for bins, separated by commas (e.g., "Low,Medium,High").
            Leave empty to use bin option defaults.
          jamovi: >
            Custom labels for bins, separated by commas (e.g., "Low,Medium,High").
            Leave empty to use bin option defaults.

    # === Phase 1: Easy Additions ===

    - name: colorPalette
      title: Color Palette
      type: List
      options:
        - title: Default
          name: default
        - title: Viridis
          name: viridis
        - title: Plasma
          name: plasma
        - title: Set3
          name: set3
        - title: Pastel1
          name: pastel1
        - title: Dark2
          name: dark2
      default: default
      description:
          R: >
            Color palette for the diagram flows.
          jamovi: >
            Color palette for the diagram flows.

    - name: showCounts
      title: Show Counts on Nodes
      type: Bool
      default: false
      description:
          R: >
            Display count values on nodes.
          jamovi: >
            Display count values on nodes.

    - name: themeStyle
      title: Theme Style
      type: List
      options:
        - title: Default (easyalluvial)
          name: default
        - title: Minimal
          name: minimal
        - title: Classic
          name: classic
        - title: Grey
          name: grey
        - title: Black & White
          name: bw
      default: default
      description:
          R: >
            Theme style for the plot background and elements.
          jamovi: >
            Theme style for the plot background and elements.

    - name: enhancedGradients
      title: Enhanced Edge Gradients
      type: Bool
      default: false
      description:
          R: >
            Apply sophisticated color gradients to flow edges for better visual appeal.
          jamovi: >
            Apply sophisticated color gradients to flow edges for better visual appeal.

    - name: plotSubtitle
      title: Plot Subtitle
      type: String
      default: ''
      description:
          R: >
            Subtitle for the plot (shown below the title).
          jamovi: >
            Subtitle for the plot (shown below the title).

    # === Phase 2: Medium Additions ===

    - name: weight
      title: Weight Variable
      type: Variable
      suggested: [ continuous ]
      permitted: [ numeric ]
      description:
          R: >
            Optional weight variable for flow thickness. If not provided, counts are used.
          jamovi: >
            Optional weight variable for flow thickness. If not provided, counts are used.

    - name: sankeyStyle
      title: Sankey Styling
      type: Bool
      default: false
      description:
          R: >
            Apply Sankey diagram styling (narrow nodes, sigmoid curves).
          jamovi: >
            Apply Sankey diagram styling (narrow nodes, sigmoid curves).

    - name: curveType
      title: Curve Type
      type: List
      options:
        - title: Cubic (smooth)
          name: cubic
        - title: Linear
          name: linear
        - title: Quintic (very smooth)
          name: quintic
        - title: Sine
          name: sine
        - title: Arctangent
          name: arctangent
        - title: Sigmoid (S-shaped)
          name: sigmoid
      default: cubic
      description:
          R: >
            Curve style for flows. Requires ggalluvial engine.
          jamovi: >
            Curve style for flows. Requires ggalluvial engine.

    - name: flowDirection
      title: Flow Direction
      type: List
      options:
        - title: Left to Right
          name: left_right
        - title: Top to Bottom
          name: top_bottom
        - title: Right to Left
          name: right_left
        - title: Bottom to Top
          name: bottom_top
      default: left_right
      description:
          R: >
            Direction of flow in the diagram.
          jamovi: >
            Direction of flow in the diagram.

    - name: engine
      title: Plot Engine
      type: List
      options:
        - title: Easy Alluvial (automatic)
          name: easyalluvial
        - title: GG Alluvial (manual control)
          name: ggalluvial
      default: easyalluvial
      description:
          R: >
            Choose plotting engine: easyalluvial for automatic plots,
            ggalluvial for manual control with curve types and Sankey styling.
          jamovi: >
            Choose plotting engine: easyalluvial for automatic plots,
            ggalluvial for manual control with curve types and Sankey styling.

    - name: labelNodes
      title: Label Nodes
      type: Bool
      default: false
      description:
          R: >
            Show node labels (for ggalluvial engine).
          jamovi: >
            Show node labels (for ggalluvial engine).

...
