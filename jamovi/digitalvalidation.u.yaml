title: Digital Pathology Validation
name: digitalvalidation
jus: '3.0'
stage: 0
compilerMode: tame

children:
  - type: VariableSupplier
    persistentItems: false
    stretchFactor: 1
    children:
      - type: TargetLayoutBox
        label: Method Variables
        children:
          - type: VariablesListBox
            name: reference
            maxItemCount: 1
            isTarget: true
            itemDropBehaviour: overwrite

          - type: VariablesListBox
            name: test
            maxItemCount: 1
            isTarget: true
            itemDropBehaviour: overwrite

      - type: TargetLayoutBox
        label: Optional Variables
        children:
          - type: VariablesListBox
            name: platform_var
            maxItemCount: 1
            isTarget: true
            itemDropBehaviour: overwrite

  - type: LayoutBox
    margin: large
    stretchFactor: 1
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: Validation Settings
            
          - type: ComboBox
            name: validation_type

          - type: ComboBox
            name: acceptance_criteria

      - type: CollapseBox
        label: Custom Acceptance Criteria
        collapsed: true
        children:
          - type: LayoutBox
            margin: large
            children:
              - type: TextBox
                name: custom_correlation_threshold
                format: number
                suffix: correlation threshold

              - type: TextBox
                name: custom_icc_threshold
                format: number
                suffix: ICC threshold

      - type: CollapseBox
        label: Clinical Decision Analysis
        collapsed: true
        children:
          - type: LayoutBox
            margin: large
            children:
              - type: Label
                label: Clinical Decision Thresholds
                
              - type: TextBox
                name: decision_threshold1
                format: number
                suffix: threshold 1
                
              - type: TextBox
                name: decision_threshold2
                format: number
                suffix: threshold 2
                
              - type: TextBox
                name: decision_threshold3
                format: number
                suffix: threshold 3

      - type: CollapseBox
        label: Analysis Options
        collapsed: false
        children:
          - type: LayoutBox
            margin: large
            children:
              - type: CheckBox
                name: bias_assessment

              - type: CheckBox
                name: bootstrap_ci

              - type: TextBox
                name: bootstrap_n
                format: number
                suffix: replicates
                enable: (bootstrap_ci)

      - type: CollapseBox
        label: Visualization Options
        collapsed: true
        children:
          - type: LayoutBox
            margin: large
            children:
              - type: CheckBox
                name: show_validation_plots

              - type: CheckBox
                name: generate_report

...