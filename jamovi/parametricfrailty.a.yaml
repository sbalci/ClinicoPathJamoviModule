---
name: parametricfrailty
title: Parametric Frailty Models
menuGroup: SurvivalT
version: '0.0.31'
jas: '1.2'

description:
    main: >
        Implements parametric frailty models for survival analysis with clustered or
        correlated survival data. Uses the frailtySurv package for efficient estimation
        of parametric baseline distributions combined with frailty components to model
        unobserved heterogeneity between clusters or individuals.
    R:
        dontrun: false
        usage: |
            data('lung', package='survival')
            
            parametricfrailty(data = lung, 
                             elapsedtime = 'time',
                             outcome = 'status', 
                             covariates = c('age', 'sex'),
                             frailty_variable = 'inst',
                             baseline_distribution = 'weibull',
                             frailty_distribution = 'gamma')

options:
    - name: data
      type: Data
      description:
          R: the data as a data frame

    - name: elapsedtime
      title: Time Variable
      type: Variable
      suggested: [continuous]
      permitted: [numeric]
      description:
          R: >
            Survival time or follow-up duration variable. Should contain positive 
            numeric values representing the time to event or censoring.

    - name: outcome
      title: Event Variable  
      type: Variable
      suggested: [nominal, ordinal]
      permitted: [factor, numeric]
      description:
          R: >
            Binary event indicator variable. Should contain values like 0/1, 
            FALSE/TRUE, or factor levels indicating whether event occurred.

    - name: covariates
      title: Explanatory Variables
      type: Variables
      suggested: [continuous, nominal, ordinal]
      permitted: [numeric, factor]
      default: null
      description:
          R: >
            Vector of variable names for covariates/explanatory variables to include 
            in the parametric frailty model.

    - name: frailty_variable
      title: Frailty Variable
      type: Variable
      suggested: [nominal, ordinal]
      permitted: [factor, numeric]
      description:
          R: >
            Variable identifying clusters or groups for frailty modeling. Each unique
            value represents a different cluster/group with shared frailty.

    - name: baseline_distribution
      title: Baseline Distribution
      type: List
      options:
        - name: weibull
          title: Weibull
        - name: exponential
          title: Exponential
        - name: gompertz
          title: Gompertz
        - name: lognormal
          title: Log-normal
        - name: loglogistic
          title: Log-logistic
        - name: gengamma
          title: Generalized Gamma
      default: weibull
      description:
          R: >
            Baseline parametric distribution for survival times.

    - name: frailty_distribution
      title: Frailty Distribution
      type: List
      options:
        - name: gamma
          title: Gamma
        - name: lognormal
          title: Log-normal
        - name: invgauss
          title: Inverse Gaussian
        - name: posstab
          title: Positive Stable
      default: gamma
      description:
          R: >
            Distribution of the frailty random effects.

    - name: estimation_method
      title: Estimation Method
      type: List
      options:
        - name: penalized_likelihood
          title: Penalized Likelihood
        - name: reml
          title: REML
        - name: laplace
          title: Laplace Approximation
      default: penalized_likelihood
      description:
          R: >
            Method for parameter estimation in the frailty model.

    - name: include_se
      title: Include Standard Errors
      type: Bool
      default: true
      description:
          R: >
            Whether to compute and display standard errors for parameter estimates.

    - name: include_ci
      title: Include Confidence Intervals
      type: Bool
      default: true
      description:
          R: >
            Whether to compute and display confidence intervals for parameter estimates.

    - name: conf_level
      title: Confidence Level
      type: Number
      default: 0.95
      min: 0.5
      max: 0.99
      description:
          R: >
            Confidence level for confidence intervals (between 0.5 and 0.99).

    - name: frailty_variance
      title: Frailty Variance
      type: Bool
      default: true
      description:
          R: >
            Whether to estimate and display frailty variance components.

    - name: frailty_predictions
      title: Frailty Predictions
      type: Bool
      default: false
      description:
          R: >
            Whether to compute individual frailty predictions for each cluster.

    - name: gof_tests
      title: Goodness-of-Fit Tests
      type: Bool
      default: false
      description:
          R: >
            Whether to perform goodness-of-fit tests for the fitted model.

    - name: plot_hazard
      title: Plot Hazard Function
      type: Bool
      default: false
      description:
          R: >
            Whether to create plots of the estimated hazard function.

    - name: plot_survival
      title: Plot Survival Function
      type: Bool
      default: false
      description:
          R: >
            Whether to create plots of the estimated survival function.

    - name: plot_frailty
      title: Plot Frailty Distribution
      type: Bool
      default: false
      description:
          R: >
            Whether to create plots of the frailty distribution.

    - name: plot_diagnostics
      title: Diagnostic Plots
      type: Bool
      default: false
      description:
          R: >
            Whether to create model diagnostic plots for residuals and fit assessment.
