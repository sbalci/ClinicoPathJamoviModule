---
name: powercomprisk
title: Power Analysis for Competing Risks Studies
jrs: '1.1'

items:
    - name: todo
      title: To Do
      type: Html
      clearWith:
          - analysisType
          - alpha
          - power

    - name: educationalInfo
      title: 'Competing Risks Power Analysis Guide'
      type: Html
      visible: (showEducational)
      clearWith:
          - analysisType

    - name: powerResults
      title: 'Power Analysis Results'
      type: Table
      rows: 1
      columns:
        - name: parameter
          title: "Parameter"
          type: text
        - name: value
          title: "Value"
          type: text
        - name: confidence_interval
          title: "95% CI"
          type: text
        - name: interpretation
          title: "Interpretation"
          type: text
      clearWith:
          - analysisType
          - alpha
          - power
          - totalSampleSize

    - name: studyDesignTable
      title: 'Study Design Parameters'
      type: Table
      columns:
        - name: parameter
          title: "Design Parameter"
          type: text
        - name: group1
          title: "Group 1"
          type: text
        - name: group2
          title: "Group 2"
          type: text
        - name: overall
          title: "Overall"
          type: text
        - name: notes
          title: "Notes"
          type: text
      clearWith:
          - allocationRatio
          - followUpTime
          - eventRate1
          - eventRate2

    - name: sampleSizeBreakdown
      title: 'Sample Size Breakdown'
      type: Table
      columns:
        - name: group
          title: "Group"
          type: text
        - name: sample_size
          title: "Sample Size"
          type: number
        - name: expected_events
          title: "Expected Events"
          type: number
        - name: expected_competing
          title: "Expected Competing"
          type: number
        - name: expected_censored
          title: "Expected Censored"
          type: number
        - name: event_rate
          title: "Event Rate (%)"
          type: number
      clearWith:
          - totalSampleSize
          - allocationRatio
          - eventRate1
          - eventRate2

    - name: powerCurveTable
      title: 'Power Across Different Scenarios'
      type: Table
      columns:
        - name: scenario
          title: "Scenario"
          type: text
        - name: parameter_value
          title: "Parameter Value"
          type: number
        - name: power
          title: "Power"
          type: number
        - name: sample_size
          title: "Required N"
          type: number
        - name: feasibility
          title: "Feasibility"
          type: text
      clearWith:
          - analysisType
          - alpha
          - totalSampleSize

    - name: sensitivityTable
      title: 'Sensitivity Analysis'
      type: Table
      visible: (sensitivityAnalysis)
      columns:
        - name: parameter
          title: "Parameter"
          type: text
        - name: low_value
          title: "Low Value"
          type: text
        - name: base_value
          title: "Base Value"
          type: text
        - name: high_value
          title: "High Value"
          type: text
        - name: power_change
          title: "Power Change (%)"
          type: text
        - name: robustness
          title: "Robustness"
          type: text
      clearWith:
          - sensitivityAnalysis
          - eventRate1
          - eventRate2

    - name: simulationDiagnostics
      title: 'Simulation Diagnostics'
      type: Table
      visible: (showSimulationDetails)
      rows: 1
      columns:
        - name: metric
          title: "Metric"
          type: text
        - name: value
          title: "Value"
          type: text
        - name: status
          title: "Status"
          type: text
        - name: recommendation
          title: "Recommendation"
          type: text
      clearWith:
          - numberOfSimulations
          - analysisType

    - name: methodsInfo
      title: 'Statistical Methods'
      type: Html
      clearWith:
          - testType
          - distributionType

    - name: recommendationsInfo
      title: 'Study Design Recommendations'
      type: Html
      clearWith:
          - analysisType
          - power
          - totalSampleSize

    - name: powerCurvePlot
      title: 'Power Curve'
      type: Image
      width: 800
      height: 600
      renderFun: .powerCurvePlot
      visible: (plotPowerCurve)
      clearWith:
          - analysisType
          - alpha
          - eventRate1
          - eventRate2

    - name: eventRatesPlot
      title: 'Cumulative Incidence Visualization'
      type: Image
      width: 700
      height: 500
      renderFun: .eventRatesPlot
      visible: (plotEventRates)
      clearWith:
          - eventRate1
          - eventRate2
          - competingRate1
          - competingRate2

refs:
    - powerCompRisk
    - cmprsk
    - survival
    - ClinicoPathJamoviModule

...