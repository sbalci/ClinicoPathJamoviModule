---
name: sigmametrics
title: Six Sigma Metrics for Laboratory Performance
menuGroup: ClinicoPathDescriptives
version: '1.0.0'
jas: '1.2'
description:
    main: >
        Six Sigma methodology for laboratory performance evaluation and quality assessment.
        Calculates sigma metrics, process capability indices, and quality goal index (QGI)
        for analytical methods. Supports ISO 15189 compliance and quality improvement initiatives.
        Essential for laboratory method validation and performance monitoring.
    R:
        dontrun: false
        usage: |
            data %>%
            sigmametrics(
                bias = "method_bias",
                cv = "coefficient_variation",
                tea = "total_allowable_error",
                analyte = "test_name"
            )

options:
    - name: data
      type: Data
      description:
          R: the data as a data frame

    - name: bias
      title: Bias (%)
      type: Variable
      suggested:
        - continuous
      permitted:
        - numeric
      description:
          R: >
            Method bias as percentage from target value

    - name: cv
      title: Coefficient of Variation (%)
      type: Variable
      suggested:
        - continuous
      permitted:
        - numeric
      description:
          R: >
            Coefficient of variation (precision) as percentage

    - name: tea
      title: Total Allowable Error (%)
      type: Variable
      suggested:
        - continuous
      permitted:
        - numeric
      description:
          R: >
            Total allowable error specification as percentage

    - name: analyte
      title: Analyte/Test Name (Optional)
      type: Variable
      suggested:
        - nominal
      permitted:
        - factor
      description:
          R: >
            Analyte or test name for identification

    - name: laboratory
      title: Laboratory/Site ID (Optional)
      type: Variable
      suggested:
        - nominal
      permitted:
        - factor
      description:
          R: >
            Laboratory or site identifier for comparative analysis

    - name: method
      title: Method Name (Optional)
      type: Variable
      suggested:
        - nominal
      permitted:
        - factor
      description:
          R: >
            Analytical method identifier

    - name: sigma_calculation
      title: Sigma Calculation Method
      type: List
      options:
        - name: standard
          title: Standard Formula
        - name: westgard
          title: Westgard Formula
        - name: clinical_goals
          title: Clinical Goals Based
        - name: biological_variation
          title: Biological Variation Based
      default: standard
      description:
          R: >
            Method for calculating sigma metrics

    - name: quality_goals
      title: Quality Goals Source
      type: List
      options:
        - name: clia
          title: CLIA Guidelines
        - name: rcpaqap
          title: RCPAQAP Goals
        - name: biological_variation
          title: Biological Variation Database
        - name: custom
          title: Custom Goals
        - name: proficiency_testing
          title: Proficiency Testing
      default: clia
      description:
          R: >
            Source for quality goal specifications

    - name: custom_tea
      title: Custom TEa Value (%)
      type: Number
      min: 0.1
      max: 50
      default: 10
      description:
          R: >
            Custom total allowable error specification

    - name: confidence_level
      title: Confidence Level
      type: Number
      min: 0.90
      max: 0.99
      default: 0.95
      description:
          R: >
            Confidence level for uncertainty calculations

    - name: benchmark_comparison
      title: Benchmark Comparison
      type: Bool
      default: true
      description:
          R: >
            Compare against benchmark sigma levels

    - name: process_capability
      title: Process Capability Analysis
      type: Bool
      default: true
      description:
          R: >
            Calculate Cp, Cpk, and other capability indices

    - name: quality_goal_index
      title: Quality Goal Index (QGI)
      type: Bool
      default: true
      description:
          R: >
            Calculate quality goal index metrics

    - name: method_validation
      title: Method Validation Assessment
      type: Bool
      default: true
      description:
          R: >
            Evaluate method performance for validation

    - name: improvement_recommendations
      title: Quality Improvement Recommendations
      type: Bool
      default: true
      description:
          R: >
            Provide specific improvement recommendations

    - name: regulatory_compliance
      title: Regulatory Compliance Assessment
      type: Bool
      default: true
      description:
          R: >
            Assess compliance with regulatory standards

    - name: cost_of_quality
      title: Cost of Quality Analysis
      type: Bool
      default: false
      description:
          R: >
            Estimate cost implications of quality levels

    - name: defect_rates
      title: Defect Rate Analysis
      type: Bool
      default: true
      description:
          R: >
            Calculate expected defect rates per million

    - name: control_planning
      title: Statistical Control Planning
      type: Bool
      default: false
      description:
          R: >
            Generate QC planning recommendations

    - name: sigma_plots
      title: Sigma Metric Visualizations
      type: Bool
      default: true
      description:
          R: >
            Create sigma metric and capability plots

    - name: normalized_plots
      title: Normalized OPSpecs Chart
      type: Bool
      default: true
      description:
          R: >
            Generate normalized operating specifications chart

    - name: quality_scorecard
      title: Quality Performance Scorecard
      type: Bool
      default: true
      description:
          R: >
            Create comprehensive quality scorecard visualization