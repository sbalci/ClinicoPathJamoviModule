---
name: nogoldstandard
title: Analysis Without Gold Standard
menuGroup: meddecide
menuSubgroup: Decision
menuSubtitle: Multiple Test Analysis Without Gold Standard
version: '0.0.31'
jas: '1.2'

description:
    main: >
        Analysis of diagnostic tests without a gold standard reference using multiple statistical approaches.
        Implements Latent Class Analysis (Hui & Walter, 1980), Bayesian methods (Joseph et al., 1995), 
        and composite reference standards for estimating test performance when no perfect reference test exists.
    R:
        dontrun: true
        usage: |
            # Basic example with simulated diagnostic test data
            set.seed(123)
            n <- 200
            
            # Simulate disease status (latent, unknown)
            disease <- rbinom(n, 1, 0.3)  # 30% prevalence
            
            # Simulate test results with known sensitivity/specificity
            test1_result <- ifelse(disease == 1, 
                                   rbinom(sum(disease), 1, 0.85),     # sensitivity 0.85
                                   rbinom(sum(1-disease), 1, 0.15))   # 1-specificity 0.15
            test1_result <- factor(test1_result, levels=c(0,1), labels=c("Negative", "Positive"))
            
            test2_result <- ifelse(disease == 1, 
                                   rbinom(sum(disease), 1, 0.80),     # sensitivity 0.80
                                   rbinom(sum(1-disease), 1, 0.10))   # 1-specificity 0.10
            test2_result <- factor(test2_result, levels=c(0,1), labels=c("Negative", "Positive"))
            
            # Create data frame
            test_data <- data.frame(
                Test1 = test1_result,
                Test2 = test2_result
            )
            
            # Latent Class Analysis (recommended method)
            nogoldstandard(
                data = test_data,
                test1 = "Test1",
                test1Positive = "Positive", 
                test2 = "Test2",
                test2Positive = "Positive",
                method = "latent_class"
            )
            
            # With bootstrap confidence intervals
            nogoldstandard(
                data = test_data,
                test1 = "Test1",
                test1Positive = "Positive",
                test2 = "Test2", 
                test2Positive = "Positive",
                method = "latent_class",
                bootstrap = TRUE,
                nboot = 500,
                verbose = TRUE
            )

options:
    - name: data
      type: Data
      description:
          R: The data as a data frame.

    - name: clinicalPreset
      title: Clinical Scenario Preset
      type: List
      options:
        - name: none
          title: Custom Analysis (no preset)
        - name: diagnostic_validation
          title: 🔬 Diagnostic Test Validation
        - name: pathology_agreement
          title: 👥 Pathologist Agreement
        - name: tumor_markers
          title: 🎗️ Tumor Marker Evaluation
        - name: screening_evaluation
          title: 🩺 Screening Test Assessment
      default: none
      description:
          R: >
            Predefined clinical scenarios with optimized settings and method recommendations.

    - name: test1
      title: Test 1
      type: Variable
      suggested: [ nominal ]
      permitted: [ factor ]
      description:
          R: >
            First diagnostic test variable.

    - name: test1Positive
      title: Positive Level
      type: Level
      variable: (test1)
      description:
          R: >
            The positive level for Test 1.

    - name: test2
      title: Test 2
      type: Variable
      suggested: [ nominal ]
      permitted: [ factor ]
      description:
          R: >
            Second diagnostic test variable.

    - name: test2Positive
      title: Positive Level
      type: Level
      variable: (test2)
      description:
          R: >
            The positive level for Test 2.

    - name: test3
      title: Test 3
      type: Variable
      suggested: [ nominal ]
      permitted: [ factor ]
      description:
          R: >
            Third diagnostic test variable (optional).
      default: NULL

    - name: test3Positive
      title: Positive Level
      type: Level
      variable: (test3)
      description:
          R: >
            The positive level for Test 3.

    - name: test4
      title: Test 4
      type: Variable
      suggested: [ nominal ]
      permitted: [ factor ]
      description:
          R: >
            Fourth diagnostic test variable (optional).
      default: NULL


    - name: test4Positive
      title: Positive Level
      type: Level
      variable: (test4)
      description:
          R: >
            The positive level for Test 4.

    - name: test5
      title: Test 5
      type: Variable
      suggested: [ nominal ]
      permitted: [ factor ]
      description:
          R: >
            Fifth diagnostic test variable (optional).
      default: NULL


    - name: test5Positive
      title: Positive Level
      type: Level
      variable: (test5)
      description:
          R: >
            The positive level for Test 5.

    - name: method
      title: Analysis Method
      type: List
      options:
        - title: Latent Class Analysis
          name: latent_class
        - title: Composite Reference
          name: composite
        - title: All Tests Positive
          name: all_positive
        - title: Any Test Positive
          name: any_positive
        - title: Bayesian Analysis
          name: bayesian
      default: all_positive
      description:
          R: >
            Method for analyzing tests without gold standard.

    - name: bootstrap
      title: Bootstrap CI
      type: Bool
      default: false
      description:
          R: >
            Calculate bootstrap confidence intervals.

    - name: nboot
      title: Number of Bootstrap Samples
      type: Number
      default: 1000
      min: 100
      max: 10000
      description:
          R: >
            Number of bootstrap samples for confidence intervals.

    - name: alpha
      title: Alpha Level
      type: Number
      default: 0.05
      min: 0.01
      max: 0.20
      description:
          R: >
            Alpha level for confidence intervals.

    - name: verbose
      title: Verbose Bootstrap Output
      type: Bool
      default: false
      description:
          R: >
            Show detailed progress messages during bootstrap analysis.

...
