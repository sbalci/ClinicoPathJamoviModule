title: Swimmer Plot
name: swimmerplot
jus: '3.0'
stage: 0
compilerMode: tame
children:
  # === QUICK SETUP & PRESETS ===
  # DISABLED: Clinical presets only affect text interpretation, not calculations
  # Will be re-enabled after enhanced implementation
  # - type: CollapseBox
  #   label: "üöÄ Quick Setup & Clinical Presets"
  #   collapsed: false
  #   children:
  #     - type: LayoutBox
  #       margin: large
  #       children:
  #         - type: ComboBox
  #           name: clinicalPreset
  #         - type: CheckBox
  #           name: guidedMode

  # === CORE DATA VARIABLES ===
  - type: CollapseBox
    label: "üìä Core Data Variables"
    collapsed: false
    children:
      - type: VariableSupplier
        persistentItems: true
        stretchFactor: 1
        children:
          - type: TargetLayoutBox
            label: "Patient ID (Required)"
            children:
              - type: VariablesListBox
                name: patientID
                maxItemCount: 1
                isTarget: true
          - type: TargetLayoutBox
            label: "Start Time (Required)"
            children:
              - type: VariablesListBox
                name: startTime
                maxItemCount: 1
                isTarget: true
          - type: TargetLayoutBox
            label: "End Time (Required)"
            children:
              - type: VariablesListBox
                name: endTime
                maxItemCount: 1
                isTarget: true
          - type: TargetLayoutBox
            label: "Response/Status Variable (Optional)"
            children:
              - type: VariablesListBox
                name: responseVar
                maxItemCount: 1
                isTarget: true

  # === TIME & DATE SETTINGS ===
  - type: CollapseBox
    label: "‚è∞ Time & Date Settings"
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: "Time Input Configuration"
            children:
              - type: ComboBox
                name: timeType
              - type: ComboBox
                name: dateFormat
                enable: (timeType:datetime)
              - type: ComboBox
                name: timeUnit
              - type: ComboBox
                name: timeDisplay

  # === MILESTONES ===
  - type: CollapseBox
    label: "üéØ Clinical Milestones"
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: maxMilestones
            format: number
      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: "<b>Milestone Names</b>"
            format: html
            children:
              - type: TextBox
                name: milestone1Name
                format: string
                width: largest
              - type: TextBox
                name: milestone2Name
                format: string
                width: largest
              - type: TextBox
                name: milestone3Name
                format: string
                width: largest
              - type: TextBox
                name: milestone4Name
                format: string
                width: largest
              - type: TextBox
                name: milestone5Name
                format: string
                width: largest
      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: "<b>Milestone Times/Dates</b>"
            format: html
            fitToGrid: true
            stretchFactor: 1
      - type: VariableSupplier
        persistentItems: false
        stretchFactor: 1
        fitToGrid: true
        children:
          - type: TargetLayoutBox
            label: "Milestone 1 Date"
            children:
              - type: VariablesListBox
                name: milestone1Date
                maxItemCount: 1
                isTarget: true
          - type: TargetLayoutBox
            label: "Milestone 2 Date"
            children:
              - type: VariablesListBox
                name: milestone2Date
                maxItemCount: 1
                isTarget: true
          - type: TargetLayoutBox
            label: "Milestone 3 Date"
            children:
              - type: VariablesListBox
                name: milestone3Date
                maxItemCount: 1
                isTarget: true
          - type: TargetLayoutBox
            label: "Milestone 4 Date"
            children:
              - type: VariablesListBox
                name: milestone4Date
                maxItemCount: 1
                isTarget: true
          - type: TargetLayoutBox
            label: "Milestone 5 Date"
            children:
              - type: VariablesListBox
                name: milestone5Date
                maxItemCount: 1
                isTarget: true

  # === EVENT MARKERS ===
  - type: CollapseBox
    label: "üîµ Event Markers"
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: showEventMarkers
      - type: VariableSupplier
        persistentItems: false
        stretchFactor: 1
        children:
          - type: TargetLayoutBox
            label: "Event Type Variable"
            children:
              - type: VariablesListBox
                name: eventVar
                maxItemCount: 1
                isTarget: true
          - type: TargetLayoutBox
            label: "Event Time Variable"
            children:
              - type: VariablesListBox
                name: eventTimeVar
                maxItemCount: 1
                isTarget: true

  # === VISUALIZATION OPTIONS ===
  - type: CollapseBox
    label: "üé® Visualization Options"
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: "Plot Appearance"
            children:
              - type: ComboBox
                name: plotTheme
              - type: CheckBox
                name: showLegend
              - type: TextBox
                name: laneWidth
                format: number
              - type: TextBox
                name: markerSize
                format: number
      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: "Reference Lines"
            children:
              - type: ComboBox
                name: referenceLines
              - type: TextBox
                name: customReferenceTime
                format: number
                enable: (referenceLines:custom)
              - type: TextBox
                name: customReferenceDate
                format: string
                enable: (referenceLines:custom && timeType:datetime && timeDisplay:absolute)

  # === SORTING & DISPLAY ===
  - type: CollapseBox
    label: "üìã Sorting & Display Options"
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: sortOrder
      - type: VariableSupplier
        persistentItems: false
        stretchFactor: 1
        children:
          - type: TargetLayoutBox
            label: "Sort By Variable (Optional)"
            children:
              - type: VariablesListBox
                name: sortVariable
                maxItemCount: 1
                isTarget: true

  # === ANALYSIS OPTIONS ===
  - type: CollapseBox
    label: "üìà Analysis & Interpretation"
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: showInterpretation
          - type: CheckBox
            name: personTimeAnalysis
          - type: CheckBox
            name: responseAnalysis
      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: "Clinical Guidance & Documentation"
            children:
              - type: CheckBox
                name: showGlossary
              - type: CheckBox
                name: showCopyReady
              - type: CheckBox
                name: showAbout

  # === EXPORT OPTIONS ===
  - type: CollapseBox
    label: "üíæ Export Options"
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: exportTimeline
          - type: CheckBox
            name: exportSummary
