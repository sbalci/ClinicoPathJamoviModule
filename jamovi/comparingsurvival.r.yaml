---
name:  comparingSurvival
title: Comparing Survival Outcomes
jrs:   '1.1'

items:
    - name:  text
      title: Comparing Survival Outcomes
      type:  Preformatted

    - name:  compsurvTable1
      title: Events Summary
      type: Table
      clearWith:
        - times
        - status
        - groups
      columns:
        - name: group
          title: ''
          type: text
          content: ($key)
          visible: (groups)
        - name: n
          title: 'Number of Subjects'
          type: integer
        - name: obs
          title: 'Observed Events (V)'
          type: integer
        - name: exp
          title: 'Expected Events (E)'
          type: number
        - name: ovse
          title: '(O-E)^2/E'
          type: number
        - name: ovsev
          title: '(O-E)^2/V'
          type: number

    - name:  compsurvTable2
      title: Log-Rank Test Summary
      type: Table
      rows:  1
      columns:
        - name: var
          title: 'Method'
          type: text
        - name: chisqr
          title: 'Chi-Squared'
          type: number
        - name: df
          title: 'DF'
          type: integer
        - name: p
          title: 'P-Value'
          type: number
          format: zto,pvalue

    - name:  compsurvTable3
      title: Median Estimates
      type: Table
      clearWith:
        - times
        - status
      columns:
        - name: group
          title: ''
          type: text
          content: ($key)
          visible: (groups)
        - name: median
          title: 'Median'
          type: number
        - name: cilb
          title: 'Lower'
          type: number
        - name: ciub
          title: 'Upper'
          type: number


    - name: plot
      title: Kaplan-Meier estimator of the survivor function
      type: Image
      width:  600
      height: 500
      renderFun: .plot

    - name: plot2
      title: Cumulative hazard function (log scale)
      type: Image
      width:  600
      height: 500
      renderFun: .plot2

    - name: pairwiseTable
      title: Pairwise Log-rank Comparisons
      type: Table
      visible: (pairwise)
      clearWith:
        - times
        - status
        - groups
        - pairwiseCorrection
      columns:
        - name: comparison
          title: 'Comparison'
          type: text
        - name: chisq
          title: 'Chi-square'
          type: number
          format: zto
        - name: df
          title: 'DF'
          type: integer
        - name: p_value
          title: 'P-value'
          type: number
          format: zto,pvalue
        - name: adj_p_value
          title: 'Adjusted P-value'
          type: number
          format: zto,pvalue
          visible: (pairwiseCorrection != "none")

    - name: trendTestTable
      title: Test for Trend
      type: Table
      visible: (trendTest)
      rows: 1
      clearWith:
        - times
        - status
        - groups
      columns:
        - name: method
          title: 'Method'
          type: text
        - name: chisq
          title: 'Chi-square'
          type: number
          format: zto
        - name: df
          title: 'DF'
          type: integer
        - name: p_value
          title: 'P-value'
          type: number
          format: zto,pvalue

    - name: landmarkNote
      title: Landmark Analysis
      type: Html
      visible: (landmarkTime > 0)
      clearWith:
        - times
        - status
        - groups
        - landmarkTime
        - landmarkUnit

refs:
    - ClinicoPathJamoviModule

    - survival
    - ggfortify
...
