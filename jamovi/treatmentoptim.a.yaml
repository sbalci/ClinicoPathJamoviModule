---
name: treatmentoptim
title: Treatment Optimization Framework
menuGroup: ClinicoPathD
version: '1.0.0'
jas: '1.2'

description:
    main: |
        Treatment Optimization Framework provides personalized treatment selection,
        drug interaction screening, and dose optimization based on individual patient
        characteristics, medical history, and evidence-based clinical guidelines for
        optimal therapeutic decision-making.
        
    R:
        dontrun: false
        usage: |
            data('histopathology', package='ClinicoPath')
            
            # Basic treatment optimization analysis
            treatmentoptim(histopathology, 
                         patientVars = c('Age', 'Gender'), 
                         treatmentOptions = 'Treatment',
                         responseVar = 'Response',
                         treatment_selection = TRUE,
                         dose_optimization = TRUE)

completeWhenFilled: true

options:
    - name: data
      type: Data

    - name: patientVars
      title: Patient Characteristics
      type: Variables
      suggested:
        - continuous
        - nominal
      permitted:
        - numeric
        - factor
      description:
          R: Patient characteristics for personalized treatment (age, gender, comorbidities, biomarkers)

    - name: treatmentOptions
      title: Treatment Options
      type: Variable
      suggested:
        - nominal
      permitted:
        - factor
      description:
          R: Available treatment options for comparison and selection

    - name: responseVar
      title: Treatment Response
      type: Variable
      suggested:
        - continuous
        - nominal
      permitted:
        - numeric
        - factor
      description:
          R: Treatment response or outcome variable (optional, for model training)

    - name: medicationVars
      title: Current Medications
      type: Variables
      suggested:
        - nominal
      permitted:
        - factor
      description:
          R: Current medications for drug interaction screening (optional)

    - name: labVars
      title: Laboratory Values
      type: Variables
      suggested:
        - continuous
      permitted:
        - numeric
      description:
          R: Laboratory values for dose optimization and safety assessment (optional)

    - name: comorbidityVars
      title: Comorbidities
      type: Variables
      suggested:
        - nominal
      permitted:
        - factor
      description:
          R: Comorbidity variables for treatment safety assessment (optional)

    - name: treatment_selection
      title: Treatment Selection Analysis
      type: Bool
      default: true
      description:
          R: Perform personalized treatment selection analysis

    - name: drug_interaction
      title: Drug Interaction Screening
      type: Bool
      default: true
      description:
          R: Perform comprehensive drug interaction screening

    - name: dose_optimization
      title: Dose Optimization
      type: Bool
      default: false
      description:
          R: Perform dose optimization based on patient characteristics

    - name: safety_assessment
      title: Safety Assessment
      type: Bool
      default: true
      description:
          R: Perform comprehensive safety assessment and contraindication checking

    - name: treatment_comparison
      title: Treatment Comparison
      type: Bool
      default: true
      description:
          R: Compare multiple treatment options with risk-benefit analysis

    - name: prediction_model
      title: Prediction Model Type
      type: List
      options:
        - name: logistic
          title: Logistic Regression
        - name: random_forest
          title: Random Forest
        - name: gradient_boosting
          title: Gradient Boosting
        - name: ensemble
          title: Ensemble Methods
      default: logistic
      description:
          R: Machine learning model for treatment response prediction

    - name: interaction_severity
      title: Interaction Severity Filter
      type: List
      options:
        - name: all
          title: All Interactions
        - name: major_critical
          title: Major & Critical Only
        - name: critical_only
          title: Critical Only
      default: major_critical
      description:
          R: Filter drug interactions by clinical significance level

    - name: dose_adjustment
      title: Dose Adjustment Factors
      type: Bool
      default: true
      description:
          R: Consider dose adjustment for age, weight, organ function

    - name: confidence_level
      title: Confidence Level
      type: Number
      min: 0.5
      max: 0.99
      default: 0.95
      description:
          R: Confidence level for prediction intervals and safety assessments

    - name: treatment_plots
      title: Treatment Comparison Plots
      type: Bool
      default: true
      description:
          R: Create treatment comparison and outcome prediction plots

    - name: interaction_network
      title: Drug Interaction Network
      type: Bool
      default: false
      description:
          R: Create network visualization of drug interactions

    - name: dose_response_plots
      title: Dose-Response Plots
      type: Bool
      default: false
      description:
          R: Create dose-response relationship plots

    - name: clinical_guidelines
      title: Clinical Guidelines Integration
      type: Bool
      default: true
      description:
          R: Integrate evidence-based clinical practice guidelines

    - name: pharmacokinetic_model
      title: Pharmacokinetic Modeling
      type: Bool
      default: false
      description:
          R: Apply pharmacokinetic models for dose optimization

    - name: population_model
      title: Population-Based Models
      type: Bool
      default: true
      description:
          R: Use population-based treatment response models

    - name: individual_factors
      title: Individual Patient Factors
      type: Bool
      default: true
      description:
          R: Consider individual patient factors in treatment selection

    - name: evidence_level
      title: Evidence Level Filter
      type: List
      options:
        - name: all
          title: All Evidence Levels
        - name: high_moderate
          title: High & Moderate Quality
        - name: high_only
          title: High Quality Only
      default: high_moderate
      description:
          R: Filter recommendations by evidence quality level

    - name: clinical_interpretation
      title: Clinical Interpretation Guide
      type: Bool
      default: true
      description:
          R: Provide clinical interpretation and implementation guidance
