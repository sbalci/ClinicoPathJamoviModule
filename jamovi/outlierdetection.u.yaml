title: Advanced Outlier Detection
name: outlierdetection
jus: '3.0'
stage: 0
compilerMode: tame
children:
  - type: VariableSupplier
    persistentItems: false
    stretchFactor: 1
    children:
      - type: TargetLayoutBox
        label: "Variables for Analysis (Lab Values, Biomarkers, etc.)"
        children:
          - type: VariablesListBox
            name: vars
            isTarget: true

  # Method Selection Section
  - type: CollapseBox
    label: "Detection Method"
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: method_category
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: univariate_methods
            enable: (method_category == 'univariate')
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: multivariate_methods
            enable: (method_category == 'multivariate')

  # Threshold Settings Section
  - type: CollapseBox
    label: "Threshold Settings (Advanced)"
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: composite_threshold
            format: number
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: zscore_threshold
            format: number
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: iqr_multiplier
            format: number
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: confidence_level
            format: number

  # Output Selection Section
  - type: CollapseBox
    label: "Results to Display"
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: show_outlier_table
          - type: CheckBox
            name: show_method_comparison
          - type: CheckBox
            name: show_exclusion_summary
          - type: CheckBox
            name: show_visualization
          - type: CheckBox
            name: show_interpretation
