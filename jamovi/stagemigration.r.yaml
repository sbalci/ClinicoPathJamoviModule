---
name:  stagemigration
title: Advanced TNM Stage Migration Analysis
jrs:   '1.1'

items:
    # Welcome Message
    - name: welcomeMessage
      title: Welcome
      type: Html
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel

    # Copy-Ready Clinical Report (New Feature)
    - name: copyReadyReport
      title: ðŸ“„ Copy-Ready Clinical Summary
      type: Html
      visible: (generateCopyReadyReport)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - clinicalPreset
          - analysisType

    # Guided Mode Progress Indicator (New Feature)
    - name: guidedModeProgress
      title: ðŸ§­ Analysis Progress
      type: Html
      visible: (enableGuidedMode)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel

    # Debugging Information
    - name: mydataview
      title: mydataview
      type: Preformatted
      visible: false

    - name: mydataview2
      title: mydataview2
      type: Preformatted
      visible: false

    # Migration Overview Explanation
    - name: migrationOverviewExplanation
      title: Understanding the Migration Overview
      type: Html
      visible: (showMigrationOverview && showExplanations)
      clearWith:
          - showMigrationOverview

    # Migration Overview
    - name: migrationOverview
      title: Migration Overview
      type: Table
      visible: (showMigrationOverview)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
      columns:
          - name: statistic
            title: "Statistic"
            type: text
          - name: value
            title: "Value"
            type: text
          - name: percentage
            title: "Percentage"
            type: text


    # Migration Matrix Explanation
    - name: migrationMatrixExplanation
      title: Understanding the Migration Matrix
      type: Html
      visible: (showMigrationMatrix && showExplanations)
      clearWith:
          - showMigrationMatrix

    # Migration Matrix
    - name: migrationMatrix
      title: Stage Migration Matrix
      type: Table
      visible: (showMigrationMatrix)
      clearWith:
          - oldStage
          - newStage
      columns:
        - name: .name
          title: "Original Stage"
          type: text




    # Stage Distribution Explanation
    - name: stageDistributionExplanation
      title: Understanding Stage Distribution Changes
      type: Html
      visible: (showStageDistribution && showExplanations)
      clearWith:
          - showStageDistribution

    # Stage Distribution Comparison
    - name: stageDistribution
      title: Stage Distribution Comparison
      type: Table
      visible: (showStageDistribution)
      clearWith:
          - oldStage
          - newStage
      columns:
          - name: stage
            title: "Stage"
            type: text
          - name: oldCount
            title: "Original Count"
            type: integer
          - name: oldPct
            title: "Original %"
            type: text
          - name: newCount
            title: "New Count"
            type: integer
          - name: newPct
            title: "New %"
            type: text
          - name: change
            title: "Change"
            type: text




    # Migration Summary Explanation
    - name: migrationSummaryExplanation
      title: Understanding Statistical Tests for Migration
      type: Html
      visible: (showMigrationSummary && showExplanations)
      clearWith:
          - showMigrationSummary

    # Migration Summary
    - name: migrationSummary
      title: Migration Summary
      type: Table
      visible: (showMigrationSummary)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
      columns:
          - name: statistic
            title: "Statistic"
            type: text
          - name: value
            title: "Value"
            type: text



    # Statistical Comparison Explanation
    - name: statisticalComparisonExplanation
      title: Understanding Statistical Comparison Metrics
      type: Html
      visible: (showStatisticalComparison && showExplanations)
      clearWith:
          - showStatisticalComparison

    # Statistical Comparison
    - name: statisticalComparison
      title: Statistical Comparison
      type: Table
      visible: (showStatisticalComparison)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
      columns:
          - name: metric
            title: "Metric"
            type: text
          - name: value
            title: "Value"
            type: text
          - name: ci
            title: "95% CI"
            type: text
          - name: interpretation
            title: "Interpretation"
            type: text




    # Concordance Comparison Explanation
    - name: concordanceComparisonExplanation
      title: Understanding Concordance (C-Index) Analysis
      type: Html
      visible: (showConcordanceComparison && showExplanations)
      clearWith:
          - showConcordanceComparison

    # Discrimination Comparison
    - name: concordanceComparison
      title: Discrimination Comparison (C-Index)
      type: Table
      visible: (showConcordanceComparison)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
      columns:
          - name: Model
            title: "Model"
            type: text
          - name: C_Index
            title: "C-Index"
            type: number
            format: zto
          - name: SE
            title: "SE"
            type: number
            format: zto
          - name: CI_Lower
            title: "95% CI Lower"
            type: number
            format: zto
          - name: CI_Upper
            title: "95% CI Upper"
            type: number
            format: zto
          - name: Difference
            title: "Difference"
            type: number
            format: zto
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue

    # Net Reclassification Improvement Explanation
    - name: nriResultsExplanation
      title: Understanding Net Reclassification Improvement (NRI)
      type: Html
      visible: (calculateNRI && showExplanations)
      clearWith:
          - calculateNRI

    # Net Reclassification Improvement
    - name: nriResults
      title: Net Reclassification Improvement (NRI)
      type: Table
      visible: (calculateNRI)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - calculateNRI
          - nriTimePoints
      columns:
          - name: TimePoint
            title: "Time Point (months)"
            type: text
          - name: NRI
            title: "NRI"
            type: number
            format: zto
          - name: NRI_CI_Lower
            title: "95% CI Lower"
            type: number
            format: zto
          - name: NRI_CI_Upper
            title: "95% CI Upper"
            type: number
            format: zto
          - name: NRI_Plus
            title: "NRI+ (Events)"
            type: number
            format: zto
          - name: NRI_Minus
            title: "NRI- (Non-events)"
            type: number
            format: zto
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue

    # Integrated Discrimination Improvement Explanation
    - name: idiResultsExplanation
      title: Understanding Integrated Discrimination Improvement (IDI)
      type: Html
      visible: (calculateIDI && showExplanations)
      clearWith:
          - calculateIDI

    # Integrated Discrimination Improvement
    - name: idiResults
      title: Integrated Discrimination Improvement (IDI)
      type: Table
      visible: (calculateIDI)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - calculateIDI
      columns:
          - name: IDI
            title: "IDI"
            type: number
            format: zto
          - name: IDI_CI_Lower
            title: "95% CI Lower"
            type: number
            format: zto
          - name: IDI_CI_Upper
            title: "95% CI Upper"
            type: number
            format: zto
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Interpretation
            title: "Interpretation"
            type: text

    # Multifactorial Analysis Results Explanation
    - name: multifactorialAnalysisExplanation
      title: Understanding Multifactorial Stage Migration Analysis
      type: Html
      visible: (enableMultifactorialAnalysis && showExplanations)
      clearWith:
          - enableMultifactorialAnalysis

    # Multifactorial Model Results
    - name: multifactorialResults
      title: Multifactorial Model Results
      type: Table
      visible: (enableMultifactorialAnalysis && showMultifactorialTables)
      clearWith:
          - enableMultifactorialAnalysis
          - continuousCovariates
          - categoricalCovariates
          - multifactorialComparisonType
          - baselineModel
      columns:
          - name: Model
            title: "Model"
            type: text
          - name: C_Index
            title: "C-Index"
            type: number
            format: zto
          - name: SE
            title: "SE"
            type: number
            format: zto
          - name: CI_Lower
            title: "95% CI Lower"
            type: number
            format: zto
          - name: CI_Upper
            title: "95% CI Upper"
            type: number
            format: zto
          - name: AIC
            title: "AIC"
            type: number
            format: zto
          - name: BIC
            title: "BIC"
            type: number
            format: zto

    # Multifactorial Results Explanation
    - name: multifactorialResultsExplanation
      title: Understanding Multifactorial Model Results
      type: Html
      visible: (enableMultifactorialAnalysis && showMultifactorialTables && showExplanations)
      clearWith:
          - enableMultifactorialAnalysis
          - showMultifactorialTables

    # Adjusted C-Index Comparison
    - name: adjustedCIndexComparison
      title: Adjusted C-Index Comparison (Multifactorial)
      type: Table
      visible: (enableMultifactorialAnalysis && showAdjustedCIndexComparison)
      clearWith:
          - enableMultifactorialAnalysis
          - continuousCovariates
          - categoricalCovariates
      columns:
          - name: Comparison
            title: "Comparison"
            type: text
          - name: C_Index_Difference
            title: "C-Index Difference"
            type: number
            format: zto
          - name: SE
            title: "SE"
            type: number
            format: zto
          - name: CI_Lower
            title: "95% CI Lower"
            type: number
            format: zto
          - name: CI_Upper
            title: "95% CI Upper"
            type: number
            format: zto
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue

    # Adjusted C-Index Comparison Explanation
    - name: adjustedCIndexComparisonExplanation
      title: Understanding Adjusted C-Index Comparison
      type: Html
      visible: (enableMultifactorialAnalysis && showAdjustedCIndexComparison && showExplanations)
      clearWith:
          - enableMultifactorialAnalysis
          - showAdjustedCIndexComparison

    # Nested Model Tests
    - name: nestedModelTests
      title: Nested Model Tests
      type: Table
      visible: (enableMultifactorialAnalysis && showNestedModelTests)
      clearWith:
          - enableMultifactorialAnalysis
          - continuousCovariates
          - categoricalCovariates
      columns:
          - name: Model_Comparison
            title: "Model Comparison"
            type: text
          - name: Chi_Square
            title: "Chi-Square"
            type: number
            format: zto
          - name: df
            title: "df"
            type: integer
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Decision
            title: "Decision"
            type: text

    # Nested Model Tests Explanation
    - name: nestedModelTestsExplanation
      title: Understanding Nested Model Tests
      type: Html
      visible: (enableMultifactorialAnalysis && showNestedModelTests && showExplanations)
      clearWith:
          - enableMultifactorialAnalysis
          - showNestedModelTests

    # Stepwise Selection Results
    - name: stepwiseResults
      title: Stepwise Model Selection Results
      type: Table
      visible: (enableMultifactorialAnalysis && showStepwiseResults)
      clearWith:
          - enableMultifactorialAnalysis
          - continuousCovariates
          - categoricalCovariates
      columns:
          - name: Variable
            title: "Variable"
            type: text
          - name: Step
            title: "Step"
            type: text
          - name: Action
            title: "Action"
            type: text
          - name: AIC
            title: "AIC"
            type: number
            format: zto
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue

    # Stepwise Results Explanation
    - name: stepwiseResultsExplanation
      title: Understanding Stepwise Selection Results
      type: Html
      visible: (enableMultifactorialAnalysis && showStepwiseResults && showExplanations)
      clearWith:
          - enableMultifactorialAnalysis
          - showStepwiseResults

    # Interaction Tests Results
    - name: interactionTests
      title: Stage-Covariate Interaction Tests
      type: Table
      visible: (enableMultifactorialAnalysis && performInteractionTests)
      clearWith:
          - enableMultifactorialAnalysis
          - performInteractionTests
          - continuousCovariates
          - categoricalCovariates
      columns:
          - name: Interaction
            title: "Interaction"
            type: text
          - name: Chi_Square
            title: "Chi-Square"
            type: number
            format: zto
          - name: df
            title: "df"
            type: integer
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Interpretation
            title: "Interpretation"
            type: text

    # Interaction Tests Explanation
    - name: interactionTestsExplanation
      title: Understanding Stage-Covariate Interaction Tests
      type: Html
      visible: (enableMultifactorialAnalysis && performInteractionTests && showExplanations)
      clearWith:
          - enableMultifactorialAnalysis
          - performInteractionTests

    # Stratified Analysis Results
    - name: stratifiedAnalysis
      title: Stratified Analysis Results
      type: Table
      visible: (enableMultifactorialAnalysis && stratifiedAnalysis)
      clearWith:
          - enableMultifactorialAnalysis
          - stratifiedAnalysis
          - categoricalCovariates
      columns:
          - name: Stratum
            title: "Stratum"
            type: text
          - name: N
            title: "N"
            type: integer
          - name: C_Index_Old
            title: "C-Index (Original)"
            type: number
            format: zto
          - name: C_Index_New
            title: "C-Index (New)"
            type: number
            format: zto
          - name: Difference
            title: "Difference"
            type: number
            format: zto
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue

    # Stratified Analysis Explanation
    - name: stratifiedAnalysisExplanation
      title: Understanding Stratified Analysis
      type: Html
      visible: (enableMultifactorialAnalysis && stratifiedAnalysis && showExplanations)
      clearWith:
          - enableMultifactorialAnalysis
          - stratifiedAnalysis

    # Time-dependent ROC Analysis
    - name: rocAnalysis
      title: Time-dependent ROC Analysis
      type: Table
      visible: (performROCAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performROCAnalysis
          - rocTimePoints
      columns:
          - name: TimePoint
            title: "Time Point (months)"
            type: text
          - name: AUC_Old
            title: "AUC (Original)"
            type: number
            format: zto
          - name: AUC_New
            title: "AUC (New)"
            type: number
            format: zto
          - name: AUC_Difference
            title: "Difference"
            type: number
            format: zto
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue

    # Integrated AUC Analysis
    - name: integratedAUCAnalysis
      title: Integrated AUC Analysis
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
          - nriTimePoints
      columns:
          - name: Metric
            title: "Metric"
            type: text
          - name: Original_System
            title: "Original System"
            type: number
            format: zto
          - name: New_System
            title: "New System"
            type: number
            format: zto
          - name: Difference
            title: "Difference"
            type: number
            format: zto
          - name: CI_Lower
            title: "95% CI Lower"
            type: number
            format: zto
          - name: CI_Upper
            title: "95% CI Upper"
            type: number
            format: zto
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Interpretation
            title: "Interpretation"
            type: text

    # Decision Curve Analysis
    - name: dcaResultsExplanation
      title: Understanding Decision Curve Analysis (DCA)
      type: Html
      visible: (performDCA && showExplanations)
      clearWith:
          - performDCA

    - name: dcaResults
      title: Decision Curve Analysis
      type: Table
      visible: (performDCA)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performDCA
      columns:
          - name: Threshold
            title: "Threshold"
            type: number
            format: zto
          - name: NetBenefit_Old
            title: "Net Benefit (Original)"
            type: number
            format: zto
          - name: NetBenefit_New
            title: "Net Benefit (New)"
            type: number
            format: zto
          - name: Improvement
            title: "Improvement"
            type: number
            format: zto

    # Pseudo R-squared Results Explanation
    - name: pseudoR2ResultsExplanation
      title: Understanding Pseudo R-squared Measures
      type: Html
      visible: (calculatePseudoR2 && showExplanations)
      clearWith:
          - calculatePseudoR2

    # Pseudo R-squared Results
    - name: pseudoR2Results
      title: Pseudo R-squared Measures
      type: Table
      visible: (calculatePseudoR2)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - calculatePseudoR2
      columns:
          - name: Measure
            title: "Measure"
            type: text
          - name: Original
            title: "Original System"
            type: number
            format: zto
          - name: New
            title: "New System"
            type: number
            format: zto
          - name: Improvement
            title: "Improvement"
            type: number
            format: zto
          - name: Interpretation
            title: "Interpretation"
            type: text

    # Decision Curves Explanation
    - name: decisionCurvesExplanation
      title: Understanding Decision Curve Analysis
      type: Html
      visible: (showDecisionCurves && showExplanations)
      clearWith:
          - showDecisionCurves

    # Decision Curves
    - name: decisionCurves
      title: Decision Curves
      type: Image
      width: 700
      height: 500
      renderFun: .plotDecisionCurves
      visible: (showDecisionCurves)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - showDecisionCurves
          - performDCA

    # Bootstrap Validation Results
    - name: bootstrapResults
      title: Bootstrap Validation Results
      type: Table
      visible: (performBootstrap)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performBootstrap
          - bootstrapReps
      columns:
          - name: Metric
            title: "Metric"
            type: text
          - name: Apparent
            title: "Apparent"
            type: number
            format: zto
          - name: Bootstrap_Mean
            title: "Bootstrap Mean"
            type: number
            format: zto
          - name: Bootstrap_SE
            title: "Bootstrap SE"
            type: number
            format: zto
          - name: Bootstrap_CI_Lower
            title: "95% CI Lower"
            type: number
            format: zto
          - name: Bootstrap_CI_Upper
            title: "95% CI Upper"
            type: number
            format: zto
          - name: Optimism
            title: "Optimism"
            type: number
            format: zto
          - name: Optimism_Corrected
            title: "Optimism Corrected"
            type: number
            format: zto
          - name: Success_Rate
            title: "Success Rate"
            type: text
          - name: Clinical_Interpretation
            title: "Clinical Interpretation"
            type: text

    # Bootstrap Validation Results Explanation
    - name: bootstrapValidationExplanation
      title: Understanding Bootstrap Validation Results
      type: Html
      visible: (performBootstrap && showExplanations)
      clearWith:
          - performBootstrap

    # Will Rogers Phenomenon Analysis Explanation
    - name: willRogersAnalysisExplanation
      title: Understanding Will Rogers Phenomenon Analysis
      type: Html
      visible: (showWillRogersAnalysis && showExplanations)
      clearWith:
          - showWillRogersAnalysis

    # Will Rogers Phenomenon Analysis
    - name: willRogersBasicAnalysis
      title: Will Rogers Phenomenon Analysis
      type: Table
      visible: (showWillRogersAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - showWillRogersAnalysis
      columns:
          - name: Stage
            title: "Stage"
            type: text
          - name: Unchanged_N
            title: "Unchanged N"
            type: integer
          - name: Unchanged_Median
            title: "Unchanged Median"
            type: number
            format: zto
          - name: Migrated_N
            title: "Migrated N"
            type: integer
          - name: Migrated_Median
            title: "Migrated Median"
            type: number
            format: zto
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue

    # Likelihood Ratio Tests Explanation
    - name: likelihoodTestsExplanation
      title: Understanding Likelihood Ratio Tests
      type: Html
      visible: (performLikelihoodTests && showExplanations)
      clearWith:
          - performLikelihoodTests

    # Likelihood Ratio Tests
    - name: likelihoodTests
      title: Likelihood Ratio Tests
      type: Table
      visible: (performLikelihoodTests)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performLikelihoodTests
      columns:
          - name: Test
            title: "Test"
            type: text
          - name: Chi_Square
            title: "Chi-Square"
            type: number
            format: zto
          - name: df
            title: "df"
            type: integer
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue

    # Linear Trend Test Explanation
    - name: linearTrendTestExplanation
      title: Understanding Linear Trend Chi-square Tests
      type: Html
      visible: (performLikelihoodTests && showExplanations)
      clearWith:
          - performLikelihoodTests

    # Linear Trend Chi-square Tests
    - name: linearTrendTest
      title: Linear Trend Chi-square Tests
      type: Table
      visible: (performLikelihoodTests)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performLikelihoodTests
      columns:
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: Wald_Chi_Square
            title: "Wald Chi-Square"
            type: number
            format: zto
          - name: df
            title: "df"
            type: integer
          - name: P_Value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Coefficient
            title: "Coefficient"
            type: number
            format: zto
          - name: N_Stages
            title: "# Stages"
            type: integer
          - name: Interpretation
            title: "Interpretation"
            type: text

    # Stage Homogeneity Tests Explanation
    - name: homogeneityTestsExplanation
      title: Understanding Stage Homogeneity Tests
      type: Html
      visible: (performHomogeneityTests && showExplanations)
      clearWith:
          - performHomogeneityTests

    # Stage Homogeneity Tests
    - name: homogeneityTests
      title: Stage Homogeneity Tests
      type: Table
      visible: (performHomogeneityTests)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performHomogeneityTests
      columns:
          - name: Stage
            title: "Stage"
            type: text
          - name: Test
            title: "Test"
            type: text
          - name: Statistic
            title: "Statistic"
            type: number
            format: zto
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue

    # Stage Trend Tests Explanation
    - name: trendTestsExplanation
      title: Understanding Stage Trend Analysis
      type: Html
      visible: (performTrendTests && showExplanations)
      clearWith:
          - performTrendTests

    # Stage Trend Tests
    - name: trendTests
      title: Stage Trend Analysis
      type: Table
      visible: (performTrendTests)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performTrendTests
      columns:
          - name: System
            title: "Staging System"
            type: text
          - name: Test
            title: "Test"
            type: text
          - name: Statistic
            title: "Statistic"
            type: number
            format: zto
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Interpretation
            title: "Interpretation"
            type: text

    # Clinical Interpretation Explanation
    - name: clinicalInterpretationExplanation
      title: Understanding Clinical Interpretation Guide
      type: Html
      visible: (showClinicalInterpretation && showExplanations)
      clearWith:
          - showClinicalInterpretation

    # Clinical Interpretation
    - name: clinicalInterpretation
      title: Clinical Interpretation
      type: Table
      visible: (showClinicalInterpretation)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - showClinicalInterpretation
          - cancerType
      columns:
          - name: Metric
            title: "Metric"
            type: text
          - name: Value
            title: "Value"
            type: text
          - name: Interpretation
            title: "Interpretation"
            type: text
          - name: Recommendation
            title: "Recommendation"
            type: text

    # Executive Summary Explanation
    - name: executiveSummaryExplanation
      title: Understanding the Executive Summary
      type: Html
      visible: (generateExecutiveSummary && showExplanations)
      clearWith:
          - generateExecutiveSummary

    # Executive Summary
    - name: executiveSummary
      title: Executive Summary
      type: Table
      visible: (generateExecutiveSummary)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - generateExecutiveSummary
      columns:
          - name: Category
            title: "Category"
            type: text
          - name: Finding
            title: "Finding"
            type: text
          - name: Evidence
            title: "Evidence"
            type: text
          - name: Strength
            title: "Strength"
            type: text

    # Statistical Summary Explanation
    - name: statisticalSummaryExplanation
      title: Understanding the Statistical Summary
      type: Html
      visible: (showStatisticalSummary && showExplanations)
      clearWith:
          - showStatisticalSummary

    # Statistical Summary
    - name: statisticalSummary
      title: Statistical Summary
      type: Table
      visible: (showStatisticalSummary)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - showStatisticalSummary
      columns:
          - name: Method
            title: "Method"
            type: text
          - name: Result
            title: "Result"
            type: text
          - name: CI
            title: "95% CI"
            type: text
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Significance
            title: "Significance"
            type: text

    # Effect Sizes Explanation
    - name: effectSizesExplanation
      title: Understanding Effect Sizes
      type: Html
      visible: (includeEffectSizes && showExplanations)
      clearWith:
          - includeEffectSizes

    # Effect Sizes
    - name: effectSizes
      title: Effect Sizes
      type: Table
      visible: (includeEffectSizes)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - includeEffectSizes
      columns:
          - name: Measure
            title: "Measure"
            type: text
          - name: Effect_Size
            title: "Effect Size"
            type: number
            format: zto
          - name: Magnitude
            title: "Magnitude"
            type: text
          - name: Interpretation
            title: "Interpretation"
            type: text
          - name: Practical_Significance
            title: "Practical Significance"
            type: text

    # Methodology Notes
    - name: methodologyNotes
      title: Methodology Notes
      type: Html
      visible: (showMethodologyNotes)
      clearWith:
          - showMethodologyNotes

    # Plots Section

    # Migration Heatmap Explanation
    - name: migrationHeatmapExplanation
      title: Interpreting the Migration Heatmap
      type: Html
      visible: (showMigrationHeatmap && showExplanations)
      clearWith:
          - showMigrationHeatmap

    # Migration Heatmap
    - name: migrationHeatmap
      title: Migration Heatmap
      type: Image
      width: 700
      height: 500
      renderFun: .plotMigrationHeatmap
      visible: (showMigrationHeatmap)
      clearWith:
          - oldStage
          - newStage
          - showMigrationHeatmap


    # # Sankey Diagram Explanation
    # - name: sankeyDiagramExplanation
    #   title: Understanding Stage Migration Flow Diagram
    #   type: Html
    #   visible: (showSankeyDiagram && showExplanations)
    #   clearWith:
    #       - showSankeyDiagram

    # Sankey Diagram for Stage Migration
    - name: sankeyDiagram
      title: Stage Migration Flow Diagram
      type: Image
      width: 900
      height: 600
      renderFun: .plotSankeyDiagram
      visible: (showSankeyDiagram)
      clearWith:
          - oldStage
          - newStage
          - showSankeyDiagram






    # ROC Comparison Explanation
    - name: rocComparisonExplanation
      title: Understanding Time-dependent ROC Curves
      type: Html
      visible: (showROCComparison && showExplanations)
      clearWith:
          - showROCComparison

    # ROC Comparison Plot
    - name: rocComparisonPlot
      title: Time-dependent ROC Curves
      type: Image
      width: 800
      height: 600
      renderFun: .plotROCComparison
      visible: (showROCComparison)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - showROCComparison
          - rocTimePoints

    # Forest Plot Explanation
    - name: forestPlotExplanation
      title: Understanding Hazard Ratio Forest Plots
      type: Html
      visible: (showForestPlot && showExplanations)
      clearWith:
          - showForestPlot

    # Forest Plot
    - name: forestPlot
      title: Hazard Ratio Forest Plot
      type: Image
      width: 700
      height: 600
      renderFun: .plotForest
      visible: (showForestPlot)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - showForestPlot

    # Calibration Analysis Explanation
    - name: calibrationAnalysisExplanation
      title: Understanding Calibration Analysis
      type: Html
      visible: (performCalibration && showExplanations)
      clearWith:
          - performCalibration

    # Calibration Analysis
    - name: calibrationAnalysis
      title: Calibration Analysis
      type: Table
      visible: (performCalibration || advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performCalibration
      columns:
          - name: Model
            title: "Model"
            type: text
          - name: Hosmer_Lemeshow_Chi2
            title: "H-L ChiÂ²"
            type: number
            format: zto
          - name: Hosmer_Lemeshow_df
            title: "H-L df"
            type: integer
          - name: Hosmer_Lemeshow_p
            title: "H-L p-value"
            type: number
            format: zto,pvalue
          - name: Calibration_Slope
            title: "Calibration Slope"
            type: number
            format: zto
          - name: Calibration_Intercept
            title: "Calibration Intercept"
            type: number
            format: zto
          - name: C_Slope_CI_Lower
            title: "Slope 95% CI Lower"
            type: number
            format: zto
          - name: C_Slope_CI_Upper
            title: "Slope 95% CI Upper"
            type: number
            format: zto
          - name: Interpretation
            title: "Interpretation"
            type: text

    # Calibration Plots Explanation
    - name: calibrationPlotsExplanation
      title: Understanding Calibration Plots
      type: Html
      visible: (performCalibration && showCalibrationPlots && showExplanations)
      clearWith:
          - showCalibrationPlots

    # Calibration Plots
    - name: calibrationPlots
      title: Calibration Plots
      type: Image
      width: 800
      height: 400
      renderFun: .plotCalibration
      visible: (showCalibrationPlots && (performCalibration || advancedMigrationAnalysis))
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - showCalibrationPlots
          - performCalibration

    # Advanced Migration Analysis Explanation
    - name: advancedMigrationExplanation
      title: Understanding Advanced Migration Analysis
      type: Html
      visible: (advancedMigrationAnalysis && showExplanations)
      clearWith:
          - advancedMigrationAnalysis

    # Monotonicity Check
    - name: monotonicityCheck
      title: Monotonicity Assessment
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
      columns:
          - name: System
            title: "Staging System"
            type: text
          - name: Monotonic
            title: "Monotonic"
            type: text
          - name: Violations
            title: "Violations"
            type: integer
          - name: Details
            title: "Details"
            type: text
          - name: Score
            title: "Monotonicity Score"
            type: number
            format: zto

    # Will Rogers Analysis
    - name: willRogersAnalysis
      title: Will Rogers Phenomenon Analysis
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
      columns:
          - name: Migration_Pattern
            title: "Migration Pattern"
            type: text
          - name: Count
            title: "Count"
            type: integer
          - name: Survival_Change_Old
            title: "Old Stage Î” Survival"
            type: number
            format: zto
          - name: Survival_Change_New
            title: "New Stage Î” Survival"
            type: number
            format: zto
          - name: Will_Rogers_Evidence
            title: "Will Rogers Evidence"
            type: text
          - name: Clinical_Impact
            title: "Clinical Impact"
            type: text

    # Will Rogers Visualization
    - name: willRogersVisualization
      title: Will Rogers Effect Visualization
      type: Image
      width: 800
      height: 600
      renderFun: .plotWillRogersEffect
      visible: (showWillRogersVisualization)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - showWillRogersVisualization

    # Migration Survival Comparison
    - name: migrationSurvivalComparison
      title: Migration Survival Curve Comparison
      type: Image
      width: 1400
      height: 700
      renderFun: .plotMigrationSurvivalComparison
      visible: (showMigrationSurvivalComparison)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - showMigrationSurvivalComparison

    # Enhanced Will Rogers Analysis
    - name: willRogersEnhancedAnalysis
      title: Enhanced Will Rogers Statistical Analysis
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
      columns:
          - name: Stage
            title: "Stage"
            type: text
          - name: Period
            title: "Period"
            type: text
          - name: N_Patients
            title: "N"
            type: integer
          - name: Median_Survival
            title: "Median Survival"
            type: number
            format: zto
          - name: CI_Lower
            title: "95% CI Lower"
            type: number
            format: zto
          - name: CI_Upper
            title: "95% CI Upper"
            type: number
            format: zto
          - name: Survival_Change
            title: "Î” Survival"
            type: number
            format: zto
          - name: P_Value
            title: "P-value"
            type: number
            format: zto.pvalue
          - name: Statistical_Test
            title: "Test"
            type: text

    # Detailed Stage-Specific Will Rogers Analysis
    - name: willRogersStageDetail
      title: Detailed Stage-Specific Will Rogers Breakdown
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
      columns:
          - name: Stage
            title: "Stage"
            type: text
          - name: Migration_Type
            title: "Migration Type"
            type: text
          - name: N_Migrated
            title: "N Migrated"
            type: integer
          - name: Pct_Migrated
            title: "% Migrated"
            type: number
            format: pc
          - name: Original_Median
            title: "Original Median Survival"
            type: number
            format: zto
          - name: New_Median
            title: "New Median Survival"
            type: number
            format: zto
          - name: Absolute_Improvement
            title: "Absolute Improvement"
            type: number
            format: zto
          - name: Relative_Improvement
            title: "Relative Improvement %"
            type: number
            format: pc
          - name: Improvement_Type
            title: "Improvement Type"
            type: text
          - name: Clinical_Impact
            title: "Clinical Impact"
            type: text

    # Stage-Specific C-Index
    - name: stageSpecificCIndex
      title: Stage-Specific C-Index Analysis
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
      columns:
          - name: Old_Stage
            title: "Original Stage"
            type: text
          - name: N_Patients
            title: "N"
            type: integer
          - name: New_System_CIndex
            title: "New System C-Index"
            type: number
            format: zto
          - name: SE
            title: "SE"
            type: number
            format: zto
          - name: CI_Lower
            title: "95% CI Lower"
            type: number
            format: zto
          - name: CI_Upper
            title: "95% CI Upper"
            type: number
            format: zto
          - name: Prognostic_Value
            title: "Prognostic Value"
            type: text

    # Enhanced Pseudo R-squared
    - name: enhancedPseudoR2
      title: Enhanced Pseudo R-squared Measures
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
      columns:
          - name: Measure
            title: "Measure"
            type: text
          - name: Old_System
            title: "Original System"
            type: number
            format: zto
          - name: New_System
            title: "New System"
            type: number
            format: zto
          - name: Improvement
            title: "Improvement"
            type: number
            format: zto
          - name: Relative_Improvement
            title: "Relative Improvement (%)"
            type: number
            format: zto
          - name: Interpretation
            title: "Interpretation"
            type: text

    # Enhanced Reclassification Metrics
    - name: enhancedReclassificationMetrics
      title: Enhanced Reclassification Metrics
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
      columns:
          - name: Metric
            title: "Metric"
            type: text
          - name: Value
            title: "Value"
            type: number
            format: zto
          - name: CI_Lower
            title: "95% CI Lower"
            type: number
            format: zto
          - name: CI_Upper
            title: "95% CI Upper"
            type: number
            format: zto
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Interpretation
            title: "Clinical Interpretation"
            type: text

    # Proportional Hazards Test
    - name: proportionalHazardsTest
      title: Proportional Hazards Assumption Test
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
      columns:
          - name: Variable
            title: "Staging System"
            type: text
          - name: Chi_Square
            title: "Chi-Square"
            type: number
            format: zto
          - name: df
            title: "df"
            type: integer
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Assumption_Status
            title: "Assumption Status"
            type: text
          - name: Interpretation
            title: "Interpretation"
            type: text

    # Decision Curve Analysis
    - name: decisionCurveAnalysis
      title: Decision Curve Analysis
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
          - nriTimePoints
      columns:
          - name: Time_Point
            title: "Time Point (months)"
            type: number
            format: zto
          - name: Threshold_Probability
            title: "Threshold (%)"
            type: number
            format: zto
          - name: Net_Benefit_Original
            title: "Net Benefit Original"
            type: number
            format: zto
          - name: Net_Benefit_New
            title: "Net Benefit New"
            type: number
            format: zto
          - name: Difference
            title: "Difference"
            type: number
            format: zto
          - name: Clinical_Impact
            title: "Clinical Impact"
            type: text
          - name: Interpretation
            title: "Interpretation"
            type: text


    # Survival Curves Explanation
    - name: survivalCurvesExplanation
      title: Understanding Survival Curves Comparison
      type: Html
      visible: (showSurvivalCurves && showExplanations)
      clearWith:
          - showSurvivalCurves

    # Survival Curves
    - name: survivalCurves
      title: Survival Curves by Stage
      type: Image
      width: 900
      height: 700
      renderFun: .plotSurvivalCurves
      visible: (showSurvivalCurves)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - showSurvivalCurves
          - survivalPlotType
          - showConfidenceIntervals
          - showRiskTables
          - plotTimeRange



    # Comparative Analysis Dashboard Explanation
    - name: dashboardExplanation
      title: Understanding the Comparative Analysis Dashboard
      type: Html
      visible: (advancedMigrationAnalysis && showExplanations)
      clearWith:
          - advancedMigrationAnalysis

    # Comparative Analysis Dashboard
    - name: comparativeAnalysisDashboard
      title: Comparative Analysis Dashboard
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
      columns:
          - name: Analysis_Category
            title: "Analysis Category"
            type: text
          - name: Metric
            title: "Metric"
            type: text
          - name: Original_System
            title: "Original System"
            type: text
          - name: New_System
            title: "New System"
            type: text
          - name: Improvement
            title: "Improvement"
            type: text
          - name: Statistical_Significance
            title: "Statistical Significance"
            type: text
          - name: Clinical_Relevance
            title: "Clinical Relevance"
            type: text
          - name: Recommendation
            title: "Recommendation"
            type: text

    # ==================================================================================
    # PHASE 1 ADVANCED ENHANCEMENTS: Evidence-Based Assessment Results
    # ==================================================================================

    # Will Rogers Evidence Summary Explanation
    - name: willRogersEvidenceSummaryExplanation
      title: Understanding Will Rogers Evidence Assessment Framework
      type: Html
      visible: (advancedMigrationAnalysis && showExplanations)
      clearWith:
          - advancedMigrationAnalysis

    # Will Rogers Evidence Summary
    - name: willRogersEvidenceSummary
      title: Will Rogers Phenomenon Evidence Summary
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
      columns:
          - name: Criterion
            title: "Assessment Criterion"
            type: text
          - name: Assessment
            title: "Result"
            type: text
          - name: Evidence_Level
            title: "Evidence Strength"
            type: text
          - name: Interpretation
            title: "Clinical Interpretation"
            type: text

    # Will Rogers Clinical Recommendation
    - name: willRogersClinicalRecommendation
      title: Will Rogers Analysis Clinical Recommendation
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
      columns:
          - name: Category
            title: "Category"
            type: text
          - name: Finding
            title: "Finding"
            type: text
          - name: Confidence
            title: "Confidence Level"
            type: text
          - name: Guidance
            title: "Implementation Guidance"
            type: text

    # Enhanced Migration Pattern Analysis
    - name: enhancedMigrationPatternAnalysis
      title: Enhanced Migration Pattern Analysis
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - advancedMigrationAnalysis
      columns:
          - name: Pattern_Type
            title: "Pattern Type"
            type: text
          - name: Count
            title: "Count"
            type: integer
          - name: Percentage
            title: "Percentage"
            type: number
            format: pc
          - name: Flow_Direction
            title: "Flow Direction"
            type: text
          - name: Clinical_Impact
            title: "Clinical Impact"
            type: text

    # Landmark Analysis Results
    - name: landmarkAnalysisResults
      title: Landmark Analysis Results
      type: Table
      visible: (advancedMigrationAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - advancedMigrationAnalysis
          - cancerType
      columns:
          - name: Landmark_Time
            title: "Landmark Time (months)"
            type: number
            format: zto
          - name: N_Patients
            title: "N Patients"
            type: integer
          - name: N_Events
            title: "N Events"
            type: integer
          - name: Old_C_Index
            title: "Original C-Index"
            type: number
            format: zto
          - name: New_C_Index
            title: "New C-Index"
            type: number
            format: zto
          - name: C_Improvement
            title: "C-Index Improvement"
            type: number
            format: zto
          - name: Interpretation
            title: "Clinical Interpretation"
            type: text

    # Advanced Migration Heatmap Statistics
    - name: advancedMigrationHeatmapStats
      title: Advanced Migration Heatmap Statistics
      type: Table
      visible: (advancedMigrationAnalysis && showMigrationHeatmap)
      clearWith:
          - oldStage
          - newStage
          - advancedMigrationAnalysis
          - showMigrationHeatmap
      columns:
          - name: Stage
            title: "Stage"
            type: text
          - name: Retention_Rate
            title: "Retention Rate (%)"
            type: number
            format: pc
          - name: Inflow
            title: "Patients Gained"
            type: integer
          - name: Outflow
            title: "Patients Lost"
            type: integer
          - name: Net_Migration
            title: "Net Change"
            type: integer
          - name: Major_Flows
            title: "Major Migration Flows"
            type: text

    # Abbreviation Glossary
    - name: abbreviationGlossary
      title: Comprehensive Abbreviation Glossary and Statistical Terms
      type: Html
      visible: (showAbbreviationGlossary)
      clearWith:
          - showAbbreviationGlossary

    # Cross-Validation Explanation
    - name: crossValidationExplanation
      title: Understanding Cross-Validation Results
      type: Html
      visible: (performCrossValidation && showExplanations)
      clearWith:
          - performCrossValidation

    # Cross-Validation Results
    - name: crossValidationResults
      title: K-Fold Cross-Validation Results
      type: Table
      visible: (performCrossValidation)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performCrossValidation
          - cvFolds
      columns:
          - name: Fold
            title: "Fold"
            type: text
          - name: N_Train
            title: "N Train"
            type: integer
          - name: N_Test
            title: "N Test"
            type: integer
          - name: Train_Events
            title: "Train Events"
            type: integer
          - name: Test_Events
            title: "Test Events"
            type: integer
          - name: Old_System_CIndex
            title: "Old C-Index"
            type: number
            format: zto
          - name: Old_CIndex_CI_Lower
            title: "Old CI Lower"
            type: number
            format: zto
          - name: Old_CIndex_CI_Upper
            title: "Old CI Upper"
            type: number
            format: zto
          - name: New_System_CIndex
            title: "New C-Index"
            type: number
            format: zto
          - name: New_CIndex_CI_Lower
            title: "New CI Lower"
            type: number
            format: zto
          - name: New_CIndex_CI_Upper
            title: "New CI Upper"
            type: number
            format: zto
          - name: CIndex_Difference
            title: "C-Index Difference"
            type: number
            format: zto
          - name: Difference_SE
            title: "Difference SE"
            type: number
            format: zto
          - name: P_Value
            title: "P-Value"
            type: number
            format: zto,pvalue
          - name: Validation_Quality
            title: "Quality"
            type: text
          - name: Clinical_Interpretation
            title: "Clinical Interpretation"
            type: text

    # Cross-Validation Performance Plot
    - name: crossValidationPlot
      title: Cross-Validation Performance Visualization
      type: Image
      renderFun: .plotCrossValidation
      visible: (performCrossValidation)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performCrossValidation
          - cvFolds
          - institutionVariable
      width: 600
      height: 400

    # Enhanced LR Chi-Square Comparison
    - name: enhancedLRComparison
      title: LR Chi-Square Comparison (Key Staging Validation Metric)
      type: Table
      visible: (showStatisticalComparison)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - showStatisticalComparison
      columns:
          - name: Model
            title: "Staging System"
            type: text
          - name: LR_ChiSquare
            title: "LR Chi-Square"
            type: number
            format: zto
          - name: df
            title: "df"
            type: integer
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Goodness_of_Fit
            title: "Goodness of Fit"
            type: text
          - name: Model_Quality
            title: "Model Quality"
            type: text

    # Stage Migration Effect Formula (SME) Tables
    - name: stageMigrationEffectExplanation
      title: Understanding Stage Migration Effect Formula (SME)
      type: Html
      visible: (calculateSME && showExplanations)
      clearWith:
          - calculateSME

    # SME Results Table
    - name: stageMigrationEffect
      title: Stage Migration Effect Formula (SME) Results
      type: Table
      visible: (calculateSME)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - calculateSME
      columns:
          - name: Timepoint
            title: "Timepoint"
            type: text
          - name: SME_Value
            title: "SME Value"
            type: number
            format: zto,pvalue
          - name: Valid_Comparisons
            title: "Valid Comparisons"
            type: integer
          - name: Interpretation
            title: "Interpretation"
            type: text

    # SME Overall Assessment Table
    - name: stageMigrationEffectAssessment
      title: Overall Stage Migration Effect Assessment
      type: Table
      visible: (calculateSME)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - calculateSME
      columns:
          - name: Metric
            title: "Metric"
            type: text
          - name: Value
            title: "Value"
            type: text

    # RMST Analysis Tables
    - name: rmstAnalysisExplanation
      title: Understanding Restricted Mean Survival Time (RMST) Analysis
      type: Html
      visible: (calculateRMST && showExplanations)
      clearWith:
          - calculateRMST

    # RMST by Stage Table
    - name: rmstByStage
      title: RMST Analysis by Stage
      type: Table
      visible: (calculateRMST)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - calculateRMST
      columns:
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: Stage
            title: "Stage"
            type: text
          - name: N
            title: "N"
            type: integer
          - name: Events
            title: "Events"
            type: integer
          - name: RMST_Months
            title: "RMST (months)"
            type: number
            format: zto,pvalue
          - name: Median_Survival
            title: "Median Survival"
            type: number
            format: zto,pvalue

    # RMST Comparison Table
    - name: rmstComparison
      title: RMST Discrimination Comparison
      type: Table
      visible: (calculateRMST)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - calculateRMST
      columns:
          - name: System
            title: "System"
            type: text
          - name: RMST_Range
            title: "RMST Range"
            type: text
          - name: Discrimination
            title: "Discrimination"
            type: text

    # Competing Risks Analysis Tables
    - name: competingRisksExplanation
      title: Understanding Competing Risks Analysis
      type: Html
      visible: (performCompetingRisks && showExplanations)
      clearWith:
          - performCompetingRisks

    # Competing Risks Event Distribution Table
    - name: competingRisksEventDistribution
      title: Competing Risks Event Distribution by Stage
      type: Table
      visible: (performCompetingRisks)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performCompetingRisks
          - competingEventVar
      columns:
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: Stage
            title: "Stage"
            type: text
          - name: N_Total
            title: "N Total"
            type: integer
          - name: N_Primary
            title: "N Primary"
            type: integer
          - name: N_Competing
            title: "N Competing"
            type: integer
          - name: N_Censored
            title: "N Censored"
            type: integer
          - name: Primary_Rate
            title: "Primary Rate"
            type: number
            format: zto,pvalue
          - name: Competing_Rate
            title: "Competing Rate"
            type: number
            format: zto,pvalue

    # Competing Risks Comparison Table
    - name: competingRisksComparison
      title: Competing Risks Analysis Comparison
      type: Table
      visible: (performCompetingRisks)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performCompetingRisks
          - competingEventVar
      columns:
          - name: System
            title: "System"
            type: text
          - name: Metric
            title: "Metric"
            type: text
          - name: Primary_Events
            title: "Primary Events"
            type: text
          - name: Competing_Events
            title: "Competing Events"
            type: text
          - name: Assessment
            title: "Assessment"
            type: text

    # Optimal Cut-point Analysis Table
    - name: optimalCutpointAnalysis
      title: Optimal Cut-point Determination Results
      type: Table
      visible: (performOptimalCutpoint)
      clearWith:
          - continuousStageVariable
          - survivalTime
          - event
          - eventLevel
          - performOptimalCutpoint
          - cutpointMethod
          - cutpointRange
          - multipleTestingCorrection
      columns:
          - name: Method
            title: "Method"
            type: text
          - name: Optimal_Cutpoint
            title: "Optimal Cut-point"
            type: number
            format: dp:3
          - name: P_Value
            title: "P-value"
            type: number
            format: zto,pvalue
          - name: Adjusted_P_Value
            title: "Adjusted P-value"
            type: number
            format: zto,pvalue
          - name: Log_Rank_Statistic
            title: "Log-rank Ï‡Â²"
            type: number
            format: dp:3
          - name: Hazard_Ratio
            title: "Hazard Ratio"
            type: number
            format: dp:3
          - name: HR_CI
            title: "95% CI"
            type: text
          - name: Group_Sizes
            title: "Group Sizes"
            type: text
          - name: Clinical_Interpretation
            title: "Clinical Interpretation"
            type: text

    # Cut-point Validation Results Table
    - name: cutpointValidation
      title: Cut-point Validation Results
      type: Table
      visible: (performOptimalCutpoint && (validateCutpoint || cutpointBootstrap))
      clearWith:
          - continuousStageVariable
          - performOptimalCutpoint
          - validateCutpoint
          - cutpointBootstrap
          - cutpointBootstrapReps
      columns:
          - name: Validation_Method
            title: "Validation Method"
            type: text
          - name: Statistic
            title: "Statistic"
            type: text
          - name: Value
            title: "Value"
            type: text
          - name: Confidence_Interval
            title: "95% CI"
            type: text
          - name: Interpretation
            title: "Interpretation"
            type: text

    # Generated Staging System Table
    - name: generatedStagingSystem
      title: Generated Staging System Statistics
      type: Table
      visible: (performOptimalCutpoint && generateStagingSystem)
      clearWith:
          - continuousStageVariable
          - performOptimalCutpoint
          - generateStagingSystem
          - stagingSystemLevels
      columns:
          - name: Stage
            title: "Stage"
            type: text
          - name: N
            title: "N"
            type: integer
          - name: Events
            title: "Events"
            type: integer
          - name: Event_Rate
            title: "Event Rate (%)"
            type: number
            format: dp:1
          - name: Median_Survival
            title: "Median Survival"
            type: number
            format: dp:1
          - name: Hazard_Ratio
            title: "Hazard Ratio"
            type: number
            format: dp:3
          - name: HR_CI
            title: "95% CI"
            type: text
          - name: P_Value
            title: "P-value"
            type: number
            format: zto,pvalue

    # SHAP Analysis Results Table
    - name: shapGlobalImportance
      title: SHAP Global Feature Importance
      type: Table
      visible: (performSHAPAnalysis)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performSHAPAnalysis
          - shapCovariates
          - shapAnalysisType
      columns:
          - name: Feature
            title: "Feature"
            type: text
          - name: Mean_SHAP_Value
            title: "Mean |SHAP|"
            type: number
            format: dp:4
          - name: Importance_Rank
            title: "Rank"
            type: integer
          - name: Feature_Type
            title: "Type"
            type: text
          - name: Clinical_Impact
            title: "Clinical Impact"
            type: text
          - name: Direction
            title: "Primary Effect"
            type: text
          - name: Interaction_Score
            title: "Interaction Score"
            type: number
            format: dp:3
          - name: Stability
            title: "Stability"
            type: text

    # SHAP Individual Explanations Table
    - name: shapIndividualExplanations
      title: SHAP Individual Patient Explanations
      type: Table
      visible: (performSHAPAnalysis && (shapAnalysisType:individual || shapAnalysisType:comprehensive))
      clearWith:
          - oldStage
          - newStage
          - performSHAPAnalysis
          - shapPatientProfiles
          - shapSampleSize
      columns:
          - name: Patient_ID
            title: "Patient"
            type: text
          - name: Profile_Type
            title: "Profile"
            type: text
          - name: Predicted_Risk
            title: "Predicted Risk"
            type: number
            format: dp:3
          - name: Risk_Category
            title: "Risk Category"
            type: text
          - name: Top_Feature_1
            title: "Top Feature 1"
            type: text
          - name: SHAP_Value_1
            title: "SHAP Value 1"
            type: number
            format: dp:4
          - name: Top_Feature_2
            title: "Top Feature 2"
            type: text
          - name: SHAP_Value_2
            title: "SHAP Value 2"
            type: number
            format: dp:4
          - name: Top_Feature_3
            title: "Top Feature 3"
            type: text
          - name: SHAP_Value_3
            title: "SHAP Value 3"
            type: number
            format: dp:4
          - name: Clinical_Interpretation
            title: "Clinical Interpretation"
            type: text

    # SHAP Feature Interactions Table
    - name: shapInteractions
      title: SHAP Feature Interactions
      type: Table
      visible: (performSHAPAnalysis && shapInteractionAnalysis)
      clearWith:
          - performSHAPAnalysis
          - shapInteractionAnalysis
          - shapCovariates
      columns:
          - name: Feature_1
            title: "Feature 1"
            type: text
          - name: Feature_2
            title: "Feature 2"
            type: text
          - name: Interaction_Strength
            title: "Interaction Strength"
            type: number
            format: dp:4
          - name: Interaction_Rank
            title: "Rank"
            type: integer
          - name: Clinical_Relevance
            title: "Clinical Relevance"
            type: text
          - name: Effect_Direction
            title: "Effect Direction"
            type: text
          - name: Population_Frequency
            title: "Frequency (%)"
            type: number
            format: dp:1

    # SHAP Summary Statistics Table
    - name: shapSummaryStats
      title: SHAP Analysis Summary
      type: Table
      visible: (performSHAPAnalysis)
      clearWith:
          - performSHAPAnalysis
          - shapAnalysisType
          - shapSampleSize
      columns:
          - name: Metric
            title: "Metric"
            type: text
          - name: Value
            title: "Value"
            type: text
          - name: Interpretation
            title: "Interpretation"
            type: text

    # Competing Risks Analysis Results Tables
    
    # Fine-Gray Regression Results
    - name: fineGrayResults
      title: Fine-Gray Subdistribution Hazard Models
      type: Table
      visible: (performCompetingRisksAdvanced && (competingRisksMethod:finegray || competingRisksMethod:comprehensive))
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performCompetingRisksAdvanced
          - competingRisksCovariates
      columns:
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: Stage
            title: "Stage"
            type: text
          - name: SHR
            title: "Subdistribution HR"
            type: number
            format: dp:3
          - name: SHR_Lower
            title: "SHR Lower CI"
            type: number
            format: dp:3
          - name: SHR_Upper
            title: "SHR Upper CI"
            type: number
            format: dp:3
          - name: P_Value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Cumulative_Incidence_12m
            title: "CIF 12m (%)"
            type: number
            format: dp:1
          - name: Cumulative_Incidence_24m
            title: "CIF 24m (%)"
            type: number
            format: dp:1
          - name: Cumulative_Incidence_60m
            title: "CIF 60m (%)"
            type: number
            format: dp:1
          - name: Clinical_Significance
            title: "Clinical Significance"
            type: text

    # Cause-Specific Hazard Models Results
    - name: causeSpecificResults
      title: Cause-Specific Hazard Models
      type: Table
      visible: (performCompetingRisksAdvanced && (competingRisksMethod:causespecific || competingRisksMethod:comprehensive))
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performCompetingRisksAdvanced
      columns:
          - name: Event_Type
            title: "Event Type"
            type: text
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: Stage
            title: "Stage"
            type: text
          - name: HR
            title: "Hazard Ratio"
            type: number
            format: dp:3
          - name: HR_Lower
            title: "HR Lower CI"
            type: number
            format: dp:3
          - name: HR_Upper
            title: "HR Upper CI"
            type: number
            format: dp:3
          - name: P_Value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Model_Fit
            title: "Model Quality"
            type: text

    # Cumulative Incidence Function Summary
    - name: cifSummary
      title: Cumulative Incidence Function Summary
      type: Table
      visible: (performCompetingRisksAdvanced)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performCompetingRisksAdvanced
          - cifTimePoints
      columns:
          - name: Time_Point
            title: "Time (months)"
            type: integer
          - name: Event_Type
            title: "Event Type"
            type: text
          - name: Original_System_CIF
            title: "Original CIF (%)"
            type: number
            format: dp:1
          - name: Original_System_CI_Lower
            title: "Original Lower CI"
            type: number
            format: dp:1
          - name: Original_System_CI_Upper
            title: "Original Upper CI"
            type: number
            format: dp:1
          - name: New_System_CIF
            title: "New CIF (%)"
            type: number
            format: dp:1
          - name: New_System_CI_Lower
            title: "New Lower CI"
            type: number
            format: dp:1
          - name: New_System_CI_Upper
            title: "New Upper CI"
            type: number
            format: dp:1
          - name: Difference
            title: "Difference (%)"
            type: number
            format: dp:1
          - name: Gray_Test_P
            title: "Gray Test p-value"
            type: number
            format: zto,pvalue

    # Competing Risks C-Index Comparison
    - name: competingRisksCIndex
      title: Competing Risks Discrimination (C-Index)
      type: Table
      visible: (performCompetingRisksAdvanced && calculateCRCIndex)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performCompetingRisksAdvanced
      columns:
          - name: Event_Type
            title: "Event Type"
            type: text
          - name: Original_CIndex
            title: "Original C-Index"
            type: number
            format: dp:4
          - name: Original_CI_Lower
            title: "Original Lower CI"
            type: number
            format: dp:4
          - name: Original_CI_Upper
            title: "Original Upper CI"
            type: number
            format: dp:4
          - name: New_CIndex
            title: "New C-Index"
            type: number
            format: dp:4
          - name: New_CI_Lower
            title: "New Lower CI"
            type: number
            format: dp:4
          - name: New_CI_Upper
            title: "New Upper CI"
            type: number
            format: dp:4
          - name: Improvement
            title: "Improvement"
            type: number
            format: dp:4
          - name: P_Value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Clinical_Significance
            title: "Clinical Significance"
            type: text

    # Competing Risks Comprehensive Summary
    - name: competingRisksSummary
      title: Competing Risks Analysis Summary
      type: Table
      visible: (performCompetingRisksAdvanced && generateCRSummary)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - eventLevel
          - performCompetingRisksAdvanced
      columns:
          - name: Analysis_Component
            title: "Analysis Component"
            type: text
          - name: Original_System
            title: "Original System"
            type: text
          - name: New_System
            title: "New System"
            type: text
          - name: Comparison_Result
            title: "Comparison"
            type: text
          - name: Statistical_Significance
            title: "Statistical Significance"
            type: text
          - name: Clinical_Interpretation
            title: "Clinical Interpretation"
            type: text

    # Multi-State Models Results Tables

    # Transition Intensity Matrix
    - name: transitionIntensities
      title: Multi-State Transition Intensities
      type: Table
      visible: (performMultiStateAnalysis && generateTransitionMatrix)
      clearWith:
          - oldStage
          - newStage
          - stateVariable
          - transitionTimeVariable
          - performMultiStateAnalysis
          - multiStateModel
      columns:
          - name: From_State
            title: "From State"
            type: text
          - name: To_State
            title: "To State"
            type: text
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: Hazard_Rate
            title: "Hazard Rate"
            type: number
            format: dp:4
          - name: HR_Lower
            title: "HR Lower CI"
            type: number
            format: dp:4
          - name: HR_Upper
            title: "HR Upper CI"
            type: number
            format: dp:4
          - name: P_Value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Transition_Type
            title: "Transition Type"
            type: text
          - name: Clinical_Significance
            title: "Clinical Significance"
            type: text

    # State Transition Probabilities
    - name: transitionProbabilities
      title: State Transition Probabilities
      type: Table
      visible: (performMultiStateAnalysis && calculateTransitionProbabilities)
      clearWith:
          - oldStage
          - newStage
          - stateVariable
          - performMultiStateAnalysis
          - multiStateTimePoints
      columns:
          - name: Time_Point
            title: "Time (months)"
            type: integer
          - name: From_State
            title: "From State"
            type: text
          - name: To_State
            title: "To State"
            type: text
          - name: Original_Probability
            title: "Original Prob (%)"
            type: number
            format: dp:1
          - name: Original_CI_Lower
            title: "Original Lower CI"
            type: number
            format: dp:1
          - name: Original_CI_Upper
            title: "Original Upper CI"
            type: number
            format: dp:1
          - name: New_Probability
            title: "New Prob (%)"
            type: number
            format: dp:1
          - name: New_CI_Lower
            title: "New Lower CI"
            type: number
            format: dp:1
          - name: New_CI_Upper
            title: "New Upper CI"
            type: number
            format: dp:1
          - name: Probability_Difference
            title: "Difference (%)"
            type: number
            format: dp:1
          - name: Statistical_Test
            title: "Test p-value"
            type: number
            format: zto,pvalue

    # State Occupancy Probabilities
    - name: stateOccupancy
      title: State Occupancy Probabilities
      type: Table
      visible: (performMultiStateAnalysis)
      clearWith:
          - oldStage
          - newStage
          - stateVariable
          - performMultiStateAnalysis
          - multiStateTimePoints
      columns:
          - name: Time_Point
            title: "Time (months)"
            type: integer
          - name: State
            title: "State"
            type: text
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: Occupancy_Probability
            title: "Occupancy Prob (%)"
            type: number
            format: dp:1
          - name: CI_Lower
            title: "Lower CI"
            type: number
            format: dp:1
          - name: CI_Upper
            title: "Upper CI"
            type: number
            format: dp:1
          - name: Prediction_Quality
            title: "Prediction Quality"
            type: text
          - name: Clinical_Relevance
            title: "Clinical Relevance"
            type: text

    # Multi-State Model Comparison
    - name: multiStateComparison
      title: Multi-State Model Comparison
      type: Table
      visible: (performMultiStateAnalysis)
      clearWith:
          - oldStage
          - newStage
          - stateVariable
          - performMultiStateAnalysis
          - multiStateModel
      columns:
          - name: Model_Component
            title: "Model Component"
            type: text
          - name: Original_System
            title: "Original System"
            type: text
          - name: New_System
            title: "New System"
            type: text
          - name: Improvement_Metric
            title: "Improvement"
            type: text
          - name: Statistical_Significance
            title: "Significance"
            type: text
          - name: Clinical_Impact
            title: "Clinical Impact"
            type: text

    # Multi-State Comprehensive Summary
    - name: multiStateSummary
      title: Multi-State Analysis Summary
      type: Table
      visible: (performMultiStateAnalysis && generateMSMSummary)
      clearWith:
          - oldStage
          - newStage
          - stateVariable
          - performMultiStateAnalysis
      columns:
          - name: Analysis_Component
            title: "Analysis Component"
            type: text
          - name: Finding
            title: "Key Finding"
            type: text
          - name: Original_vs_New
            title: "System Comparison"
            type: text
          - name: Statistical_Evidence
            title: "Statistical Evidence"
            type: text
          - name: Clinical_Recommendation
            title: "Clinical Recommendation"
            type: text

    # Random Survival Forests Results Tables

    # Forest Variable Importance
    - name: forestVariableImportance
      title: Random Forest Variable Importance
      type: Table
      visible: (performRandomForestAnalysis && calculateVariableImportance)
      clearWith:
          - oldStage
          - newStage
          - survivalTime
          - event
          - performRandomForestAnalysis
          - forestCovariates
          - forestImportanceType
      columns:
          - name: Variable
            title: "Variable"
            type: text
          - name: Importance_Score
            title: "Importance Score"
            type: number
            format: dp:4
          - name: Importance_Rank
            title: "Rank"
            type: integer
          - name: Permutation_Pvalue
            title: "Permutation p-value"
            type: number
            format: zto,pvalue
          - name: Importance_Type
            title: "Importance Type"
            type: text
          - name: Variable_Type
            title: "Variable Type"
            type: text
          - name: Clinical_Relevance
            title: "Clinical Relevance"
            type: text
          - name: Staging_Contribution
            title: "Staging Contribution"
            type: text

    # Forest Model Performance
    - name: forestModelPerformance
      title: Random Forest Model Performance
      type: Table
      visible: (performRandomForestAnalysis)
      clearWith:
          - oldStage
          - newStage
          - performRandomForestAnalysis
          - forestModelType
          - forestNTrees
      columns:
          - name: Model_Type
            title: "Model Type"
            type: text
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: C_Index
            title: "C-Index"
            type: number
            format: dp:4
          - name: C_Index_CI_Lower
            title: "C-Index Lower CI"
            type: number
            format: dp:4
          - name: C_Index_CI_Upper
            title: "C-Index Upper CI"
            type: number
            format: dp:4
          - name: OOB_Error
            title: "OOB Error Rate"
            type: number
            format: dp:4
          - name: Brier_Score
            title: "Integrated Brier Score"
            type: number
            format: dp:4
          - name: Model_Complexity
            title: "Model Complexity"
            type: text
          - name: Performance_Grade
            title: "Performance Grade"
            type: text

    # Forest Survival Predictions
    - name: forestSurvivalPredictions
      title: Forest Survival Predictions
      type: Table
      visible: (performRandomForestAnalysis && generateSurvivalPredictions)
      clearWith:
          - oldStage
          - newStage
          - performRandomForestAnalysis
          - forestPredictionTimePoints
      columns:
          - name: Time_Point
            title: "Time (months)"
            type: integer
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: Stage
            title: "Stage"
            type: text
          - name: Survival_Probability
            title: "Survival Prob (%)"
            type: number
            format: dp:1
          - name: Prediction_CI_Lower
            title: "Prediction Lower CI"
            type: number
            format: dp:1
          - name: Prediction_CI_Upper
            title: "Prediction Upper CI"
            type: number
            format: dp:1
          - name: Risk_Category
            title: "Risk Category"
            type: text
          - name: Prediction_Quality
            title: "Prediction Quality"
            type: text
          - name: Clinical_Interpretation
            title: "Clinical Interpretation"
            type: text

    # Forest vs Cox Comparison
    - name: forestCoxComparison
      title: Random Forest vs Cox Model Comparison
      type: Table
      visible: (performRandomForestAnalysis && forestDiscriminationMetrics)
      clearWith:
          - oldStage
          - newStage
          - performRandomForestAnalysis
          - forestStagingComparison
      columns:
          - name: Metric
            title: "Performance Metric"
            type: text
          - name: Cox_Original
            title: "Cox Original"
            type: number
            format: dp:4
          - name: Cox_New
            title: "Cox New"
            type: number
            format: dp:4
          - name: Forest_Original
            title: "Forest Original"
            type: number
            format: dp:4
          - name: Forest_New
            title: "Forest New"
            type: number
            format: dp:4
          - name: Best_Method
            title: "Best Method"
            type: text
          - name: Improvement
            title: "Improvement"
            type: number
            format: dp:4
          - name: Statistical_Significance
            title: "Significance"
            type: text
          - name: Clinical_Impact
            title: "Clinical Impact"
            type: text

    # Forest Staging Comparison
    - name: forestStagingComparison
      title: Forest-Based Staging System Comparison
      type: Table
      visible: (performRandomForestAnalysis && forestStagingComparison)
      clearWith:
          - oldStage
          - newStage
          - performRandomForestAnalysis
      columns:
          - name: Analysis_Component
            title: "Analysis Component"
            type: text
          - name: Original_System
            title: "Original System"
            type: text
          - name: New_System
            title: "New System"
            type: text
          - name: Forest_Assessment
            title: "Forest Assessment"
            type: text
          - name: Improvement_Magnitude
            title: "Improvement"
            type: text
          - name: Statistical_Evidence
            title: "Statistical Evidence"
            type: text
          - name: Clinical_Recommendation
            title: "Clinical Recommendation"
            type: text

    # Forest Analysis Summary
    - name: forestAnalysisSummary
      title: Random Forest Analysis Summary
      type: Table
      visible: (performRandomForestAnalysis && generateForestSummary)
      clearWith:
          - oldStage
          - newStage
          - performRandomForestAnalysis
      columns:
          - name: Summary_Component
            title: "Analysis Component"
            type: text
          - name: Key_Finding
            title: "Key Finding"
            type: text
          - name: Statistical_Result
            title: "Statistical Result"
            type: text
          - name: Clinical_Implication
            title: "Clinical Implication"
            type: text
          - name: Recommendation
            title: "Recommendation"
            type: text

    # ============================================================================
    # Cure Models Results Tables
    # ============================================================================

    # Cure Fraction Estimates
    - name: cureFractionEstimates
      title: Cure Fraction Estimates by Staging System
      type: Table
      visible: (performCureModelAnalysis)
      clearWith:
          - oldStage
          - newStage
          - performCureModelAnalysis
      columns:
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: Stage_Group
            title: "Stage Group"
            type: text
          - name: Sample_Size
            title: "N"
            type: integer
          - name: Cure_Fraction
            title: "Cure Fraction"
            type: number
            format: dp:4
          - name: CF_Lower_CI
            title: "95% CI Lower"
            type: number
            format: dp:4
          - name: CF_Upper_CI
            title: "95% CI Upper"
            type: number
            format: dp:4
          - name: Median_Survival_Susceptible
            title: "Median Survival (Susceptible)"
            type: number
            format: dp:2
          - name: Model_Type
            title: "Model Type"
            type: text
          - name: Convergence_Status
            title: "Convergence"
            type: text

    # Cure Model Parameters
    - name: cureModelParameters
      title: Cure Model Parameters and Fit Statistics
      type: Table
      visible: (performCureModelAnalysis)
      clearWith:
          - oldStage
          - newStage
          - performCureModelAnalysis
      columns:
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: Model_Type
            title: "Model Type"
            type: text
          - name: Distribution
            title: "Distribution"
            type: text
          - name: Log_Likelihood
            title: "Log-Likelihood"
            type: number
            format: dp:2
          - name: AIC
            title: "AIC"
            type: number
            format: dp:2
          - name: BIC
            title: "BIC"
            type: number
            format: dp:2
          - name: Overall_Cure_Fraction
            title: "Overall Cure Fraction"
            type: number
            format: dp:4
          - name: Shape_Parameter
            title: "Shape Parameter"
            type: number
            format: dp:4
          - name: Scale_Parameter
            title: "Scale Parameter"
            type: number
            format: dp:4
          - name: Goodness_of_Fit_p
            title: "GoF p-value"
            type: number
            format: zto,pvalue

    # Cure Model Comparison
    - name: cureModelComparison
      title: Cure Model Staging System Comparison
      type: Table
      visible: (performCureModelAnalysis && cureModelComparison)
      clearWith:
          - oldStage
          - newStage
          - performCureModelAnalysis
      columns:
          - name: Comparison_Metric
            title: "Comparison Metric"
            type: text
          - name: Original_System
            title: "Original System"
            type: text
          - name: New_System
            title: "New System"
            type: text
          - name: Difference
            title: "Difference"
            type: number
            format: dp:4
          - name: LR_Test_Statistic
            title: "LR Test Statistic"
            type: number
            format: dp:4
          - name: p_value
            title: "p-value"
            type: number
            format: zto,pvalue
          - name: Statistical_Significance
            title: "Statistical Significance"
            type: text
          - name: Clinical_Interpretation
            title: "Clinical Interpretation"
            type: text

    # Stage-Specific Cure Analysis
    - name: stageSpecificCureAnalysis
      title: Stage-Specific Cure Patterns Analysis
      type: Table
      visible: (performCureModelAnalysis && cureStageSpecificAnalysis)
      clearWith:
          - oldStage
          - newStage
          - performCureModelAnalysis
      columns:
          - name: Analysis_Component
            title: "Analysis Component"
            type: text
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: Stage_Specific_Finding
            title: "Stage-Specific Finding"
            type: text
          - name: Cure_Fraction_Range
            title: "Cure Fraction Range"
            type: text
          - name: Discrimination_Quality
            title: "Discrimination Quality"
            type: text
          - name: Clinical_Utility
            title: "Clinical Utility"
            type: text
          - name: Recommendation
            title: "Recommendation"
            type: text

    # Cure Model Bootstrap Results
    - name: cureModelBootstrap
      title: Cure Model Bootstrap Validation
      type: Table
      visible: (performCureModelAnalysis && cureBootstrapCI)
      clearWith:
          - oldStage
          - newStage
          - performCureModelAnalysis
      columns:
          - name: Parameter
            title: "Parameter"
            type: text
          - name: Staging_System
            title: "Staging System"
            type: text
          - name: Original_Estimate
            title: "Original Estimate"
            type: number
            format: dp:4
          - name: Bootstrap_Mean
            title: "Bootstrap Mean"
            type: number
            format: dp:4
          - name: Bootstrap_SD
            title: "Bootstrap SD"
            type: number
            format: dp:4
          - name: Bootstrap_Lower_CI
            title: "Bootstrap 95% CI Lower"
            type: number
            format: dp:4
          - name: Bootstrap_Upper_CI
            title: "Bootstrap 95% CI Upper"
            type: number
            format: dp:4
          - name: Bias
            title: "Bias"
            type: number
            format: dp:4
          - name: Coverage_Probability
            title: "Coverage"
            type: number
            format: dp:4

    # Cure Analysis Summary
    - name: cureAnalysisSummary
      title: Cure Model Analysis Summary
      type: Table
      visible: (performCureModelAnalysis && generateCureSummary)
      clearWith:
          - oldStage
          - newStage
          - performCureModelAnalysis
      columns:
          - name: Analysis_Component
            title: "Analysis Component"
            type: text
          - name: Key_Finding
            title: "Key Finding"
            type: text
          - name: Statistical_Evidence
            title: "Statistical Evidence"
            type: text
          - name: Clinical_Interpretation
            title: "Clinical Interpretation"
            type: text
          - name: Recommendation
            title: "Recommendation"
            type: text

    - name: intervalCensoringOverview
      title: "Interval Censoring Analysis Overview"
      type: Table
      description: 'Summary of interval-censored data characteristics and model selection'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performIntervalCensoringAnalysis
        - intervalCensoringLeftTime
        - intervalCensoringRightTime
        - intervalCensoringModel
        - intervalCensoringDistribution
      columns:
        - name: Characteristic
          title: "Characteristic"
          type: text
        - name: Value
          title: "Value"
          type: text
        - name: Description
          title: "Description"
          type: text

    - name: intervalCensoringNonparametric
      title: "Non-parametric Survival Estimates (NPMLE)"
      type: Table
      description: 'Non-parametric maximum likelihood survival estimates for interval-censored data'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performIntervalCensoringAnalysis
        - intervalCensoringModel
        - intervalCensoringBootstrap
        - intervalCensoringPredictionTime
      columns:
        - name: Stage
          title: "Stage"
          type: text
        - name: Time_Point
          title: "Time (months)"
          type: number
        - name: Survival_Probability
          title: "Survival Probability"
          type: number
        - name: Lower_CI
          title: "95% CI Lower"
          type: number
        - name: Upper_CI
          title: "95% CI Upper"
          type: number
        - name: n_at_risk
          title: "At Risk"
          type: integer

    - name: intervalCensoringParametric
      title: "Parametric Interval-Censored Regression"
      type: Table
      description: 'Parametric survival regression results for interval-censored data'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performIntervalCensoringAnalysis
        - intervalCensoringModel
        - intervalCensoringDistribution
        - intervalCensoringAdjustVariables
      columns:
        - name: Parameter
          title: "Parameter"
          type: text
        - name: Coefficient
          title: "Coefficient"
          type: number
        - name: SE
          title: "Standard Error"
          type: number
        - name: Z_value
          title: "Z-value"
          type: number
        - name: P_value
          title: "P-value"
          type: number
        - name: Lower_CI
          title: "95% CI Lower"
          type: number
        - name: Upper_CI
          title: "95% CI Upper"
          type: number

    - name: intervalCensoringComparison
      title: "Staging System Comparison (Interval-Censored)"
      type: Table
      description: 'Model comparison between staging systems accounting for interval censoring'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performIntervalCensoringAnalysis
        - intervalCensoringCompareStages
        - intervalCensoringModel
      columns:
        - name: Model
          title: "Staging System"
          type: text
        - name: Log_Likelihood
          title: "Log-Likelihood"
          type: number
        - name: AIC
          title: "AIC"
          type: number
        - name: BIC
          title: "BIC"
          type: number
        - name: LR_Test_Statistic
          title: "LR Test"
          type: number
        - name: LR_P_value
          title: "LR P-value"
          type: number
        - name: Preferred_Model
          title: "Preferred"
          type: text

    - name: intervalCensoringDiagnosticsTable
      title: "Interval Censoring Model Diagnostics"
      type: Table
      description: 'Diagnostic measures for interval-censored survival models'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performIntervalCensoringAnalysis
        - intervalCensoringDiagnostics
        - intervalCensoringModel
      columns:
        - name: Diagnostic
          title: "Diagnostic Test"
          type: text
        - name: Statistic
          title: "Test Statistic"
          type: number
        - name: P_value
          title: "P-value"
          type: number
        - name: Interpretation
          title: "Interpretation"
          type: text
        - name: Recommendation
          title: "Recommendation"
          type: text

    - name: intervalCensoringSummary
      title: "Interval Censoring Analysis Summary"
      type: Table
      description: 'Clinical interpretation and recommendations for interval-censored survival analysis'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performIntervalCensoringAnalysis
      columns:
        - name: Finding
          title: "Key Finding"
          type: text
        - name: Statistical_Evidence
          title: "Statistical Evidence"
          type: text
        - name: Clinical_Interpretation
          title: "Clinical Interpretation"
          type: text
        - name: Recommendation
          title: "Recommendation"
          type: text

    - name: informativeCensoringOverview
      title: "Informative Censoring Analysis Overview"
      type: Table
      description: 'Summary of informative censoring detection analysis and data characteristics'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performInformativeCensoringAnalysis
        - informativeCensoringTestMethod
        - informativeCensoringAdjustmentMethod
      columns:
        - name: Characteristic
          title: "Characteristic"
          type: text
        - name: Value
          title: "Value"
          type: text
        - name: Description
          title: "Description"
          type: text

    - name: informativeCensoringTests
      title: "Informative Censoring Detection Tests"
      type: Table
      description: 'Statistical tests for detecting informative censoring patterns'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performInformativeCensoringAnalysis
        - informativeCensoringTestMethod
        - informativeCensoringAlpha
      columns:
        - name: Test_Method
          title: "Test Method"
          type: text
        - name: Test_Statistic
          title: "Test Statistic"
          type: number
        - name: P_value
          title: "P-value"
          type: number
        - name: Critical_Value
          title: "Critical Value"
          type: number
        - name: Conclusion
          title: "Conclusion"
          type: text
        - name: Evidence_Strength
          title: "Evidence Strength"
          type: text

    - name: informativeCensoringByStage
      title: "Censoring Patterns by Stage"
      type: Table
      description: 'Comparison of censoring patterns across staging groups'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performInformativeCensoringAnalysis
        - informativeCensoringCompareStages
      columns:
        - name: Stage
          title: "Stage"
          type: text
        - name: Total_N
          title: "Total N"
          type: integer
        - name: Events
          title: "Events"
          type: integer
        - name: Censored
          title: "Censored"
          type: integer
        - name: Censoring_Rate
          title: "Censoring Rate (%)"
          type: number
        - name: Median_Censoring_Time
          title: "Median Censoring Time"
          type: number
        - name: Test_Statistic
          title: "Test Statistic"
          type: number
        - name: P_value
          title: "P-value"
          type: number

    - name: informativeCensoringAdjustment
      title: "Adjusted Survival Estimates"
      type: Table
      description: 'Survival estimates adjusted for informative censoring effects'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performInformativeCensoringAnalysis
        - informativeCensoringAdjustmentMethod
        - informativeCensoringBootstrap
      columns:
        - name: Stage
          title: "Stage"
          type: text
        - name: Time_Point
          title: "Time (months)"
          type: number
        - name: Unadjusted_Survival
          title: "Unadjusted Survival"
          type: number
        - name: Adjusted_Survival
          title: "Adjusted Survival"
          type: number
        - name: Bias_Estimate
          title: "Bias Estimate"
          type: number
        - name: Lower_CI
          title: "95% CI Lower"
          type: number
        - name: Upper_CI
          title: "95% CI Upper"
          type: number

    - name: informativeCensoringSensitivity
      title: "Sensitivity Analysis Results"
      type: Table
      description: 'Sensitivity analysis exploring range of potential bias from informative censoring'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performInformativeCensoringAnalysis
        - informativeCensoringSensitivityRange
        - informativeCensoringAdjustmentMethod
      columns:
        - name: Sensitivity_Parameter
          title: "Sensitivity Parameter"
          type: number
        - name: Stage
          title: "Stage"
          type: text
        - name: Time_Point
          title: "Time (months)"
          type: number
        - name: Adjusted_Survival
          title: "Adjusted Survival"
          type: number
        - name: Bias_Direction
          title: "Bias Direction"
          type: text
        - name: Clinical_Impact
          title: "Clinical Impact"
          type: text

    - name: informativeCensoringDiagnostics
      title: "Informative Censoring Diagnostics"
      type: Table
      description: 'Diagnostic measures for informative censoring assessment'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performInformativeCensoringAnalysis
        - informativeCensoringTestMethod
      columns:
        - name: Diagnostic
          title: "Diagnostic Measure"
          type: text
        - name: Value
          title: "Value"
          type: number
        - name: Interpretation
          title: "Interpretation"
          type: text
        - name: Recommendation
          title: "Recommendation"
          type: text

    - name: informativeCensoringSummary
      title: "Informative Censoring Analysis Summary"
      type: Table
      description: 'Summary of informative censoring findings and recommendations'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performInformativeCensoringAnalysis
      columns:
        - name: Finding
          title: "Key Finding"
          type: text
        - name: Statistical_Evidence
          title: "Statistical Evidence"
          type: text
        - name: Clinical_Interpretation
          title: "Clinical Interpretation"
          type: text
        - name: Recommendation
          title: "Recommendation"
          type: text

    - name: concordanceProbabilityOverview
      title: "Concordance Probability Analysis Overview"
      type: Table
      description: 'Summary of concordance probability analysis for staging system discrimination assessment'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performConcordanceProbabilityAnalysis
        - concordanceProbabilityMethods
        - concordanceProbabilityWeighting
      columns:
        - name: Characteristic
          title: "Characteristic"
          type: text
        - name: Value
          title: "Value"
          type: text
        - name: Description
          title: "Description"
          type: text

    - name: concordanceProbabilityEstimates
      title: "Concordance Probability Estimates"
      type: Table
      description: 'Concordance probability estimates using multiple methods for robust discrimination assessment'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performConcordanceProbabilityAnalysis
        - concordanceProbabilityMethods
        - concordanceProbabilityBootstrap
      columns:
        - name: Method
          title: "Method"
          type: text
        - name: Staging_System
          title: "Staging System"
          type: text
        - name: Concordance
          title: "Concordance"
          type: number
        - name: Standard_Error
          title: "Standard Error"
          type: number
        - name: Lower_CI
          title: "95% CI Lower"
          type: number
        - name: Upper_CI
          title: "95% CI Upper"
          type: number
        - name: Sample_Size
          title: "Sample Size"
          type: integer
        - name: Events
          title: "Events"
          type: integer

    - name: concordanceProbabilityTimeDependentComplex
      title: "Time-Dependent Concordance Analysis"
      type: Table
      description: 'Time-dependent concordance probability estimates at clinically relevant time points'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performConcordanceProbabilityAnalysis
        - concordanceProbabilityTimePoints
        - concordanceProbabilityMethods
      columns:
        - name: Staging_System
          title: "Staging System"
          type: text
        - name: Time_Point
          title: "Time Point (months)"
          type: number
        - name: Method
          title: "Method"
          type: text
        - name: Concordance
          title: "Concordance"
          type: number
        - name: Lower_CI
          title: "95% CI Lower"
          type: number
        - name: Upper_CI
          title: "95% CI Upper"
          type: number
        - name: At_Risk
          title: "At Risk"
          type: integer
        - name: Events_Period
          title: "Events in Period"
          type: integer

    - name: concordanceProbabilityComparison
      title: "Staging System Concordance Comparison"
      type: Table
      description: 'Statistical comparison of concordance probabilities between staging systems'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performConcordanceProbabilityAnalysis
        - concordanceProbabilityCompareStages
        - concordanceProbabilityAlpha
      columns:
        - name: Method
          title: "Method"
          type: text
        - name: System_1
          title: "System 1"
          type: text
        - name: Concordance_1
          title: "Concordance 1"
          type: number
        - name: System_2
          title: "System 2"
          type: text
        - name: Concordance_2
          title: "Concordance 2"
          type: number
        - name: Difference
          title: "Difference"
          type: number
        - name: Test_Statistic
          title: "Test Statistic"
          type: number
        - name: P_value
          title: "P-value"
          type: number
        - name: Interpretation
          title: "Interpretation"
          type: text

    - name: concordanceProbabilityRobustness
      title: "Robustness Analysis Results"
      type: Table
      description: 'Robustness analysis for concordance probability estimates under different assumptions'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performConcordanceProbabilityAnalysis
        - concordanceProbabilityRobustnessAnalysis
      columns:
        - name: Analysis_Type
          title: "Analysis Type"
          type: text
        - name: Staging_System
          title: "Staging System"
          type: text
        - name: Scenario
          title: "Scenario"
          type: text
        - name: Concordance
          title: "Concordance"
          type: number
        - name: Change_from_Base
          title: "Change from Base"
          type: number
        - name: Robustness_Assessment
          title: "Robustness"
          type: text

    - name: concordanceProbabilityDiagnosticsTable
      title: "Concordance Analysis Diagnostics"
      type: Table
      description: 'Diagnostic measures for concordance probability analysis validation'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performConcordanceProbabilityAnalysis
        - concordanceProbabilityDiagnostics
      columns:
        - name: Diagnostic
          title: "Diagnostic Measure"
          type: text
        - name: Value
          title: "Value"
          type: number
        - name: Interpretation
          title: "Interpretation"
          type: text
        - name: Recommendation
          title: "Recommendation"
          type: text

    - name: concordanceProbabilitySummary
      title: "Concordance Probability Analysis Summary"
      type: Table
      description: 'Summary of concordance probability findings and clinical interpretation'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performConcordanceProbabilityAnalysis
      columns:
        - name: Finding
          title: "Key Finding"
          type: text
        - name: Statistical_Evidence
          title: "Statistical Evidence"
          type: text
        - name: Clinical_Interpretation
          title: "Clinical Interpretation"
          type: text
        - name: Recommendation
          title: "Recommendation"
          type: text

    - name: winRatioOverview
      title: "Win Ratio Analysis Overview"
      type: Table
      description: 'Summary of win ratio analysis configuration and data characteristics'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performWinRatioAnalysis
        - winRatioEndpoints
        - winRatioMatchingStrategy
      columns:
        - name: Characteristic
          title: "Characteristic"
          type: text
        - name: Value
          title: "Value"
          type: text
        - name: Description
          title: "Description"
          type: text

    - name: winRatioPrimaryResults
      title: "Win Ratio Primary Results"
      type: Table
      description: 'Primary win ratio analysis results comparing staging systems'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performWinRatioAnalysis
        - winRatioDeathVariable
        - winRatioSecondaryEndpoint
      columns:
        - name: Comparison
          title: "Comparison"
          type: text
        - name: Win_Ratio
          title: "Win Ratio"
          type: number
        - name: Wins
          title: "Wins"
          type: integer
        - name: Losses
          title: "Losses"
          type: integer
        - name: Ties
          title: "Ties"
          type: integer
        - name: Lower_CI
          title: "95% CI Lower"
          type: number
        - name: Upper_CI
          title: "95% CI Upper"
          type: number
        - name: P_value
          title: "P-value"
          type: number
        - name: Interpretation
          title: "Interpretation"
          type: text

    - name: winRatioEndpointContributions
      title: "Endpoint-Specific Contributions"
      type: Table
      description: 'Contribution of each endpoint to the overall win ratio'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performWinRatioAnalysis
        - winRatioEndpoints
      columns:
        - name: Endpoint
          title: "Endpoint"
          type: text
        - name: Staging_System
          title: "Staging System"
          type: text
        - name: Wins
          title: "Wins"
          type: integer
        - name: Losses
          title: "Losses"
          type: integer
        - name: Ties
          title: "Ties"
          type: integer
        - name: Win_Proportion
          title: "Win Proportion"
          type: number
        - name: Contribution_Percent
          title: "Contribution (%)"
          type: number
        - name: Cumulative_Percent
          title: "Cumulative (%)"
          type: number

    - name: winRatioStageSpecific
      title: "Stage-Specific Win Ratios"
      type: Table
      description: 'Win ratio analysis stratified by staging categories'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performWinRatioAnalysis
        - winRatioMatchingStrategy
      columns:
        - name: Stage
          title: "Stage"
          type: text
        - name: N_Pairs
          title: "Number of Pairs"
          type: integer
        - name: Win_Ratio
          title: "Win Ratio"
          type: number
        - name: Lower_CI
          title: "95% CI Lower"
          type: number
        - name: Upper_CI
          title: "95% CI Upper"
          type: number
        - name: P_value
          title: "P-value"
          type: number
        - name: Weight
          title: "Weight"
          type: number

    - name: winRatioSensitivityResults
      title: "Win Ratio Sensitivity Analysis"
      type: Table
      description: 'Sensitivity analysis results for win ratio estimates'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performWinRatioAnalysis
        - winRatioSensitivityAnalysis
      columns:
        - name: Analysis_Type
          title: "Analysis Type"
          type: text
        - name: Scenario
          title: "Scenario"
          type: text
        - name: Win_Ratio
          title: "Win Ratio"
          type: number
        - name: Change_from_Primary
          title: "Change from Primary"
          type: number
        - name: Lower_CI
          title: "95% CI Lower"
          type: number
        - name: Upper_CI
          title: "95% CI Upper"
          type: number
        - name: Robustness
          title: "Robustness"
          type: text

    - name: winRatioGeneralizedPairwiseResults
      title: "Generalized Pairwise Comparison Results"
      type: Table
      description: 'Extended metrics from generalized pairwise comparison framework'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performWinRatioAnalysis
        - winRatioGeneralizedPairwise
      columns:
        - name: Metric
          title: "Metric"
          type: text
        - name: Value
          title: "Value"
          type: number
        - name: Lower_CI
          title: "95% CI Lower"
          type: number
        - name: Upper_CI
          title: "95% CI Upper"
          type: number
        - name: P_value
          title: "P-value"
          type: number
        - name: Interpretation
          title: "Interpretation"
          type: text

    - name: winRatioSummary
      title: "Win Ratio Analysis Summary"
      type: Table
      description: 'Summary of win ratio findings and clinical interpretation'
      clearWith:
        - vars
        - explanatory
        - outcome
        - performWinRatioAnalysis
      columns:
        - name: Finding
          title: "Key Finding"
          type: text
        - name: Statistical_Evidence
          title: "Statistical Evidence"
          type: text
        - name: Clinical_Interpretation
          title: "Clinical Interpretation"
          type: text
        - name: Recommendation
          title: "Recommendation"
          type: text

    - name: frailtyModelsOverview
      title: Frailty Models Analysis Overview
      type: Table
      description: 'Overview of frailty models analysis for clustered survival data'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
        - frailtyClusterVariable
      columns:
        - name: Analysis
          title: "Analysis Component"
          type: text
        - name: Status
          title: "Analysis Status"
          type: text
        - name: ClusterCount
          title: "Number of Clusters"
          type: integer
        - name: AverageClusterSize
          title: "Average Cluster Size"
          type: number
          format: dp:1
        - name: TotalObservations
          title: "Total Observations"
          type: integer
        - name: FrailtyVariance
          title: "Frailty Variance"
          type: number
          format: dp:4
        - name: ICC
          title: "Intracluster Correlation"
          type: number
          format: dp:3
        - name: Interpretation
          title: "Clinical Interpretation"
          type: text

    - name: frailtyModelsComparison
      title: Frailty Models - Staging System Comparison
      type: Table
      description: 'Comparison of staging systems using frailty models with clustering adjustments'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
        - frailtyClusterVariable
      columns:
        - name: StagingSystem
          title: "Staging System"
          type: text
        - name: Model
          title: "Model Type"
          type: text
        - name: LogLikelihood
          title: "Log-Likelihood"
          type: number
          format: dp:2
        - name: AIC
          title: "AIC"
          type: number
          format: dp:1
        - name: BIC
          title: "BIC"
          type: number
          format: dp:1
        - name: FrailtyVariance
          title: "Frailty Variance"
          type: number
          format: dp:4
        - name: HeterogeneityTest
          title: "Heterogeneity Test P-value"
          type: text
        - name: ConcordanceIndex
          title: "C-index (Cluster-Adjusted)"
          type: number
          format: dp:3
        - name: Improvement
          title: "Improvement"
          type: text

    - name: frailtyModelsVarianceComponents
      title: Frailty Models - Variance Components Analysis
      type: Table
      description: 'Detailed variance components analysis for frailty models'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
        - frailtyClusterVariable
      columns:
        - name: Component
          title: "Variance Component"
          type: text
        - name: OldStaging
          title: "Original Staging"
          type: number
          format: dp:4
        - name: NewStaging
          title: "New Staging"
          type: number
          format: dp:4
        - name: Difference
          title: "Difference"
          type: number
          format: dp:4
        - name: PercentChange
          title: "% Change"
          type: number
          format: dp:1
        - name: Significance
          title: "Statistical Significance"
          type: text
        - name: ClinicalRelevance
          title: "Clinical Relevance"
          type: text

    - name: frailtyModelsClusterSpecific
      title: Frailty Models - Cluster-Specific Analysis
      type: Table
      description: 'Cluster-specific survival analysis comparing staging systems within institutions'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
        - frailtyClusterVariable
      columns:
        - name: Cluster
          title: "Cluster/Institution"
          type: text
        - name: ClusterSize
          title: "Sample Size"
          type: integer
        - name: EventRate
          title: "Event Rate (%)"
          type: number
          format: dp:1
        - name: OldStaging_Cindex
          title: "Original C-index"
          type: number
          format: dp:3
        - name: NewStaging_Cindex
          title: "New C-index"
          type: number
          format: dp:3
        - name: CindexImprovement
          title: "C-index Improvement"
          type: number
          format: dp:3
        - name: PValue
          title: "P-value"
          type: text
        - name: ClusterEffect
          title: "Cluster Effect Size"
          type: number
          format: dp:3
        - name: Consistency
          title: "Consistency Rating"
          type: text

    - name: frailtyModelsBootstrap
      title: Frailty Models - Bootstrap Validation Results
      type: Table
      description: 'Bootstrap validation results for frailty model parameters and variance components'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
        - frailtyClusterVariable
      columns:
        - name: Parameter
          title: "Parameter"
          type: text
        - name: OriginalEstimate
          title: "Original Estimate"
          type: number
          format: dp:4
        - name: BootstrapMean
          title: "Bootstrap Mean"
          type: number
          format: dp:4
        - name: BootstrapSE
          title: "Bootstrap SE"
          type: number
          format: dp:4
        - name: LowerCI
          title: "95% CI Lower"
          type: number
          format: dp:4
        - name: UpperCI
          title: "95% CI Upper"
          type: number
          format: dp:4
        - name: BiasEstimate
          title: "Bias Estimate"
          type: number
          format: dp:4
        - name: CoverageRate
          title: "Coverage Rate (%)"
          type: number
          format: dp:1
        - name: Stability
          title: "Parameter Stability"
          type: text

    - name: frailtyModelsDiagnostics
      title: Frailty Models - Model Diagnostics
      type: Table
      description: 'Comprehensive model diagnostics for frailty models including residual analysis and goodness-of-fit'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
        - frailtyClusterVariable
      columns:
        - name: Diagnostic
          title: "Diagnostic Test"
          type: text
        - name: OldStaging
          title: "Original Staging"
          type: text
        - name: NewStaging
          title: "New Staging"
          type: text
        - name: TestStatistic
          title: "Test Statistic"
          type: number
          format: dp:3
        - name: PValue
          title: "P-value"
          type: text
        - name: Interpretation
          title: "Interpretation"
          type: text
        - name: Recommendation
          title: "Recommendation"
          type: text

    - name: frailtyModelsSummary
      title: Frailty Models - Comprehensive Summary
      type: Table
      description: 'Executive summary of frailty models analysis with evidence-based recommendations'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
        - frailtyClusterVariable
      columns:
        - name: Finding
          title: "Key Finding"
          type: text
        - name: OriginalStaging
          title: "Original Staging"
          type: text
        - name: NewStaging
          title: "New Staging"
          type: text
        - name: StatisticalEvidence
          title: "Statistical Evidence"
          type: text
        - name: ClinicalSignificance
          title: "Clinical Significance"
          type: text
        - name: ClusteringImpact
          title: "Clustering Impact"
          type: text
        - name: Recommendation
          title: "Recommendation"
          type: text

    - name: clinicalUtilityOverview
      title: Clinical Utility Index Analysis Overview
      type: Table
      description: 'Overview of clinical utility index analysis combining discrimination with clinical decision-making value'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
      columns:
        - name: Analysis
          title: "Analysis Component"
          type: text
        - name: Status
          title: "Analysis Status"
          type: text
        - name: TimePoint
          title: "Time Point (months)"
          type: integer
        - name: Prevalence
          title: "Disease Prevalence"
          type: number
          format: dp:3
        - name: ThresholdRange
          title: "Risk Threshold Range"
          type: text
        - name: TreatmentEffect
          title: "Treatment Effect (HR)"
          type: number
          format: dp:2
        - name: CostPerIntervention
          title: "Cost Per Intervention ($)"
          type: integer
        - name: Interpretation
          title: "Clinical Interpretation"
          type: text

    - name: clinicalUtilityComparison
      title: Clinical Utility Index - Staging System Comparison
      type: Table
      description: 'Comparison of clinical utility between staging systems across different risk thresholds'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
      columns:
        - name: StagingSystem
          title: "Staging System"
          type: text
        - name: RiskThreshold
          title: "Risk Threshold (%)"
          type: number
          format: dp:1
        - name: Sensitivity
          title: "Sensitivity"
          type: number
          format: dp:3
        - name: Specificity
          title: "Specificity"
          type: number
          format: dp:3
        - name: PPV
          title: "Positive Predictive Value"
          type: number
          format: dp:3
        - name: NPV
          title: "Negative Predictive Value"
          type: number
          format: dp:3
        - name: NetBenefit
          title: "Net Benefit"
          type: number
          format: dp:4
        - name: ClinicalUtilityIndex
          title: "Clinical Utility Index"
          type: number
          format: dp:3
        - name: Interpretation
          title: "Interpretation"
          type: text

    - name: clinicalUtilityNNT
      title: Clinical Utility Index - Number Needed to Treat Analysis
      type: Table
      description: 'Number Needed to Treat (NNT) and Number Needed to Harm (NNH) analysis for staging-guided interventions'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
      columns:
        - name: StagingSystem
          title: "Staging System"
          type: text
        - name: RiskThreshold
          title: "Risk Threshold (%)"
          type: number
          format: dp:1
        - name: NNT
          title: "Number Needed to Treat"
          type: number
          format: dp:1
        - name: NNH
          title: "Number Needed to Harm"
          type: number
          format: dp:1
        - name: NNT_LowerCI
          title: "NNT 95% CI Lower"
          type: number
          format: dp:1
        - name: NNT_UpperCI
          title: "NNT 95% CI Upper"
          type: number
          format: dp:1
        - name: TreatmentBenefit
          title: "Treatment Benefit (%)"
          type: number
          format: dp:2
        - name: CostPerQALY
          title: "Cost Per QALY ($)"
          type: integer
        - name: CostEffectiveness
          title: "Cost-Effectiveness"
          type: text
        - name: ClinicalRecommendation
          title: "Clinical Recommendation"
          type: text

    - name: clinicalUtilityNetBenefit
      title: Clinical Utility Index - Net Benefit Analysis
      type: Table
      description: 'Net benefit analysis across risk thresholds with comparative utility assessment'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
      columns:
        - name: RiskThreshold
          title: "Risk Threshold (%)"
          type: number
          format: dp:1
        - name: OldStaging_NetBenefit
          title: "Original Net Benefit"
          type: number
          format: dp:4
        - name: NewStaging_NetBenefit
          title: "New Net Benefit"
          type: number
          format: dp:4
        - name: NetBenefitDifference
          title: "Net Benefit Difference"
          type: number
          format: dp:4
        - name: PercentImprovement
          title: "% Improvement"
          type: number
          format: dp:1
        - name: TreatAll_NetBenefit
          title: "Treat All Net Benefit"
          type: number
          format: dp:4
        - name: TreatNone_NetBenefit
          title: "Treat None Net Benefit"
          type: number
          format: dp:4
        - name: OptimalStrategy
          title: "Optimal Strategy"
          type: text
        - name: ClinicalSignificance
          title: "Clinical Significance"
          type: text

    - name: clinicalUtilityTimeVarying
      title: Clinical Utility Index - Time-Varying Analysis
      type: Table
      description: 'Time-varying clinical utility analysis showing how staging system value changes over time'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
      columns:
        - name: TimePoint
          title: "Time Point (months)"
          type: integer
        - name: StagingSystem
          title: "Staging System"
          type: text
        - name: Prevalence
          title: "Event Rate at Time"
          type: number
          format: dp:3
        - name: OptimalThreshold
          title: "Optimal Threshold (%)"
          type: number
          format: dp:1
        - name: MaxNetBenefit
          title: "Maximum Net Benefit"
          type: number
          format: dp:4
        - name: ClinicalUtilityIndex
          title: "Clinical Utility Index"
          type: number
          format: dp:3
        - name: NNT_Optimal
          title: "NNT at Optimal Threshold"
          type: number
          format: dp:1
        - name: UtilityTrend
          title: "Utility Trend"
          type: text
        - name: DecisionTiming
          title: "Decision Timing Recommendation"
          type: text

    - name: clinicalUtilityBootstrap
      title: Clinical Utility Index - Bootstrap Validation Results
      type: Table
      description: 'Bootstrap validation results for clinical utility metrics with confidence intervals'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
      columns:
        - name: Metric
          title: "Clinical Utility Metric"
          type: text
        - name: StagingSystem
          title: "Staging System"
          type: text
        - name: OriginalEstimate
          title: "Original Estimate"
          type: number
          format: dp:4
        - name: BootstrapMean
          title: "Bootstrap Mean"
          type: number
          format: dp:4
        - name: BootstrapSE
          title: "Bootstrap SE"
          type: number
          format: dp:4
        - name: LowerCI
          title: "95% CI Lower"
          type: number
          format: dp:4
        - name: UpperCI
          title: "95% CI Upper"
          type: number
          format: dp:4
        - name: BiasEstimate
          title: "Bias Estimate"
          type: number
          format: dp:4
        - name: Stability
          title: "Metric Stability"
          type: text

    - name: clinicalUtilitySummary
      title: Clinical Utility Index - Comprehensive Summary
      type: Table
      description: 'Executive summary of clinical utility analysis with evidence-based recommendations'
      clearWith:
        - timeVar
        - eventVar
        - oldStage
        - newStage
      columns:
        - name: Finding
          title: "Key Finding"
          type: text
        - name: OriginalStaging
          title: "Original Staging"
          type: text
        - name: NewStaging
          title: "New Staging"
          type: text
        - name: ClinicalEvidence
          title: "Clinical Evidence"
          type: text
        - name: UtilityImprovement
          title: "Utility Improvement"
          type: text
        - name: CostEffectiveness
          title: "Cost-Effectiveness"
          type: text
        - name: ClinicalRecommendation
          title: "Clinical Recommendation"
          type: text

refs:
    - ClinicoPathJamoviModule
    - harrell2015
    - pencina2008
    - vickers2006
    - steyerberg2010
    - survival
    - survminer
    - ggplot2
    - timeROC
    - dcurves

...
