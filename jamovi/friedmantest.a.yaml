---
name: friedmantest
title: Friedman Test for Non-Parametric Repeated Measures
menuGroup: ClinicoPathDescriptivesD
version: '1.0.0'
jas: '1.2'
description:
    main: >
        Friedman test for non-parametric analysis of repeated measures data with continuous 
        or ordinal outcomes. This is the non-parametric alternative to repeated measures 
        ANOVA when normality assumptions are violated. It tests whether the median values 
        differ significantly across multiple related measurements or time points.
    R:
        dontrun: false
        usage: |
            data %>%
            friedmantest(
                dependent = "measurement_value",
                subject = "patient_id", 
                within = "time_point",
                posthoc = TRUE
            )

options:
    - name: data
      type: Data
      description:
          R: the data as a data frame

    - name: dependent
      title: Dependent Variable
      type: Variable
      suggested:
        - continuous
      permitted:
        - numeric
        - factor
      description:
          R: >
            Continuous or ordinal dependent variable measured repeatedly

    - name: subject
      title: Subject ID
      type: Variable
      suggested:
        - nominal
      permitted:
        - factor
        - numeric
      description:
          R: >
            Variable identifying subjects/cases for repeated measurements

    - name: within
      title: Within-Subjects Factor
      type: Variable
      suggested:
        - nominal
      permitted:
        - factor
      description:
          R: >
            Factor variable indicating the repeated measure conditions/time points

    - name: method
      title: Test Method
      type: List
      options:
        - name: asymptotic
          title: Asymptotic (Chi-square)
        - name: exact
          title: Exact (Small samples)
        - name: monte_carlo
          title: Monte Carlo
      default: asymptotic
      description:
          R: >
            Method for calculating p-values

    - name: alpha
      title: Significance Level
      type: Number
      min: 0.01
      max: 0.10
      default: 0.05
      description:
          R: >
            Alpha level for hypothesis testing

    - name: posthoc
      title: Post-hoc Pairwise Comparisons
      type: Bool
      default: true
      description:
          R: >
            Perform pairwise post-hoc comparisons when Friedman test is significant

    - name: posthoc_method
      title: Post-hoc Test Method
      type: List
      options:
        - name: nemenyi
          title: Nemenyi Test
        - name: wilcoxon_signed_rank
          title: Wilcoxon Signed-Rank
        - name: sign_test
          title: Sign Test
      default: nemenyi
      description:
          R: >
            Method for post-hoc pairwise comparisons

    - name: correction
      title: Multiple Comparison Correction
      type: List
      options:
        - name: bonferroni
          title: Bonferroni
        - name: holm
          title: Holm
        - name: fdr
          title: False Discovery Rate (BH)
        - name: none
          title: None
      default: bonferroni
      description:
          R: >
            Multiple comparison correction method for post-hoc tests

    - name: effect_size
      title: Effect Size Measures
      type: Bool
      default: true
      description:
          R: >
            Include effect size measures (Kendall's W coefficient of concordance)

    - name: confidence_level
      title: Confidence Level
      type: Number
      min: 0.80
      max: 0.99
      default: 0.95
      description:
          R: >
            Confidence level for confidence intervals

    - name: show_ranks
      title: Rank Analysis
      type: Bool
      default: true
      description:
          R: >
            Show detailed rank analysis and mean rank comparisons

    - name: show_descriptives
      title: Descriptive Statistics
      type: Bool
      default: true
      description:
          R: >
            Show descriptive statistics for each condition

    - name: show_assumptions
      title: Assumption Assessment
      type: Bool
      default: true
      description:
          R: >
            Assess assumptions and provide recommendations

    - name: clinical_interpretation
      title: Clinical Interpretation
      type: Bool
      default: true
      description:
          R: >
            Provide clinical interpretation guidance for results