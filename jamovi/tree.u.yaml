title: Medical Decision Tree Analysis
name: tree
jus: '3.0'
stage: 0
compilerMode: tame
children:
  - type: VariableSupplier
    persistentItems: false
    stretchFactor: 1
    children:
      - type: TargetLayoutBox
        label: Target Variable
        children:
          - type: VariablesListBox
            name: target
            maxItemCount: 1
            isTarget: true
          - type: LevelSelector
            name: targetLevel
            label: Disease/Positive Class
            variable: (target)
      - type: TargetLayoutBox
        label: Continuous Clinical Variables
        children:
          - type: VariablesListBox
            name: vars
            isTarget: true
            height: small
      - type: TargetLayoutBox
        label: Categorical Clinical Variables
        children:
          - type: VariablesListBox
            name: facs
            isTarget: true
            height: small
      - type: TargetLayoutBox
        label: Training/Validation Cohort (Optional)
        children:
          - type: VariablesListBox
            name: train
            maxItemCount: 1
            isTarget: true
            height: small
  - type: CollapseBox
    label: Algorithm & Validation
    collapsed: false
    children:
      - type: LayoutBox
        children:
          - type: ComboBox
            name: algorithm
            label: Decision Tree Algorithm
      - type: LayoutBox
        children:
          - type: ComboBox
            name: tree_mode
            label: Analysis Mode
      - type: LayoutBox
        children:
          - type: LevelSelector
            name: trainLevel
            label: Training Cohort Level
      - type: LayoutBox
        children:
          - type: ComboBox
            name: validation
            label: Validation Method
      - type: LayoutBox
        children:
          - type: TextBox
            name: test_split
            label: Test Split (%)
            format: number
      - type: LayoutBox
        children:
          - type: TextBox
            name: cv_folds
            label: Number of Folds
            format: number
      - type: LayoutBox
        children:
          - type: TextBox
            name: cv_repeats
            label: CV Repeats
            format: number
      - type: LayoutBox
        children:
          - type: CheckBox
            name: stratified_sampling
            label: Stratified Sampling
      - type: LayoutBox
        children:
          - type: ComboBox
            name: data_split_method
            label: Data Splitting Strategy
  - type: CollapseBox
    label: Tree Parameters
    collapsed: true
    children:
      - type: LayoutBox
        children:
          - type: TextBox
            name: max_depth
            label: Maximum Depth
            format: number
      - type: LayoutBox
        children:
          - type: TextBox
            name: min_samples_split
            label: Min Samples to Split
            format: number
      - type: LayoutBox
        children:
          - type: TextBox
            name: min_samples_leaf
            label: Min Samples per Leaf
            format: number
      - type: LayoutBox
        children:
          - type: TextBox
            name: cost_complexity
            label: Cost Complexity (CP)
            format: number
      - type: LayoutBox
        children:
          - type: TextBox
            name: min_n
            label: Min Node Size (min_n)
            format: number
      - type: LayoutBox
        children:
          - type: TextBox
            name: tree_depth
            label: Tree Depth
            format: number
      - type: LayoutBox
        children:
          - type: CheckBox
            name: hyperparameter_tuning
            label: Hyperparameter Tuning
      - type: LayoutBox
        children:
          - type: ComboBox
            name: tuning_metric
            label: Tuning Metric
      - type: LayoutBox
        children:
          - type: CheckBox
            name: use_1se_rule
            label: Use 1-SE Rule
      - type: LayoutBox
        children:
          - type: CheckBox
            name: xerror_pruning
            label: Cross-validation Error Pruning
      - type: LayoutBox
        children:
          - type: CheckBox
            name: auto_prune
            label: Automatic Tree Pruning
      - type: LayoutBox
        children:
          - type: ComboBox
            name: prune_method
            label: Pruning Method
      - type: LayoutBox
        children:
          - type: ComboBox
            name: advanced_pruning
            label: Advanced Pruning Method
      - type: LayoutBox
        children:
          - type: TextBox
            name: pruning_validation_split
            label: Pruning Validation Split (%)
            format: number
  - type: CollapseBox
    label: Engine-Specific Options
    collapsed: true
    children:
      - type: LayoutBox
        children:
          - type: TextBox
            name: c50_trials
            label: C5.0 Boosting Trials
            format: number
      - type: LayoutBox
        children:
          - type: CheckBox
            name: c50_winnow
            label: C5.0 Winnowing
      - type: LayoutBox
        children:
          - type: TextBox
            name: ctree_mincriterion
            label: ctree Statistical Criterion
            format: number
      - type: LayoutBox
        children:
          - type: TextBox
            name: rf_ntree
            label: Random Forest Trees
            format: number
      - type: LayoutBox
        children:
          - type: TextBox
            name: rf_mtry
            label: RF Variables per Split
            format: number
      - type: LayoutBox
        children:
          - type: TextBox
            name: xgb_nrounds
            label: XGBoost Rounds
            format: number
      - type: LayoutBox
        children:
          - type: TextBox
            name: xgb_eta
            label: XGBoost Learning Rate
            format: number
  - type: CollapseBox
    label: Reproducibility & Analysis
    collapsed: true
    children:
      - type: LayoutBox
        children:
          - type: CheckBox
            name: set_seed
            label: Set Random Seed
      - type: LayoutBox
        children:
          - type: TextBox
            name: seed_value
            label: Seed Value
            format: number
      - type: LayoutBox
        children:
          - type: CheckBox
            name: show_cp_table
            label: Show CP Table
      - type: LayoutBox
        children:
          - type: CheckBox
            name: show_variable_importance_detailed
            label: Detailed Variable Importance
  - type: CollapseBox
    label: Data Preprocessing
    collapsed: true
    children:
      - type: LayoutBox
        children:
          - type: ComboBox
            name: missing_data_method
            label: Missing Data Method
      - type: LayoutBox
        children:
          - type: CheckBox
            name: balanceClasses
            label: Balance Disease Classes
      - type: LayoutBox
        children:
          - type: ComboBox
            name: ensemble_method
            label: Ensemble Method
      - type: LayoutBox
        children:
          - type: TextBox
            name: n_trees
            label: Number of Trees
            format: number
  - type: CollapseBox
    label: Output Options
    collapsed: false
    children:
      - type: Label
        label: Basic Outputs
        children:
          - type: CheckBox
            name: show_tree_plot
            label: Decision Tree Plot
          - type: CheckBox
            name: show_importance_plot
            label: Feature Importance
          - type: CheckBox
            name: show_performance_metrics
            label: Performance Metrics
          - type: CheckBox
            name: show_confusion_matrix
            label: Confusion Matrix
      - type: Label
        label: Advanced Outputs
        margin: large
        children:
          - type: CheckBox
            name: show_roc_curve
            label: ROC Curve
          - type: CheckBox
            name: show_validation_curves
            label: Validation Curves
          - type: CheckBox
            name: show_calibration_plot
            label: Calibration Plot
          - type: CheckBox
            name: showPartitionPlot
            label: Partition Plot (2D Only)
          - type: CheckBox
            name: show_cp_plot
            label: Complexity Parameter Plot
          - type: ComboBox
            name: tree_plot_style
            label: Tree Plot Style
          - type: CheckBox
            name: show_node_statistics
            label: Show Node Statistics
  - type: CollapseBox
    label: Feature Analysis
    collapsed: true
    children:
      - type: LayoutBox
        children:
          - type: CheckBox
            name: feature_selection
            label: Automated Feature Selection
      - type: LayoutBox
        children:
          - type: ComboBox
            name: feature_selection_method
            label: Feature Selection Method
      - type: LayoutBox
        children:
          - type: ComboBox
            name: importance_method
            label: Importance Method
  - type: CollapseBox
    label: Interpretability Analysis
    collapsed: true
    children:
      - type: LayoutBox
        children:
          - type: CheckBox
            name: interpretability
            label: Enable Interpretability Analysis
      - type: LayoutBox
        children:
          - type: CheckBox
            name: shap_analysis
            label: SHAP Values
      - type: LayoutBox
        children:
          - type: CheckBox
            name: partial_dependence
            label: Partial Dependence Plots
      - type: LayoutBox
        children:
          - type: CheckBox
            name: interaction_analysis
            label: Feature Interactions
  - type: CollapseBox
    label: Clinical Settings
    collapsed: true
    children:
      - type: LayoutBox
        children:
          - type: ComboBox
            name: clinical_context
            label: Clinical Context
      - type: LayoutBox
        children:
          - type: CheckBox
            name: cost_sensitive_thresholds
            label: Cost-Sensitive Analysis
      - type: LayoutBox
        children:
          - type: TextBox
            name: fn_fp_ratio
            label: False Negative/Positive Cost Ratio
            format: number
      - type: LayoutBox
        children:
          - type: CheckBox
            name: prevalenceAdjustment
            label: Adjust for Population Prevalence
      - type: LayoutBox
        children:
          - type: TextBox
            name: expectedPrevalence
            label: Expected Population Prevalence (%)
            format: number
  - type: CollapseBox
    label: Advanced Validation
    collapsed: true
    children:
      - type: LayoutBox
        children:
          - type: CheckBox
            name: bootstrap_confidence
            label: Bootstrap Confidence Intervals
      - type: LayoutBox
        children:
          - type: TextBox
            name: n_bootstrap
            label: Bootstrap Samples
            format: number
      - type: LayoutBox
        children:
          - type: CheckBox
            name: model_comparison
            label: Compare Multiple Algorithms
      - type: LayoutBox
        children:
          - type: ComboBox
            name: modelComparisonMetric
            label: Comparison Metric
  - type: CollapseBox
    label: Export & Reporting
    collapsed: true
    children:
      - type: LayoutBox
        children:
          - type: CheckBox
            name: show_clinical_interpretation
            label: Clinical Interpretation Guide
      - type: LayoutBox
        children:
          - type: CheckBox
            name: export_model
            label: Export Model
      - type: LayoutBox
        children:
          - type: CheckBox
            name: exportPredictions
            label: Export Predictions
  - type: CollapseBox
    label: Model Robustness Analysis
    collapsed: true
    children:
      - type: LayoutBox
        children:
          - type: CheckBox
            name: model_stability_analysis
            label: Model Stability Analysis
      - type: LayoutBox
        children:
          - type: CheckBox
            name: learning_curves
            label: Learning Curves
      - type: LayoutBox
        children:
          - type: CheckBox
            name: outlier_analysis
            label: Outlier Detection
      - type: LayoutBox
        children:
          - type: CheckBox
            name: prediction_intervals
            label: Prediction Intervals
