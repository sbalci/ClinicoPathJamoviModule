---
name:  agreement
title: Interrater Reliability
menuGroup: meddecide
menuSubgroup: Agreement
version: '0.0.31'
jas: '1.2'

description:
    main: Function for Interrater Reliability.
    R:
        dontrun: true
        usage: |
            # example will be added


options:
    - name: data
      type: Data
      description:
          R: >
            The data as a data frame. The data should be in long format, where each row is a unique observation.

    - name: vars
      title: Raters
      type: Variables
      suggested: [ ordinal, nominal ]
      permitted: [ factor ]
      description:
          R: >
            A string naming the variable from `data` that contains the
            diagnosis given by the observer, variable can be categorical or ordinal.


    - name: sft
      title: Show Frequency Tables
      type: Bool
      default: false
      description:
          R: >
            Display frequency tables showing the distribution of ratings for each rater.
            Useful for understanding rating patterns and identifying potential biases.

    - name: showText
      title: Show Simple Text Frequency Tables
      type: Bool
      default: false
      description:
          R: >
            Display simple preformatted text version of frequency tables.
            Provides a plain-text alternative to the HTML formatted tables.


    - name: wght
      title: Weighted Kappa (Ordinal Data Only)
      type: List
      options:
        - title: Unweighted (Standard)
          name: unweighted
        - title: Linear Weights (Equal Steps)
          name: equal
        - title: Squared Weights (Severity Weighted)
          name: squared
      default: unweighted
      description:
          R: >
            For ordinal variables (e.g., tumor grade G1/G2/G3), weighted kappa accounts for degree of disagreement.
            Linear weights: Adjacent disagreements (G1 vs G2) receive partial credit.
            Squared weights: Larger disagreements (G1 vs G3) are penalized more heavily.
            Use 'Unweighted' for nominal categories with no inherent order.

    - name: exct
      title: Exact Kappa (3+ Raters)
      type: Bool
      default: false
      description:
          R: >
            Use exact p-value calculation instead of normal approximation.
            Recommended for small sample sizes (< 30 cases) with 3 or more raters.
            Note: Not applicable for 2-rater analysis (use Cohen's kappa).

    - name: kripp
      title: "Calculate Krippendorff's Alpha"
      type: Bool
      default: false
      description:
          R: >
            Alternative reliability measure that handles missing data and supports various data types.
            Useful when raters didn't rate all cases or when comparing different measurement levels.

    - name: krippMethod
      title: "Data Type for Krippendorff's Alpha" 
      type: List
      options:
        - title: Nominal
          name: nominal
        - title: Ordinal
          name: ordinal
        - title: Interval
          name: interval
        - title: Ratio
          name: ratio
      default: nominal
      description:
          R: >
            Specifies the measurement level for Krippendorff's alpha calculation.

    - name: bootstrap
      title: "Bootstrap Confidence Intervals"
      type: Bool
      default: false
      description:
          R: >
            Calculate bootstrap confidence intervals for Krippendorff's alpha.

    - name: showSummary
      title: "Show Plain-Language Summary"
      type: Bool
      default: false
      description:
          R: >
            Display a natural-language interpretation of results with color-coded agreement levels
            and clinical guidance. Recommended for reports and presentations.

    - name: showAbout
      title: "Show About This Analysis"
      type: Bool
      default: false
      description:
          R: >
            Display an explanatory panel describing what this analysis does, when to use it, and how to interpret results.


...
