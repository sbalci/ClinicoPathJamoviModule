title: Clinical Model Validation Suite
name: clinicalvalidation
jus: '3.0'
stage: 0
compilerMode: tame
children:
  - type: VariableSupplier
    persistentItems: false
    stretchFactor: 1
    children:
      - type: TargetLayoutBox
        label: Outcome Variable (Required)
        children:
          - type: VariablesListBox
            name: outcome
            maxItemCount: 1
            isTarget: true
      - type: TargetLayoutBox
        label: Positive/Disease Level
        children:
          - type: LevelSelector
            name: outcomeLevel
      - type: TargetLayoutBox
        label: Predictor Variables (Required)
        children:
          - type: VariablesListBox
            name: predictors
            isTarget: true
      - type: TargetLayoutBox
        label: Time Variable (for survival models)
        children:
          - type: VariablesListBox
            name: time_variable
            maxItemCount: 1
            isTarget: true
  - type: CollapseBox
    label: Model Configuration
    collapsed: false
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: model_type
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: model_formula
            format: string
  - type: CollapseBox
    label: Validation Method
    collapsed: false
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: validation_method
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: bootstrap_samples
            format: number
            enable: (validation_method:bootstrap)
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: cv_folds
            format: number
            enable: (validation_method:cross_validation || validation_method:repeated_cv)
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: cv_repeats
            format: number
            enable: (validation_method:repeated_cv)
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: holdout_proportion
            format: number
            enable: (validation_method:holdout)
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: stratified_sampling
  - type: CollapseBox
    label: Clinical Context
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: clinical_context
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: prevalence_adjustment
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: population_prevalence
            format: number
            enable: (prevalence_adjustment)
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: cost_matrix
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: fn_fp_cost_ratio
            format: number
            enable: (cost_matrix:custom)
  - type: CollapseBox
    label: Performance & Calibration
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: performance_metrics
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: confidence_level
            format: number
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: calibration_method
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: calibration_bins
            format: number
  - type: CollapseBox
    label: Model Comparison
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: compare_models
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: comparison_models
            enable: (compare_models)
  - type: CollapseBox
    label: Output Options
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: show_model_summary
          - type: CheckBox
            name: show_performance_table
          - type: CheckBox
            name: show_calibration_plot
          - type: CheckBox
            name: show_roc_curve
          - type: CheckBox
            name: show_prc_curve
          - type: CheckBox
            name: show_validation_curves
          - type: CheckBox
            name: show_residual_plots
          - type: CheckBox
            name: show_clinical_interpretation
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: export_results
          - type: CheckBox
            name: detailed_bootstrap
            enable: (validation_method:bootstrap)
  - type: CollapseBox
    label: Advanced Options
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: missing_data_handling
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: imputation_methods
            format: number
            enable: (missing_data_handling:imputation)
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: parallel_processing
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: n_cores
            format: number
            enable: (parallel_processing)
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: set_seed
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: seed_value
            format: number
            enable: (set_seed)
