---
name: precisionrecall
title: Precision-Recall Curve
menuGroup: meddecideD
menuSubgroup: Diagnostic Test Evaluation
menuTitle: Precision-Recall Curve
version: '0.0.32'
jas: '1.2'
description:
    main: |
        Precision-Recall (PRC) curve analysis for evaluating binary classifiers,
        especially on imbalanced datasets. Unlike ROC curves, PRC curves show
        how precision (positive predictive value) varies with recall (sensitivity).

        Based on Saito & Rehmsmeier (2015): "The Precision-Recall Plot Is More
        Informative than the ROC Plot When Evaluating Binary Classifiers on
        Imbalanced Datasets." PLoS ONE 10(3): e0118432.
    R:
        dontrun: false
        usage: |
            # Basic PRC curve
            precisionrecall(data = mydata, outcome = 'disease', score = 'biomarker')

            # Compare multiple classifiers
            precisionrecall(data = mydata, outcome = 'disease',
                           scores = c('model1', 'model2', 'model3'),
                           comparison = TRUE)

options:
    - name: data
      type: Data
      description:
          R: the data as a data frame

    - name: outcome
      title: Outcome Variable
      type: Variable
      suggested: [nominal, ordinal]
      permitted: [factor, numeric]
      description:
          R: >
            Binary outcome variable (0/1, TRUE/FALSE, or factor with 2 levels)

    - name: positiveClass
      title: Positive Class
      type: Level
      variable: (outcome)
      description:
          R: >
            Value representing positive class (disease/event)

    - name: scores
      title: Classifier Scores
      type: Variables
      suggested: [continuous]
      permitted: [numeric]
      description:
          R: >
            One or more continuous variables containing classifier scores or predicted probabilities

    - name: interpolation
      title: Interpolation Method
      type: List
      options:
        - name: nonlinear
          title: Non-linear (correct for PRC)
        - name: linear
          title: Linear (for comparison only)
      default: nonlinear
      description:
          R: >
            PRC requires non-linear interpolation. Linear shown for educational comparison.

    - name: showBaseline
      title: Show Baseline
      type: Bool
      default: true
      description:
          R: >
            Display horizontal baseline at y = P/(P+N) representing random classifier

    - name: aucMethod
      title: AUC Calculation
      type: List
      options:
        - name: trapezoid
          title: Trapezoidal rule
        - name: interpolated
          title: Interpolated (Davis & Goadrich)
      default: trapezoid
      description:
          R: >
            Method for calculating area under PRC curve

    - name: ci
      title: Confidence Intervals
      type: Bool
      default: false

    - name: ciMethod
      title: CI Method
      type: List
      options:
        - name: bootstrap
          title: Bootstrap
        - name: percentile
          title: Percentile
        - name: bca
          title: Bias-corrected accelerated (BCa)
      default: bootstrap

    - name: ciSamples
      title: Bootstrap Samples
      type: Integer
      min: 100
      max: 10000
      default: 1000

    - name: ciWidth
      title: Confidence Level
      type: Number
      min: 50
      max: 99
      default: 95

    - name: comparison
      title: Compare Models
      type: Bool
      default: false
      description:
          R: >
            Perform statistical comparison of multiple PRC curves

    - name: comparisonMethod
      title: Comparison Method
      type: List
      options:
        - name: bootstrap
          title: Bootstrap Test
        - name: permutation
          title: Permutation Test
      default: bootstrap

    - name: showROC
      title: Show Companion ROC Plot
      type: Bool
      default: false
      description:
          R: >
            Display ROC curve alongside PRC for comparison

    - name: showFScore
      title: Show F-Score Iso-lines
      type: Bool
      default: false
      description:
          R: >
            Display F‚ÇÅ score iso-lines on PRC plot

...
