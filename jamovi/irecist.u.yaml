---
name: irecist
title: iRECIST Analysis
jus: '3.0'
stage: 0
compilerMode: tame
children:
  - type: VariableSupplier
    name: variableSupplier
    suggested:
      - continuous
      - nominal
      - ordinal
    persistentItems: false
    stretchFactor: 1
    children:
      - type: TargetLayoutBox
        children:
          - type: VariablesListBox
            name: patientId
            maxItemCount: 1
            isTarget: true
            itemDropBehaviour: overwrite

      - type: TargetLayoutBox
        children:
          - type: VariablesListBox
            name: assessmentTime
            maxItemCount: 1
            isTarget: true
            itemDropBehaviour: overwrite

      - type: TargetLayoutBox
        children:
          - type: VariablesListBox
            name: targetLesionSum
            maxItemCount: 1
            isTarget: true
            itemDropBehaviour: overwrite

      - type: TargetLayoutBox
        children:
          - type: VariablesListBox
            name: newLesions
            maxItemCount: 1
            isTarget: true
            itemDropBehaviour: overwrite

      - type: TargetLayoutBox
        children:
          - type: VariablesListBox
            name: nonTargetStatus
            maxItemCount: 1
            isTarget: true
            itemDropBehaviour: overwrite

      - type: TargetLayoutBox
        children:
          - type: VariablesListBox
            name: tumorBurden
            maxItemCount: 1
            isTarget: true
            itemDropBehaviour: overwrite

      - type: TargetLayoutBox
        children:
          - type: VariablesListBox
            name: groupVar
            maxItemCount: 1
            isTarget: true
            itemDropBehaviour: overwrite

  - type: CollapseBox
    label: iRECIST Criteria Settings
    collapsed: true
    stretchFactor: 1
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: Response Thresholds (RECIST 1.1)
            children:
              - type: TextBox
                name: prThreshold
                format: number
                suffix: '%'
              - type: TextBox
                name: pdThreshold
                format: number
                suffix: '%'
              - type: TextBox
                name: pdAbsolute
                format: number
                suffix: 'mm'

      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: Confirmation Window
            children:
              - type: TextBox
                name: confirmationWindow
                format: number
                suffix: 'weeks'
              - type: TextBox
                name: confirmationWindowMax
                format: number
                suffix: 'weeks'

      - type: LayoutBox
        margin: large
        children:
          - type: Label
            label: Response Confirmation
            children:
              - type: CheckBox
                name: requireConfirmation
              - type: TextBox
                name: confirmationScans
                format: number
                enable: (requireConfirmation)

  - type: CollapseBox
    label: Pseudoprogression Analysis
    collapsed: false
    stretchFactor: 1
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: trackPseudoprogression
          - type: CheckBox
            name: showPseudoprogressionRate
            enable: (trackPseudoprogression)
          - type: CheckBox
            name: nadirReference

  - type: CollapseBox
    label: Output Tables
    collapsed: false
    stretchFactor: 1
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: showResponseTable
          - type: CheckBox
            name: showBestResponse
          - type: CheckBox
            name: calculateORR
          - type: CheckBox
            name: calculateDCR

  - type: CollapseBox
    label: Visualization Options
    collapsed: false
    stretchFactor: 1
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: showWaterfallPlot
          - type: CheckBox
            name: showSwimmerPlot
          - type: CheckBox
            name: showSpiderPlot
          - type: CheckBox
            name: showTimeToCPD
          - type: CheckBox
            name: showDetailedTimeline

  - type: CollapseBox
    label: Stratified Analysis
    collapsed: true
    stretchFactor: 1
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: stratifiedAnalysis
            enable: (groupVar)

  - type: CollapseBox
    label: Reference Options
    collapsed: true
    stretchFactor: 1
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: baselineReference
          - type: CheckBox
            name: showReference
          - type: CheckBox
            name: exportResults

...
