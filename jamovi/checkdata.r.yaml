---
name: checkdata
title: Single Variable Quality Check
jrs: '1.1'

items:
    - name: todo
      title: Getting Started
      type: Html

    - name: qualityText
      title: Quality Assessment Summary
      type: Preformatted

    - name: missingVals
      title: Missing Data Analysis
      type: Table
      rows: 0
      columns:
        - name: metric
          title: "Metric"
          type: text
        - name: value
          title: "Value"
          type: text
        - name: interpretation
          title: "Interpretation"
          type: text

    - name: noOutliers
      title: "Outlier Detection (Consensus: ≥2 methods)"
      type: Html
      visible: (showOutliers)

    - name: outliers
      title: "Outlier Detection (Consensus: ≥2 methods)"
      type: Table
      description: "Shows outliers detected by at least 2 of 3 methods: Z-score (|z|>3), IQR (1.5×IQR rule), Modified Z-score (MAD-based |z|>3.5). Points flagged by only 1 method are NOT shown."
      visible: (showOutliers)
      rows: 0
      columns:
        - name: rowNumber
          title: "Row"
          type: integer
        - name: value
          title: "Value"
          type: number
        - name: zscore
          title: "Z-Score"
          type: number
        - name: zscoreFlag
          title: "Z-score"
          type: text
        - name: iqrFlag
          title: "IQR"
          type: text
        - name: madFlag
          title: "MAD"
          type: text
        - name: severity
          title: "Severity (by Z)"
          type: text

    - name: outlierMethodSummary
      title: "Outlier Detection Method Summary (Heuristic)"
      type: Table
      description: "Summary of each outlier detection method. These are heuristic approaches; consider skewness and sample size when interpreting."
      visible: (showOutliers)
      rows: 0
      columns:
        - name: method
          title: "Method"
          type: text
        - name: threshold
          title: "Threshold"
          type: text
        - name: outliers_detected
          title: "Outliers Found"
          type: integer
        - name: note
          title: "Note"
          type: text

    - name: distribution
      title: Distribution Analysis
      type: Table
      visible: (showDistribution)
      rows: 0
      columns:
        - name: metric
          title: "Metric"
          type: text  
        - name: value
          title: "Value"
          type: number
        - name: interpretation
          title: "Interpretation"
          type: text

    - name: duplicates
      title: Duplicate Values
      type: Table
      visible: (showDuplicates)
      rows: 0
      columns:
        - name: value
          title: "Value"  
          type: text
        - name: count
          title: "Count"
          type: integer
        - name: percentage
          title: "% of Data"
          type: number

    - name: patterns
      title: Data Patterns
      type: Table
      visible: (showPatterns)
      rows: 0
      columns:
        - name: pattern
          title: "Pattern"
          type: text
        - name: description
          title: "Description"
          type: text
        - name: recommendation
          title: "Recommendation"
          type: text

    - name: naturalSummary
      title: Natural-Language Summary
      type: Html
      visible: (showSummary)

    - name: aboutAnalysis
      title: About This Analysis
      type: Html
      visible: (showAbout)

    - name: caveatsAssumptions
      title: Caveats & Assumptions
      type: Html
      visible: (showCaveats)

refs:
    - ClinicoPathJamoviModule

...
