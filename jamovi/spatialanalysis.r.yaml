---
name: spatialanalysis
title: Spatial Statistics from Coordinates
jrs: '1.1'

items:
    - name: text
      title: Getting Started
      type: Html
      visible: true

    - name: copysummary
      title: Copy-Ready Summary
      type: Html
      visible: true
      description: Plain-language summary of spatial analysis results ready for copy-paste

    - name: summary
      title: Spatial Summary Statistics
      type: Table
      columns:
          - name: measure
            title: Measure
            type: text
          - name: value
            title: Value
            type: number
            format: zto
          - name: description
            title: Description
            type: text
      description: Basic spatial metrics including point counts, density, and study area
      clearWith:
          - coords_x
          - coords_y
          - cell_types
          - roi_id

    - name: ripley
      title: Ripley's K-function Analysis
      type: Table
      columns:
          - name: distance
            title: Distance (r)
            type: number
            format: zto
          - name: k_observed
            title: K(r) Observed
            type: number
            format: zto
          - name: k_theoretical
            title: K(r) Theoretical
            type: number
            format: zto
          - name: l_observed
            title: L(r) Observed
            type: number
            format: zto
          - name: l_theoretical
            title: L(r) Theoretical
            type: number
            format: zto
          - name: interpretation
            title: Pattern
            type: text
      description: Spatial clustering analysis at multiple distance scales
      visible: (perform_ripley)
      clearWith:
          - coords_x
          - coords_y
          - perform_ripley
          - correction_method

    - name: nearestneighbor
      title: Nearest Neighbor Analysis
      type: Table
      columns:
          - name: statistic
            title: Statistic
            type: text
          - name: value
            title: Value
            type: number
            format: zto
          - name: expected
            title: Expected
            type: number
            format: zto
          - name: ratio
            title: R
            type: number
            format: zto
          - name: p_value
            title: p-value
            type: number
            format: zto,pvalue
          - name: interpretation
            title: Interpretation
            type: text
      description: Nearest neighbor distances and Clark-Evans randomness test
      visible: (perform_nnd)
      clearWith:
          - coords_x
          - coords_y
          - perform_nnd
          - distance_method

    - name: hotspots
      title: Hotspot Detection Results
      type: Table
      columns:
          - name: measure
            title: Measure
            type: text
          - name: value
            title: Value
            type: number
            format: zto
          - name: interpretation
            title: Interpretation
            type: text
      description: Spatial hotspot analysis using kernel density estimation
      visible: (perform_hotspot)
      clearWith:
          - coords_x
          - coords_y
          - perform_hotspot

    - name: interaction
      title: Multi-type Spatial Interaction
      type: Table
      columns:
          - name: type_i
            title: Type i
            type: text
          - name: type_j
            title: Type j
            type: text
          - name: distance
            title: Distance (r)
            type: number
            format: zto
          - name: pcf_observed
            title: g(r) Observed
            type: number
            format: zto
          - name: pcf_theoretical
            title: g(r) Expected
            type: number
            format: zto
          - name: interaction_type
            title: Interaction
            type: text
          - name: interpretation
            title: Interpretation
            type: text
      description: Cross-type spatial relationships and interaction patterns
      visible: (perform_interaction && cell_types)
      clearWith:
          - coords_x
          - coords_y
          - cell_types
          - perform_interaction

    - name: spatialplot
      title: Spatial Distribution Plot
      type: Image
      description: Visualization of spatial coordinate data with optional cell type coloring
      width: 600
      height: 600
      visible: (show_plots)
      requiresData: true
      clearWith:
          - coords_x
          - coords_y
          - cell_types
          - show_plots

    - name: interpretation
      title: Clinical Interpretation and Context
      type: Html
      visible: true
      description: Clinical significance and pathology applications of spatial patterns


refs:
    - ClinicoPathJamoviModule

...
