---
name:  competingsurvival
title: Overall, Cause Specific, and Competing Survival
menuGroup: SurvivalT
menuSubgroup: Drafts
menuSubtitle: 'Survival for Different Outcomes'
version: '0.0.3'
jas: '1.2'


description:
    main: Overall, Cause Specific, and Competing Survival.
    R:
        dontrun: true
        usage: |
            # example will be added


options:
    - name: data
      type: Data
      description:
          R: >
            The data as a data frame.


    - name: explanatory
      title: Explanatory Variable
      type: Variable
      suggested: [ ordinal, nominal ]
      permitted: [ factor ]

    - name: overalltime
      title: 'Overall Time (in months)'
      type: Variable
      suggested: [ continuous ]
      permitted: [ numeric ]

    - name: outcome
      title: Outcome
      type: Variable
      suggested: [ ordinal, nominal ]
      permitted: [ factor ]

    - name: dod
      title: Dead of Disease
      type: Level
      variable: (outcome)
      allowNone: true

    - name: dooc
      title: Dead of Other
      type: Level
      variable: (outcome)
      allowNone: true

    - name: awd
      title: Alive w Disease
      type: Level
      variable: (outcome)
      allowNone: true

    - name: awod
      title: Alive w/o Disease
      type: Level
      variable: (outcome)
      allowNone: true

    - name: analysistype
      title: 'Select Analysis Type'
      type: List
      options:
        - title: Overall
          name: overall
        - title: Cause Specific
          name: cause
        - title: Competing Risk
          name: compete
      default: overall

    # Enhanced Competing Risks Options
    - name: graystest
      title: "Gray's Test for Competing Risks"
      type: Bool
      default: true
      description:
          ui: >
            Perform Gray's test to compare cumulative incidence functions between groups
          R: >
            Perform Gray's test to compare cumulative incidence functions between groups

    - name: subdistribution
      title: 'Subdistribution Hazard Model'
      type: Bool
      default: true
      description:
          ui: >
            Use Fine-Gray subdistribution hazard model for competing risks regression
          R: >
            Use Fine-Gray subdistribution hazard model for competing risks regression

    - name: timepoints
      title: 'Time Points for Cumulative Incidence'
      type: String
      default: "12,24,36,60"
      description:
          ui: >
            Comma-separated time points (in months) for cumulative incidence estimates
          R: >
            Comma-separated time points (in months) for cumulative incidence estimates

    - name: confidencelevel
      title: 'Confidence Level'
      type: Number
      default: 0.95
      min: 0.5
      max: 0.99
      description:
          ui: >
            Confidence level for hazard ratio confidence intervals
          R: >
            Confidence level for hazard ratio confidence intervals

    - name: showrisksets
      title: 'Show Number at Risk'
      type: Bool
      default: true
      description:
          ui: >
            Display number at risk table below cumulative incidence plot
          R: >
            Display number at risk table below cumulative incidence plot

    - name: showStackedPlot
      title: 'Show Stacked Probability Plot'
      type: Bool
      default: false
      description:
          ui: >
            Display stacked area plot showing CIF1 + CIF2 + Survival probability
          R: >
            Display stacked probability plot with all competing events

    - name: showKMvsCIF
      title: 'Show 1-KM vs CIF Comparison'
      type: Bool
      default: false
      description:
          ui: >
            Compare naive 1-KM estimate with proper cumulative incidence
          R: >
            Plot comparison between 1-KM and CIF to show competing risk bias

    - name: cifColors
      title: 'CIF Color Scheme'
      type: List
      options:
        - title: Default (Red/Blue)
          name: default
        - title: Colorblind-safe
          name: colorblind
        - title: Grayscale
          name: grayscale
      default: default
      description:
          ui: >
            Color palette for cumulative incidence curves
          R: >
            Color scheme for CIF plots


...
