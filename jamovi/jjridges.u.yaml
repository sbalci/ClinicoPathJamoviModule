title: Advanced Ridge Plot
name: jjridges
jus: '3.0'
stage: 0
compilerMode: tame

children:
  - type: VariableSupplier
    persistentItems: false
    stretchFactor: 1
    children:
      - type: TargetLayoutBox
        label: X Variable (Distribution)
        children:
          - type: VariablesListBox
            name: x_var
            maxItemCount: 1
            isTarget: true
      - type: TargetLayoutBox
        label: Y Variable (Groups)
        children:
          - type: VariablesListBox
            name: y_var
            maxItemCount: 1
            isTarget: true
      - type: TargetLayoutBox
        label: Fill Variable (Optional)
        children:
          - type: VariablesListBox
            name: fill_var
            maxItemCount: 1
            isTarget: true
      - type: TargetLayoutBox
        label: Facet Variable (Optional)
        children:
          - type: VariablesListBox
            name: facet_var
            maxItemCount: 1
            isTarget: true

  - type: CollapseBox
    label: Plot Style
    collapsed: false
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: plot_type
            label: Plot Type
          - type: TextBox
            name: scale
            label: Ridge Height Scale
            format: number
          - type: ComboBox
            name: bandwidth
            label: Bandwidth Method
          - type: TextBox
            name: bandwidth_value
            label: Custom Bandwidth
            format: number
            enable: (bandwidth == 'custom')
          - type: TextBox
            name: binwidth
            label: Histogram Bin Width
            format: number
            enable: (plot_type == 'histogram_ridges')

  - type: CollapseBox
    label: Advanced Features
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: add_boxplot
            label: Add Boxplot Inside
          - type: CheckBox
            name: add_points
            label: Show Data Points
          - type: TextBox
            name: point_alpha
            label: Point Transparency
            format: number
            enable: (add_points)
          - type: CheckBox
            name: add_quantiles
            label: Show Quantile Lines
          - type: TextBox
            name: quantiles
            label: Quantile Values
            format: string
            enable: (add_quantiles)
          - type: CheckBox
            name: add_mean
            label: Show Mean Line
          - type: CheckBox
            name: add_median
            label: Show Median Line

  - type: CollapseBox
    label: Statistical Analysis
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: show_stats
            label: Show Statistics
          - type: ComboBox
            name: test_type
            label: Statistical Test
            enable: (show_stats)
          - type: ComboBox
            name: p_adjust_method
            label: P-value Adjustment
            enable: (show_stats)
          - type: ComboBox
            name: effsize_type
            label: Effect Size Type
            enable: (show_stats)

  - type: CollapseBox
    label: Visual Appearance
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: alpha
            label: Ridge Transparency
            format: number
          - type: CheckBox
            name: fill_ridges
            label: Fill Ridges
          - type: ComboBox
            name: color_palette
            label: Color Palette
          - type: TextBox
            name: custom_colors
            label: Custom Colors
            format: string
            enable: (color_palette == 'custom')
          - type: TextBox
            name: gradient_low
            label: Gradient Low Color
            format: string
            enable: (plot_type == 'density_ridges_gradient')
          - type: TextBox
            name: gradient_high
            label: Gradient High Color
            format: string
            enable: (plot_type == 'density_ridges_gradient')
          - type: CheckBox
            name: reverse_order
            label: Reverse Y Order
          - type: CheckBox
            name: show_fill_legend
            label: Show Fill Legend
            enable: (fill_var)
          - type: CheckBox
            name: show_facet_legend
            label: Show Facet Legend
            enable: (facet_var)

  - type: CollapseBox
    label: Theme & Labels
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: theme_style
            label: Theme Style
          - type: CheckBox
            name: grid_lines
            label: Show Grid Lines
          - type: CheckBox
            name: expand_panels
            label: Expand Panels
          - type: ComboBox
            name: legend_position
            label: Legend Position
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: plot_title
            label: Plot Title
            format: string
            width: large
          - type: TextBox
            name: plot_subtitle
            label: Plot Subtitle
            format: string
            width: large
          - type: TextBox
            name: plot_caption
            label: Plot Caption
            format: string
            width: large
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: x_label
            label: X Axis Label
            format: string
          - type: TextBox
            name: y_label
            label: Y Axis Label
            format: string

  - type: CollapseBox
    label: Annotations
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: add_sample_size
            label: Show Sample Sizes
          - type: CheckBox
            name: add_density_values
            label: Show Density Values
          - type: TextBox
            name: custom_annotations
            label: Custom Annotations
            format: string
            width: large

  - type: CollapseBox
    label: Export Options
    collapsed: true
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: width
            label: Plot Width
            format: number
          - type: TextBox
            name: height
            label: Plot Height
            format: number
          - type: TextBox
            name: dpi
            label: Plot DPI
            format: number