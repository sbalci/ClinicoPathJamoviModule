title: Gradient Boosting for Survival Analysis
name: gradientboosting
jus: '3.0'
stage: 0
compilerMode: tame
children:
  - type: VariableSupplier
    persistentItems: false
    stretchFactor: 1
    children:
      - type: TargetLayoutBox
        label: Survival Variables
        children:
          - type: VariablesListBox
            name: time
            maxItemCount: 1
            isTarget: true
          - type: VariablesListBox
            name: event
            maxItemCount: 1
            isTarget: true
      - type: TargetLayoutBox
        label: Predictor Variables
        children:
          - type: VariablesListBox
            name: predictors
            isTarget: true
      - type: TargetLayoutBox
        label: Stratification (Optional)
        children:
          - type: VariablesListBox
            name: strata
            maxItemCount: 1
            isTarget: true

  - type: Label
    label: Algorithm Settings
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: ComboBox
            name: algorithm
          - type: TextBox
            name: n_trees
            format: number
          - type: TextBox
            name: learning_rate
            format: number
          - type: TextBox
            name: max_depth
            format: number

  - type: Label
    label: Tree Parameters
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: min_node_size
            format: number
          - type: TextBox
            name: subsample
            format: number
          - type: TextBox
            name: interaction_depth
            format: number
          - type: TextBox
            name: bag_fraction
            format: number

  - type: Label
    label: Cross-Validation
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: cv_folds
            format: number
          - type: CheckBox
            name: early_stopping
          - type: TextBox
            name: patience
            format: number
            enable: (early_stopping)

  - type: Label
    label: Regularization (XGBoost)
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: reg_alpha
            format: number
            enable: (algorithm == 'xgboost')
          - type: TextBox
            name: reg_lambda
            format: number
            enable: (algorithm == 'xgboost')

  - type: Label
    label: Variable Selection
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: variable_selection
          - type: TextBox
            name: importance_threshold
            format: number
            enable: (variable_selection)

  - type: Label
    label: Output Options
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: show_convergence
          - type: CheckBox
            name: show_importance
          - type: CheckBox
            name: show_predictions

  - type: Label
    label: Plots
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: plot_convergence
          - type: CheckBox
            name: plot_importance
          - type: CheckBox
            name: plot_partial
          - type: CheckBox
            name: plot_survival

  - type: Label
    label: Advanced
    children:
      - type: LayoutBox
        margin: large
        children:
          - type: TextBox
            name: random_seed
            format: number