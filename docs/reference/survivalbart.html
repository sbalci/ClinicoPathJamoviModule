<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Bayesian Additive Regression Trees (BART) for Survival — survivalbart • ClinicoPath</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Bayesian Additive Regression Trees (BART) for Survival — survivalbart"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ClinicoPath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.32.72</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../dev/index.html"><span class="fa fa-cogs"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-test-data" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-database"></span> Test Data</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-test-data"><li><a class="dropdown-item" href="../articles/test-data-catalog.html">Test Data Catalog</a></li>
    <li><a class="dropdown-item" href="../articles/test-data-complete-catalog.html">Complete Catalog (945 files)</a></li>
    <li><a class="dropdown-item" href="../articles/function-reference.html">Function Reference</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/serdarbalci"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Bayesian Additive Regression Trees (BART) for Survival</h1>
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/R/survivalbart.h.R" class="external-link"><code>R/survivalbart.h.R</code></a></small>
      <div class="d-none name"><code>survivalbart.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">survivalbart</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">time</span>,</span>
<span>  <span class="va">event</span>,</span>
<span>  <span class="va">predictors</span>,</span>
<span>  <span class="va">strata</span>,</span>
<span>  model_type <span class="op">=</span> <span class="st">"aft"</span>,</span>
<span>  prior_distribution <span class="op">=</span> <span class="st">"normal"</span>,</span>
<span>  n_trees <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  beta <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  k <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  q <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  nu <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  n_burn <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  n_post <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>  n_thin <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  n_chains <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  variable_selection <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sparse_prior <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  selection_alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  predict_times <span class="op">=</span> <span class="st">"1, 2, 5"</span>,</span>
<span>  survival_quantiles <span class="op">=</span> <span class="st">"0.25, 0.5, 0.75"</span>,</span>
<span>  credible_level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  cross_validation <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cv_folds <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  convergence_diagnostics <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  posterior_prediction <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_model_summary <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_variable_importance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_survival_summary <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_convergence <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_survival_curves <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_variable_importance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_trace <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_posterior_predictive <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_partial_dependence <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_interactions <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  probit_link <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cure_fraction_prior <span class="op">=</span> <span class="st">"uniform"</span>,</span>
<span>  adaptive_scaling <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parallel_chains <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  memory_optimization <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  random_seed <span class="op">=</span> <span class="fl">123</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The data as a data frame.</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>Time to event variable (numeric). For right-censored data, this
is the  time from study entry to event or censoring.</p></dd>


<dt id="arg-event">event<a class="anchor" aria-label="anchor" href="#arg-event"></a></dt>
<dd><p>Event indicator variable. For survival analysis: 0 = censored,
1 = event. Binary coding required for current BART implementation.</p></dd>


<dt id="arg-predictors">predictors<a class="anchor" aria-label="anchor" href="#arg-predictors"></a></dt>
<dd><p>Variables to include in the BART survival model. Can
include numeric, ordinal, and nominal variables. BART automatically handles
variable types and interactions without preprocessing.</p></dd>


<dt id="arg-strata">strata<a class="anchor" aria-label="anchor" href="#arg-strata"></a></dt>
<dd><p>Optional stratification variable for stratified survival
analysis. Creates separate BART models for each stratum.</p></dd>


<dt id="arg-model-type">model_type<a class="anchor" aria-label="anchor" href="#arg-model-type"></a></dt>
<dd><p>Type of survival model. AFT models log-survival times
directly, PH models log-hazard ratios, cure models handle long-term
survivors with mixture of cured and susceptible populations.</p></dd>


<dt id="arg-prior-distribution">prior_distribution<a class="anchor" aria-label="anchor" href="#arg-prior-distribution"></a></dt>
<dd><p>Prior distribution for error terms in AFT model.
Normal corresponds to log-normal survival times, extreme value to Weibull
survival, logistic to log-logistic survival.</p></dd>


<dt id="arg-n-trees">n_trees<a class="anchor" aria-label="anchor" href="#arg-n-trees"></a></dt>
<dd><p>Number of trees in the BART ensemble. More trees provide
greater flexibility but increase computation time. 100-300 is typical
range.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>Controls tree depth through splitting probability. Higher
values favor shallower trees, lower values allow deeper trees and more
complex interactions.</p></dd>


<dt id="arg-beta">beta<a class="anchor" aria-label="anchor" href="#arg-beta"></a></dt>
<dd><p>Controls tree depth through splitting probability formula.
Higher values discourage deep splits, promoting simpler trees.</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>Scale parameter for terminal node prior. Controls magnitude of
individual tree contributions to overall ensemble.</p></dd>


<dt id="arg-q">q<a class="anchor" aria-label="anchor" href="#arg-q"></a></dt>
<dd><p>Quantile for error variance prior specification. Higher values
assume less noise in the survival process.</p></dd>


<dt id="arg-nu">nu<a class="anchor" aria-label="anchor" href="#arg-nu"></a></dt>
<dd><p>Degrees of freedom for inverse chi-square prior on error
variance. Lower values allow more uncertainty in variance estimation.</p></dd>


<dt id="arg-n-burn">n_burn<a class="anchor" aria-label="anchor" href="#arg-n-burn"></a></dt>
<dd><p>Number of burn-in MCMC iterations to discard. Should be
sufficient for convergence to stationary distribution.</p></dd>


<dt id="arg-n-post">n_post<a class="anchor" aria-label="anchor" href="#arg-n-post"></a></dt>
<dd><p>Number of posterior MCMC iterations to keep for inference.
More iterations provide more precise posterior estimates.</p></dd>


<dt id="arg-n-thin">n_thin<a class="anchor" aria-label="anchor" href="#arg-n-thin"></a></dt>
<dd><p>Keep every nth posterior sample to reduce autocorrelation.
Higher values reduce effective sample size but may improve mixing.</p></dd>


<dt id="arg-n-chains">n_chains<a class="anchor" aria-label="anchor" href="#arg-n-chains"></a></dt>
<dd><p>Number of independent MCMC chains. Multiple chains enable
convergence diagnostics and robust posterior inference.</p></dd>


<dt id="arg-variable-selection">variable_selection<a class="anchor" aria-label="anchor" href="#arg-variable-selection"></a></dt>
<dd><p>Include variable selection probabilities in BART
model. Automatically identifies relevant predictors and reduces overfitting
with irrelevant variables.</p></dd>


<dt id="arg-sparse-prior">sparse_prior<a class="anchor" aria-label="anchor" href="#arg-sparse-prior"></a></dt>
<dd><p>Use sparse Dirichlet prior for variable selection
probabilities. Promotes sparser models with fewer active variables.</p></dd>


<dt id="arg-selection-alpha">selection_alpha<a class="anchor" aria-label="anchor" href="#arg-selection-alpha"></a></dt>
<dd><p>Concentration parameter for Dirichlet prior on
variable selection probabilities. Higher values favor uniform selection.</p></dd>


<dt id="arg-predict-times">predict_times<a class="anchor" aria-label="anchor" href="#arg-predict-times"></a></dt>
<dd><p>Comma-separated list of time points for survival
probability predictions. Empty string uses data-driven quantiles.</p></dd>


<dt id="arg-survival-quantiles">survival_quantiles<a class="anchor" aria-label="anchor" href="#arg-survival-quantiles"></a></dt>
<dd><p>Comma-separated list of quantiles for survival
time predictions. Provides percentile-based survival time estimates.</p></dd>


<dt id="arg-credible-level">credible_level<a class="anchor" aria-label="anchor" href="#arg-credible-level"></a></dt>
<dd><p>Level for posterior credible intervals on all
estimates. 0.95 provides 95\<!-- % credible intervals.} --></p>
<p>cross_validationPerform k-fold cross-validation to assess
out-of-sample performance and model generalization.</p>
<p>cv_foldsNumber of folds for cross-validation. More folds provide
better performance estimates but increase computation.</p>
<p>convergence_diagnosticsCompute MCMC convergence diagnostics
including effective sample sizes, autocorrelation, and potential scale
reduction.</p>
<p>posterior_predictionPerform posterior predictive checks to assess
model adequacy by comparing observed data to posterior predictive
distributions.</p>
<p>show_model_summaryDisplay comprehensive model summary including
BART parameters, convergence diagnostics, and posterior summaries.</p>
<p>show_variable_importanceDisplay variable importance measures based
on selection frequencies and splitting criteria across all trees.</p>
<p>show_survival_summaryDisplay survival function summaries including
median survival times and survival probabilities at key time points.</p>
<p>show_convergenceDisplay MCMC convergence diagnostics and chain
mixing assessment for model validation.</p>
<p>plot_survival_curvesPlot individual and population-level survival
curves with posterior credible bands showing uncertainty.</p>
<p>plot_variable_importanceCreate variable importance plot showing
inclusion probabilities and splitting frequencies across the ensemble.</p>
<p>plot_traceGenerate trace plots for key model parameters to assess
MCMC convergence and mixing.</p>
<p>plot_posterior_predictiveCreate posterior predictive check plots
comparing observed survival patterns to model predictions.</p>
<p>plot_partial_dependenceGenerate partial dependence plots showing
marginal effects of individual variables on survival hazard.</p>
<p>plot_interactionsVisualize detected interactions between variables
with strength and confidence measures.</p>
<p>probit_linkUse probit link for binary outcomes in cure models.
Alternative to logit link for mixture component modeling.</p>
<p>cure_fraction_priorPrior distribution for cure fraction in cure
models. Uniform is non-informative, Jeffreys is scale-invariant.</p>
<p>adaptive_scalingUse adaptive scaling of MCMC proposals to optimize
acceptance rates and improve sampling efficiency.</p>
<p>parallel_chainsRun MCMC chains in parallel for faster computation
when multiple chains are specified.</p>
<p>memory_optimizationUse memory-efficient storage for large ensembles
and datasets to reduce memory footprint.</p>
<p>random_seedRandom seed for reproducible MCMC sampling and tree
ensemble generation.</p></dd>

</dl><p>A results object containing:
</p><table class="table table"><tr><td><code>results$instructions</code></td><td></td><td></td><td></td><td></td><td>a html</td></tr><tr><td><code>results$todo</code></td><td></td><td></td><td></td><td></td><td>a html</td></tr><tr><td><code>results$modelSummary</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$variableImportance</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$survivalSummary</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$convergenceDiagnostics</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$crossValidationResults</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$posteriorPredictive</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$interactionEffects</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$survivalCurvesPlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$variableImportancePlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$tracePlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$posteriorPredictivePlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$partialDependencePlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$interactionsPlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr></table>Tables can be converted to data frames with <code>asDF</code> or <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></code>. For example:<code>results$modelSummary$asDF</code><code>as.data.frame(results$modelSummary)</code>


Bayesian Additive Regression Trees (BART) for survival analysis, providing
a flexible
non-parametric approach to modeling complex clinical survival data.


Automatically captures non-linear relationships and high-order interactions
without explicit specification. Supports Accelerated Failure Time (AFT),
Proportional Hazards (PH), and Cure models.
BART combines an ensemble of weak learners (trees)
with Bayesian priors to create a powerful predictive model that naturally
handles nonlinear relationships, interactions, and variable selection
without requiring preprocessing. The method provides full posterior
distributions for predictions, built-in uncertainty quantification,
and robust performance across diverse survival scenarios. Particularly
effective for complex survival data with unknown functional forms,
high-dimensional predictors, mixed variable types, and scenarios requiring
individualized survival predictions with credible intervals. Implementation
supports both accelerated failure time and proportional hazards
formulations
with comprehensive posterior inference and model diagnostics.


result &lt;- survivalbart(
    data = mydata,
    time = "time_to_event",
    event = "event_indicator",
    predictors = c("age", "stage", "biomarker1", "biomarker2"),
    model_type = "aft",
    n_trees = 200,
    n_burn = 1000,
    n_post = 2000
)
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.serdarbalci.com/" class="external-link">Serdar Balci</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

