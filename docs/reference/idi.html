<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Integrated Discrimination Improvement (IDI) — idi • ClinicoPath</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Integrated Discrimination Improvement (IDI) — idi"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ClinicoPath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.32.01</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../dev/index.html"><span class="fa fa-cogs"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/api_analysis-definition.html">Analysis Definition</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/api_module-definition.html">Module Definition</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/api_results-definition.html">Results Definition</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/api_results-elements.html">Results Elements</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/api_table.html">Table</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/api_ui-definition.html">User-interface Definition</a></li>
    <li><a class="dropdown-item" href="../articles/developer_guide.html">jamovi Module Development Guide</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/index.html">Home</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/info_project-structure.html">project structure</a></li>
    <li><a class="dropdown-item" href="../articles/module-development-jamovi.html">ClinicoPath Module Development Guide</a></li>
    <li><a class="dropdown-item" href="../articles/pathology-jamovi.html">Using jamovi for the Common Statistical Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0101-getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0102-creating-a-module.html">Creating a Module</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0103-creating-an-analysis.html">Creating an Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0104-implementing-an-analysis.html">Implementing an Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0105-creating-rich-results.html">Creating Rich Results</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0105-debugging-an-analysis.html">Debugging an Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0106-adding-plots.html">Adding Plots</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0107-distributing-modules.html">Distributing Modules</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0108-additional-notes.html">Additional Notes</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0201-data-binding.html">Tables</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0201-dynamic-tables.html">Dynamic Tables</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0202-handling-data.html">Handling Data</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0203-state.html">State</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-advanced-customisation.html">Advanced customisation of the options UI</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-advanced-design.html">Advanced UI Design</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-basecontrol.html">BaseControl</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-basic-design.html">UI Design</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-checkbox.html">CheckBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-collapsebox.html">CollapseBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-combobox.html">ComboBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-custom-format.html">Custom Formats</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-label.html">Label</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-layoutbox.html">LayoutBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-listbox.html">ListBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-optioncontrol.html">OptionControl</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-parentcontrol.html">ParentControl</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-radiobutton.html">RadioButton</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-standard-formats.html">Standard UI Formats</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-supplier.html">Supplier</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-targetlayoutbox.html">TargetLayoutBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-termlabel.html">TermLabel</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-textbox.html">TextBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-variablelabel.html">VariableLabel</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-variablesupplier.html">VariableSupplier</a></li>
    <li><a class="dropdown-item" href="../articles/users-of-ClinicoPath.html">Users of ClinicoPath</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/serdarbalci"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Integrated Discrimination Improvement (IDI)</h1>
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/R/idi.h.R" class="external-link"><code>R/idi.h.R</code></a></small>
      <div class="d-none name"><code>idi.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">idi</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">outcome</span>,</span>
<span>  <span class="va">baseline_risk</span>,</span>
<span>  <span class="va">new_risk</span>,</span>
<span>  <span class="va">time_var</span>,</span>
<span>  followup_time <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  idi_type <span class="op">=</span> <span class="st">"standard"</span>,</span>
<span>  discrimination_measure <span class="op">=</span> <span class="st">"mean_diff"</span>,</span>
<span>  trim_proportion <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  confidence_level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  bootstrap_samples <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  bootstrap_method <span class="op">=</span> <span class="st">"bca"</span>,</span>
<span>  hypothesis_test <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  test_method <span class="op">=</span> <span class="st">"bootstrap"</span>,</span>
<span>  decompose_idi <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  risk_distribution <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  discrimination_slope <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  relative_improvement <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  cross_validation <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cv_folds <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  sensitivity_analysis <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  outlier_detection <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  outlier_method <span class="op">=</span> <span class="st">"iqr"</span>,</span>
<span>  show_summary <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_distributions <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_discrimination <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_validation <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_risk_distributions <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_discrimination <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_scatter <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_bootstrap <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_sensitivity <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_outliers <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  competing_risks <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  stratified_analysis <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">subgroup_var</span>,</span>
<span>  missing_handling <span class="op">=</span> <span class="st">"complete"</span>,</span>
<span>  calibration_aware <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  time_dependent <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  alpha_level <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  random_seed <span class="op">=</span> <span class="fl">123</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The data as a data frame.</p></dd>


<dt id="arg-outcome">outcome<a class="anchor" aria-label="anchor" href="#arg-outcome"></a></dt>
<dd><p>Binary outcome variable (0/1) indicating event occurrence.
For time-to-event data, this should be event status at the specified time
point.</p></dd>


<dt id="arg-baseline-risk">baseline_risk<a class="anchor" aria-label="anchor" href="#arg-baseline-risk"></a></dt>
<dd><p>Predicted risks or probabilities from the baseline
(reference) model. Should be on probability scale (0-1) for optimal IDI
interpretation.</p></dd>


<dt id="arg-new-risk">new_risk<a class="anchor" aria-label="anchor" href="#arg-new-risk"></a></dt>
<dd><p>Predicted risks or probabilities from the new (enhanced)
model that includes additional predictors or biomarkers.</p></dd>


<dt id="arg-time-var">time_var<a class="anchor" aria-label="anchor" href="#arg-time-var"></a></dt>
<dd><p>Time to event variable for survival data analysis. Required
when using time-to-event outcomes with IDI.</p></dd>


<dt id="arg-followup-time">followup_time<a class="anchor" aria-label="anchor" href="#arg-followup-time"></a></dt>
<dd><p>Time point for survival analysis (years). Events
occurring after this time are censored for IDI calculation.</p></dd>


<dt id="arg-idi-type">idi_type<a class="anchor" aria-label="anchor" href="#arg-idi-type"></a></dt>
<dd><p>Type of IDI calculation. Standard uses absolute
differences, relative scales by baseline discrimination, scaled normalizes
by outcome prevalence, all provides comprehensive assessment.</p></dd>


<dt id="arg-discrimination-measure">discrimination_measure<a class="anchor" aria-label="anchor" href="#arg-discrimination-measure"></a></dt>
<dd><p>Method for calculating discrimination
differences. Mean difference is standard, median is robust to outliers,
trimmed mean balances both approaches, robust uses M-estimators.</p></dd>


<dt id="arg-trim-proportion">trim_proportion<a class="anchor" aria-label="anchor" href="#arg-trim-proportion"></a></dt>
<dd><p>Proportion of extreme values to trim when using
trimmed mean. 0.1 trims 10\<!-- % from each tail, providing robust estimation.} --></p>
<p>confidence_levelConfidence level for IDI confidence intervals and
hypothesis testing. 0.95 provides 95\<!-- % confidence intervals.} -->bootstrap_samplesNumber of bootstrap samples for confidence
interval estimation. More samples provide more stable estimates but
increase computation time.bootstrap_methodBootstrap confidence interval method. BCa provides
bias-corrected intervals with better coverage, studentized accounts for
variance changes, percentile is simple and robust.hypothesis_testPerform hypothesis test for IDI = 0. Tests whether
the new model provides significant discrimination improvement.test_methodMethod for hypothesis testing. Bootstrap is recommended
for most situations, asymptotic assumes normality, permutation is
distribution-free, robust handles outliers.decompose_idiDecompose IDI into contributions from events and
non-events. Provides insight into which population drives the improvement.risk_distributionAnalyze and compare risk score distributions
between baseline and new models for events and non-events separately.discrimination_slopeCalculate discrimination slopes (difference in
means) for baseline and new models with confidence intervals.relative_improvementCalculate relative improvement as percentage
increase in discrimination over baseline model performance.cross_validationPerform k-fold cross-validation to assess stability
of IDI estimates and reduce optimism bias in model comparisons.cv_foldsNumber of folds for cross-validation when enabled. 5-fold
CV provides good balance of bias and variance.sensitivity_analysisPerform sensitivity analysis by varying
follow-up times and examining IDI stability across different time horizons.outlier_detectionDetect and analyze outliers in risk predictions
that may disproportionately influence IDI calculations.outlier_methodMethod for outlier detection. IQR is simple and
robust, Z-score assumes normality, modified Z-score is more robust,
isolation forest handles complex patterns.show_summaryDisplay comprehensive IDI summary including overall
IDI, decomposed components, and statistical significance.show_distributionsDisplay risk distribution summaries for baseline
and new models separately for events and non-events.show_discriminationDisplay discrimination slopes and related
measures for both baseline and new models with improvements.show_validationDisplay cross-validation and sensitivity analysis
results when these options are enabled.plot_risk_distributionsCreate plots showing risk score
distributions for baseline and new models separated by outcome status.plot_discriminationVisualize discrimination improvement showing
mean differences and IDI components with confidence intervals.plot_scatterCreate scatter plot of baseline vs new model risk
scores colored by outcome status to visualize improvement patterns.plot_bootstrapPlot bootstrap distribution of IDI estimates showing
sampling variability and confidence interval construction.plot_sensitivityCreate plots showing IDI variation across different
analysis parameters and time points.plot_outliersVisualize detected outliers and their influence on IDI
calculations with and without outliers.competing_risksAccount for competing risks in survival analysis.
Modifies IDI calculation for settings with multiple event types.stratified_analysisPerform stratified IDI analysis by important
subgroups to assess consistency of improvement across populations.subgroup_varVariable defining subgroups for stratified analysis.
Each level will receive separate IDI calculation.missing_handlingMethod for handling missing data in risk
predictions. Multiple imputation provides most robust results.calibration_awareAdjust IDI calculation to account for model
calibration. Uses calibrated probabilities for more accurate assessment.time_dependentCalculate time-dependent IDI for survival models
showing how discrimination improvement varies over time.alpha_levelType I error rate for hypothesis testing and confidence
intervals. Standard value is 0.05 for 95\<!-- % confidence.} -->random_seedRandom seed for bootstrap sampling and cross-validation.
Ensures reproducible results across analyses.A results object containing:
</p><table class="table table"><tr><td><code>results$instructions</code></td><td></td><td></td><td></td><td></td><td>a html</td></tr><tr><td><code>results$todo</code></td><td></td><td></td><td></td><td></td><td>a html</td></tr><tr><td><code>results$summary</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$distributionSummary</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$discriminationAnalysis</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$decomposition</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$validationResults</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$subgroupAnalysis</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$outlierAnalysis</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$sensitivityTable</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$riskDistributionsPlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$discriminationPlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$scatterPlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$bootstrapPlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$sensitivityPlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$outliersPlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr></table>Tables can be converted to data frames with <code>asDF</code> or <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></code>. For example:<code>results$summary$asDF</code><code>as.data.frame(results$summary)</code>Integrated Discrimination Improvement (IDI) analysis for assessing the
incremental value of new biomarkers or risk factors in prediction models.
IDI quantifies the improvement in model discrimination by measuring the
difference in predicted probabilities between events and non-events for the
new model compared to the baseline model. Unlike NRI which focuses on
reclassification, IDI provides a numeric measure of discrimination
improvement without requiring risk categories. The analysis includes
confidence intervals through bootstrap methods, statistical significance
testing, and decomposition into event and non-event components. Essential
for biomarker validation, model enhancement assessment, and demonstrating
clinical utility of new predictors in medical research. Particularly
valuable when numeric risk improvement is more relevant than categorical
reclassification, such as in precision medicine applications.result &lt;- idi(
    data = mydata,
    outcome = "event_indicator",
    baseline_risk = "baseline_predictions",
    new_risk = "new_model_predictions",
    time_point = 5,
    bootstrap_samples = 1000
)</dd>

</dl></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.serdarbalci.com/" class="external-link">Serdar Balci</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

