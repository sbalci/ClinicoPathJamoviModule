<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Gradient Boosting for Survival Analysis — gradientboosting • ClinicoPath</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Gradient Boosting for Survival Analysis — gradientboosting"><meta name="description" content="Gradient Boosting for survival analysis using ensemble methods that combine
multiple weak learners (typically shallow trees) to create strong
predictive models. This implementation supports both traditional gradient
boosting (gbm) and modern component-wise boosting (mboost) approaches. The
method is particularly effective for high-dimensional survival data and
complex non-linear relationships between predictors and survival outcomes.
Features include automatic variable selection, handling of mixed-type
predictors, built-in cross-validation for optimal stopping, and robust
performance with noisy data. Especially suitable for biomarker discovery,
prognostic modeling, and complex survival prediction tasks."><meta property="og:description" content="Gradient Boosting for survival analysis using ensemble methods that combine
multiple weak learners (typically shallow trees) to create strong
predictive models. This implementation supports both traditional gradient
boosting (gbm) and modern component-wise boosting (mboost) approaches. The
method is particularly effective for high-dimensional survival data and
complex non-linear relationships between predictors and survival outcomes.
Features include automatic variable selection, handling of mixed-type
predictors, built-in cross-validation for optimal stopping, and robust
performance with noisy data. Especially suitable for biomarker discovery,
prognostic modeling, and complex survival prediction tasks."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ClinicoPath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.32.72</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../dev/index.html"><span class="fa fa-cogs"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-test-data" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-database"></span> Test Data</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-test-data"><li><a class="dropdown-item" href="../articles/test-data-catalog.html">Test Data Catalog</a></li>
    <li><a class="dropdown-item" href="../articles/test-data-complete-catalog.html">Complete Catalog (945 files)</a></li>
    <li><a class="dropdown-item" href="../articles/function-reference.html">Function Reference</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/serdarbalci"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Gradient Boosting for Survival Analysis</h1>
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/R/gradientboosting.h.R" class="external-link"><code>R/gradientboosting.h.R</code></a></small>
      <div class="d-none name"><code>gradientboosting.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Gradient Boosting for survival analysis using ensemble methods that combine
multiple weak learners (typically shallow trees) to create strong
predictive models. This implementation supports both traditional gradient
boosting (gbm) and modern component-wise boosting (mboost) approaches. The
method is particularly effective for high-dimensional survival data and
complex non-linear relationships between predictors and survival outcomes.
Features include automatic variable selection, handling of mixed-type
predictors, built-in cross-validation for optimal stopping, and robust
performance with noisy data. Especially suitable for biomarker discovery,
prognostic modeling, and complex survival prediction tasks.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gradientboosting</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">time</span>,</span>
<span>  <span class="va">event</span>,</span>
<span>  <span class="va">predictors</span>,</span>
<span>  <span class="va">strata</span>,</span>
<span>  algorithm <span class="op">=</span> <span class="st">"mboost"</span>,</span>
<span>  n_trees <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  learning_rate <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  max_depth <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  min_node_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  subsample <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  cv_folds <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  early_stopping <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  patience <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  reg_alpha <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  reg_lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  variable_selection <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  importance_threshold <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  show_convergence <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_importance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_predictions <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_convergence <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_importance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_partial <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_survival <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  interaction_depth <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  bag_fraction <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  random_seed <span class="op">=</span> <span class="fl">123</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The data as a data frame.</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>Time to event variable (numeric). For right-censored data, this
is the  time from study entry to event or censoring.</p></dd>


<dt id="arg-event">event<a class="anchor" aria-label="anchor" href="#arg-event"></a></dt>
<dd><p>Event indicator variable. For survival analysis: 0 = censored,
1 = event. For competing risks: 0 = censored, 1+ = different event types.</p></dd>


<dt id="arg-predictors">predictors<a class="anchor" aria-label="anchor" href="#arg-predictors"></a></dt>
<dd><p>Variables to use for boosting. Can include numeric,
ordinal, and  nominal variables. The algorithm automatically handles
mixed-type predictors and performs variable selection.</p></dd>


<dt id="arg-strata">strata<a class="anchor" aria-label="anchor" href="#arg-strata"></a></dt>
<dd><p>Optional stratification variable for stratified survival
analysis. Creates separate baseline hazards for each stratum.</p></dd>


<dt id="arg-algorithm">algorithm<a class="anchor" aria-label="anchor" href="#arg-algorithm"></a></dt>
<dd><p>Boosting algorithm to use. mboost provides component-wise
boosting with statistical framework, gbm offers traditional gradient
boosting, xgboost provides extreme gradient boosting with advanced
regularization.</p></dd>


<dt id="arg-n-trees">n_trees<a class="anchor" aria-label="anchor" href="#arg-n-trees"></a></dt>
<dd><p>Number of boosting iterations (trees). More trees can
improve performance but may lead to overfitting. Use cross-validation to
determine optimal value.</p></dd>


<dt id="arg-learning-rate">learning_rate<a class="anchor" aria-label="anchor" href="#arg-learning-rate"></a></dt>
<dd><p>Learning rate (shrinkage parameter). Lower values
require more trees but often provide better generalization. Typical values:
0.01-0.3.</p></dd>


<dt id="arg-max-depth">max_depth<a class="anchor" aria-label="anchor" href="#arg-max-depth"></a></dt>
<dd><p>Maximum depth of individual trees. Shallow trees (1-6) are
typically sufficient for boosting. Deeper trees may capture interactions
but increase overfitting risk.</p></dd>


<dt id="arg-min-node-size">min_node_size<a class="anchor" aria-label="anchor" href="#arg-min-node-size"></a></dt>
<dd><p>Minimum number of observations in terminal nodes.
Higher values create simpler trees and reduce overfitting.</p></dd>


<dt id="arg-subsample">subsample<a class="anchor" aria-label="anchor" href="#arg-subsample"></a></dt>
<dd><p>Fraction of observations used for each tree. Values &lt; 1.0
introduce stochasticity and can improve generalization (stochastic gradient
boosting).</p></dd>


<dt id="arg-cv-folds">cv_folds<a class="anchor" aria-label="anchor" href="#arg-cv-folds"></a></dt>
<dd><p>Number of folds for cross-validation to determine optimal
number of trees and prevent overfitting. Set to 0 to disable
cross-validation.</p></dd>


<dt id="arg-early-stopping">early_stopping<a class="anchor" aria-label="anchor" href="#arg-early-stopping"></a></dt>
<dd><p>Use early stopping based on cross-validation to
prevent overfitting. Stops training when validation error stops improving.</p></dd>


<dt id="arg-patience">patience<a class="anchor" aria-label="anchor" href="#arg-patience"></a></dt>
<dd><p>Number of iterations without improvement before early
stopping. Higher values allow more exploration but may lead to overfitting.</p></dd>


<dt id="arg-reg-alpha">reg_alpha<a class="anchor" aria-label="anchor" href="#arg-reg-alpha"></a></dt>
<dd><p>L1 (Lasso) regularization parameter for XGBoost. Higher
values increase sparsity by driving coefficients to zero.</p></dd>


<dt id="arg-reg-lambda">reg_lambda<a class="anchor" aria-label="anchor" href="#arg-reg-lambda"></a></dt>
<dd><p>L2 (Ridge) regularization parameter for XGBoost. Higher
values reduce overfitting by penalizing large coefficients.</p></dd>


<dt id="arg-variable-selection">variable_selection<a class="anchor" aria-label="anchor" href="#arg-variable-selection"></a></dt>
<dd><p>Perform automatic variable selection during
boosting. Variables with low importance are excluded from final model.</p></dd>


<dt id="arg-importance-threshold">importance_threshold<a class="anchor" aria-label="anchor" href="#arg-importance-threshold"></a></dt>
<dd><p>Minimum relative importance for variable
inclusion in final model. Variables below this threshold are excluded.</p></dd>


<dt id="arg-show-convergence">show_convergence<a class="anchor" aria-label="anchor" href="#arg-show-convergence"></a></dt>
<dd><p>Display convergence diagnostics including training
and validation error curves, optimal stopping point, and convergence
statistics.</p></dd>


<dt id="arg-show-importance">show_importance<a class="anchor" aria-label="anchor" href="#arg-show-importance"></a></dt>
<dd><p>Calculate and display variable importance measures
based on the frequency and improvement of splits.</p></dd>


<dt id="arg-show-predictions">show_predictions<a class="anchor" aria-label="anchor" href="#arg-show-predictions"></a></dt>
<dd><p>Generate survival predictions and risk scores for
the training data. Useful for model evaluation and risk stratification.</p></dd>


<dt id="arg-plot-convergence">plot_convergence<a class="anchor" aria-label="anchor" href="#arg-plot-convergence"></a></dt>
<dd><p>Plot training and validation error curves showing
convergence behavior and optimal stopping point.</p></dd>


<dt id="arg-plot-importance">plot_importance<a class="anchor" aria-label="anchor" href="#arg-plot-importance"></a></dt>
<dd><p>Generate variable importance plot showing relative
importance of predictors in the boosted model.</p></dd>


<dt id="arg-plot-partial">plot_partial<a class="anchor" aria-label="anchor" href="#arg-plot-partial"></a></dt>
<dd><p>Create partial dependence plots for top variables
showing marginal effect on survival hazard.</p></dd>


<dt id="arg-plot-survival">plot_survival<a class="anchor" aria-label="anchor" href="#arg-plot-survival"></a></dt>
<dd><p>Plot Kaplan-Meier curves for risk groups defined by
boosted model predictions with statistical comparisons.</p></dd>


<dt id="arg-interaction-depth">interaction_depth<a class="anchor" aria-label="anchor" href="#arg-interaction-depth"></a></dt>
<dd><p>Maximum order of variable interactions to
consider. Higher values capture complex interactions but increase
computational complexity.</p></dd>


<dt id="arg-bag-fraction">bag_fraction<a class="anchor" aria-label="anchor" href="#arg-bag-fraction"></a></dt>
<dd><p>Fraction of variables randomly selected for each tree
(for gbm). Introduces randomness and can improve generalization.</p></dd>


<dt id="arg-random-seed">random_seed<a class="anchor" aria-label="anchor" href="#arg-random-seed"></a></dt>
<dd><p>Random seed for reproducible results. Change to get
different random splits and variable selections.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A results object containing:</p><table class="table table"><tr><td><code>results$todo</code></td><td></td><td></td><td></td><td></td><td>a html</td></tr><tr><td><code>results$modelSummary</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$convergenceStats</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$variableImportance</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$predictions</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$convergencePlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$importancePlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$partialPlots</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$survivalPlot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr></table><p>Tables can be converted to data frames with <code>asDF</code> or <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></code>. For example:</p>
<p><code>results$modelSummary$asDF</code></p>
<p><code>as.data.frame(results$modelSummary)</code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">gradientboosting</span><span class="op">(</span></span></span>
<span class="r-in"><span>    data <span class="op">=</span> <span class="va">mydata</span>,</span></span>
<span class="r-in"><span>    time <span class="op">=</span> <span class="st">"time_to_event"</span>,</span></span>
<span class="r-in"><span>    event <span class="op">=</span> <span class="st">"event_indicator"</span>,</span></span>
<span class="r-in"><span>    predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"stage"</span>, <span class="st">"biomarker1"</span>, <span class="st">"biomarker2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    algorithm <span class="op">=</span> <span class="st">"mboost"</span>,</span></span>
<span class="r-in"><span>    n_trees <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>    learning_rate <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>    max_depth <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>    cv_folds <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in gradientboosting(data = mydata, time = "time_to_event", event = "event_indicator",     predictors = c("age", "stage", "biomarker1", "biomarker2"),     algorithm = "mboost", n_trees = 100, learning_rate = 0.1,     max_depth = 3, cv_folds = 5):</span> argument "strata" is missing, with no default</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.serdarbalci.com/" class="external-link">Serdar Balci</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

