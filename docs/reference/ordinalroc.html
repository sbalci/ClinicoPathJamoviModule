<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Ordinal ROC Analysis — ordinalroc • ClinicoPath</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Ordinal ROC Analysis — ordinalroc"><meta name="description" content="Ordinal ROC analysis for diagnostic tests predicting ordered categorical
outcomes such as tumor differentiation grade (well/moderate/poor), fibrosis
stage (F0-F4), inflammation severity (none/mild/moderate/severe), or cancer
stage (I/II/III/IV). Unlike binary ROC which dichotomizes outcomes, ordinal
ROC preserves the natural ordering of categories and accounts for the
severity/progression inherent in ordinal scales. The analysis uses
cumulative probability models and proportional odds assumptions to generate
ROC curves that reflect the ordinal nature of the outcome. Provides
cumulative AUC across all thresholds, partial proportional odds models, and
ordinal-specific performance metrics. Essential for biomarker validation in
grading systems, staging algorithms, and any scenario where the outcome has
more than 2 ordered levels. Particularly valuable in pathology where
grading and staging are fundamental to diagnosis and prognosis (Gleason
score, Nottingham grade, FIGO stage, etc.)."><meta property="og:description" content="Ordinal ROC analysis for diagnostic tests predicting ordered categorical
outcomes such as tumor differentiation grade (well/moderate/poor), fibrosis
stage (F0-F4), inflammation severity (none/mild/moderate/severe), or cancer
stage (I/II/III/IV). Unlike binary ROC which dichotomizes outcomes, ordinal
ROC preserves the natural ordering of categories and accounts for the
severity/progression inherent in ordinal scales. The analysis uses
cumulative probability models and proportional odds assumptions to generate
ROC curves that reflect the ordinal nature of the outcome. Provides
cumulative AUC across all thresholds, partial proportional odds models, and
ordinal-specific performance metrics. Essential for biomarker validation in
grading systems, staging algorithms, and any scenario where the outcome has
more than 2 ordered levels. Particularly valuable in pathology where
grading and staging are fundamental to diagnosis and prognosis (Gleason
score, Nottingham grade, FIGO stage, etc.)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ClinicoPath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.32.72</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../dev/index.html"><span class="fa fa-cogs"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-test-data" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-database"></span> Test Data</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-test-data"><li><a class="dropdown-item" href="../articles/test-data-catalog.html">Test Data Catalog</a></li>
    <li><a class="dropdown-item" href="../articles/test-data-complete-catalog.html">Complete Catalog (945 files)</a></li>
    <li><a class="dropdown-item" href="../articles/function-reference.html">Function Reference</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/serdarbalci"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Ordinal ROC Analysis</h1>
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/R/ordinalroc.h.R" class="external-link"><code>R/ordinalroc.h.R</code></a></small>
      <div class="d-none name"><code>ordinalroc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Ordinal ROC analysis for diagnostic tests predicting ordered categorical
outcomes such as tumor differentiation grade (well/moderate/poor), fibrosis
stage (F0-F4), inflammation severity (none/mild/moderate/severe), or cancer
stage (I/II/III/IV). Unlike binary ROC which dichotomizes outcomes, ordinal
ROC preserves the natural ordering of categories and accounts for the
severity/progression inherent in ordinal scales. The analysis uses
cumulative probability models and proportional odds assumptions to generate
ROC curves that reflect the ordinal nature of the outcome. Provides
cumulative AUC across all thresholds, partial proportional odds models, and
ordinal-specific performance metrics. Essential for biomarker validation in
grading systems, staging algorithms, and any scenario where the outcome has
more than 2 ordered levels. Particularly valuable in pathology where
grading and staging are fundamental to diagnosis and prognosis (Gleason
score, Nottingham grade, FIGO stage, etc.).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ordinalroc</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">predictor</span>,</span>
<span>  <span class="va">ordinal_outcome</span>,</span>
<span>  <span class="va">outcome_order</span>,</span>
<span>  roc_method <span class="op">=</span> <span class="st">"empirical"</span>,</span>
<span>  cumulative_direction <span class="op">=</span> <span class="st">"geq"</span>,</span>
<span>  calculate_auc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  auc_ci_method <span class="op">=</span> <span class="st">"delong"</span>,</span>
<span>  bootstrap_samples <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  confidence_level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  category_specific_auc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  test_proportional_odds <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_coefficients <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  partial_proportional_odds <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  optimal_thresholds <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  threshold_method <span class="op">=</span> <span class="st">"youden"</span>,</span>
<span>  sensitivity_target <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  specificity_target <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  plot_ordinal_roc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_all_cumulative <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_category_distributions <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_cumulative_probabilities <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_confusion_matrix <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  clinical_context <span class="op">=</span> <span class="st">"general"</span>,</span>
<span>  show_interpretation <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  stratified_analysis <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">stratify_by</span>,</span>
<span>  covariate_adjustment <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">covariates</span>,</span>
<span>  compare_predictors <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">additional_predictors</span>,</span>
<span>  auc_comparison_test <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  missing_handling <span class="op">=</span> <span class="st">"complete"</span>,</span>
<span>  random_seed <span class="op">=</span> <span class="fl">123</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The data as a data frame.</p></dd>


<dt id="arg-predictor">predictor<a class="anchor" aria-label="anchor" href="#arg-predictor"></a></dt>
<dd><p>Continuous predictor variable (biomarker level, risk
score, imaging feature) used to predict the ordinal outcome. Should
increase or decrease monotonically with outcome severity.</p></dd>


<dt id="arg-ordinal-outcome">ordinal_outcome<a class="anchor" aria-label="anchor" href="#arg-ordinal-outcome"></a></dt>
<dd><p>Ordered categorical outcome variable with 3 or more
levels representing increasing severity or progression (e.g.,
well/moderate/poor differentiation, stage I/II/III/IV, FIGO stage, fibrosis
score F0-F4).</p></dd>


<dt id="arg-outcome-order">outcome_order<a class="anchor" aria-label="anchor" href="#arg-outcome-order"></a></dt>
<dd><p>Specify the correct ordering of outcome levels from
lowest to highest severity. This ensures proper cumulative probability
calculation. For example, for tumor differentiation, order should be: well,
moderate, poor.</p></dd>


<dt id="arg-roc-method">roc_method<a class="anchor" aria-label="anchor" href="#arg-roc-method"></a></dt>
<dd><p>Method for constructing ordinal ROC curves. Empirical
uses observed cumulative distributions (non-parametric), binormal assumes
normal distributions within categories, proportional odds uses logistic
regression framework.</p></dd>


<dt id="arg-cumulative-direction">cumulative_direction<a class="anchor" aria-label="anchor" href="#arg-cumulative-direction"></a></dt>
<dd><p>Direction for cumulative probabilities. Use ≥
if higher predictor values indicate higher severity (e.g., higher biomarker
= worse grade). Use ≤ if lower predictor values indicate higher severity.</p></dd>


<dt id="arg-calculate-auc">calculate_auc<a class="anchor" aria-label="anchor" href="#arg-calculate-auc"></a></dt>
<dd><p>Calculate area under the ordinal ROC curve. For
ordinal outcomes, this is often called the concordance probability or
generalized AUC. Values &gt;0.5 indicate discriminatory ability.</p></dd>


<dt id="arg-auc-ci-method">auc_ci_method<a class="anchor" aria-label="anchor" href="#arg-auc-ci-method"></a></dt>
<dd><p>Method for calculating confidence intervals around
AUC. DeLong is faster, bootstrap is more accurate for small samples.</p></dd>


<dt id="arg-bootstrap-samples">bootstrap_samples<a class="anchor" aria-label="anchor" href="#arg-bootstrap-samples"></a></dt>
<dd><p>Number of bootstrap samples for confidence
interval estimation when using bootstrap method.</p></dd>


<dt id="arg-confidence-level">confidence_level<a class="anchor" aria-label="anchor" href="#arg-confidence-level"></a></dt>
<dd><p>Confidence level for interval estimation around AUC
and other metrics.</p></dd>


<dt id="arg-category-specific-auc">category_specific_auc<a class="anchor" aria-label="anchor" href="#arg-category-specific-auc"></a></dt>
<dd><p>Calculate AUC for each cumulative
dichotomization (e.g., for grades 1/2/3, calculate AUC for 1 vs 2+3, 1+2 vs
3). Shows discriminatory ability at each threshold.</p></dd>


<dt id="arg-test-proportional-odds">test_proportional_odds<a class="anchor" aria-label="anchor" href="#arg-test-proportional-odds"></a></dt>
<dd><p>Test whether the proportional odds assumption
holds. This assumption states that the effect of the predictor is the same
across all category thresholds. Violation suggests non-proportional odds
model may be needed.</p></dd>


<dt id="arg-show-coefficients">show_coefficients<a class="anchor" aria-label="anchor" href="#arg-show-coefficients"></a></dt>
<dd><p>Display coefficients from the proportional odds
logistic regression model. Shows the log-odds ratio for predictor and
threshold intercepts.</p></dd>


<dt id="arg-partial-proportional-odds">partial_proportional_odds<a class="anchor" aria-label="anchor" href="#arg-partial-proportional-odds"></a></dt>
<dd><p>If proportional odds assumption is
violated, fit partial proportional odds model where predictor effects can
vary across thresholds.</p></dd>


<dt id="arg-optimal-thresholds">optimal_thresholds<a class="anchor" aria-label="anchor" href="#arg-optimal-thresholds"></a></dt>
<dd><p>Identify optimal predictor thresholds for each
cumulative dichotomization using Youden index or other criteria.</p></dd>


<dt id="arg-threshold-method">threshold_method<a class="anchor" aria-label="anchor" href="#arg-threshold-method"></a></dt>
<dd><p>Method for selecting optimal threshold at each
cumulative split.</p></dd>


<dt id="arg-sensitivity-target">sensitivity_target<a class="anchor" aria-label="anchor" href="#arg-sensitivity-target"></a></dt>
<dd><p>Target sensitivity for threshold selection if
using sensitivity-constrained approach.</p></dd>


<dt id="arg-specificity-target">specificity_target<a class="anchor" aria-label="anchor" href="#arg-specificity-target"></a></dt>
<dd><p>Target specificity for threshold selection if
using specificity-constrained approach.</p></dd>


<dt id="arg-plot-ordinal-roc">plot_ordinal_roc<a class="anchor" aria-label="anchor" href="#arg-plot-ordinal-roc"></a></dt>
<dd><p>Display ordinal ROC curve(s). For empirical method,
shows cumulative ROC for each dichotomization. For proportional odds, shows
model-based curve.</p></dd>


<dt id="arg-plot-all-cumulative">plot_all_cumulative<a class="anchor" aria-label="anchor" href="#arg-plot-all-cumulative"></a></dt>
<dd><p>Display separate ROC curves for each cumulative
dichotomization on the same plot. Helps visualize how discrimination varies
across severity levels.</p></dd>


<dt id="arg-plot-category-distributions">plot_category_distributions<a class="anchor" aria-label="anchor" href="#arg-plot-category-distributions"></a></dt>
<dd><p>Show distribution of predictor values
stratified by outcome category. Visualizes separation between ordinal
levels.</p></dd>


<dt id="arg-plot-cumulative-probabilities">plot_cumulative_probabilities<a class="anchor" aria-label="anchor" href="#arg-plot-cumulative-probabilities"></a></dt>
<dd><p>Display cumulative probability curves
as a function of predictor value. Shows how predicted probabilities change
with predictor level.</p></dd>


<dt id="arg-plot-confusion-matrix">plot_confusion_matrix<a class="anchor" aria-label="anchor" href="#arg-plot-confusion-matrix"></a></dt>
<dd><p>Show confusion matrix using optimal thresholds
to classify observations into ordinal categories.</p></dd>


<dt id="arg-clinical-context">clinical_context<a class="anchor" aria-label="anchor" href="#arg-clinical-context"></a></dt>
<dd><p>Clinical context for interpretation guidance.
Provides context-specific recommendations for threshold selection and
clinical application.</p></dd>


<dt id="arg-show-interpretation">show_interpretation<a class="anchor" aria-label="anchor" href="#arg-show-interpretation"></a></dt>
<dd><p>Provide clinical interpretation of results
including guidance on biomarker utility for distinguishing between ordinal
categories.</p></dd>


<dt id="arg-stratified-analysis">stratified_analysis<a class="anchor" aria-label="anchor" href="#arg-stratified-analysis"></a></dt>
<dd><p>Perform stratified ordinal ROC analysis by
important subgroups to assess consistency of biomarker performance across
populations.</p></dd>


<dt id="arg-stratify-by">stratify_by<a class="anchor" aria-label="anchor" href="#arg-stratify-by"></a></dt>
<dd><p>Variable defining strata for stratified analysis (e.g.,
age group, sex, institution). Each level receives separate ordinal ROC
analysis.</p></dd>


<dt id="arg-covariate-adjustment">covariate_adjustment<a class="anchor" aria-label="anchor" href="#arg-covariate-adjustment"></a></dt>
<dd><p>Adjust ordinal ROC analysis for covariates
(confounders) using regression framework. Useful for scanner effects, batch
effects, or demographic variables.</p></dd>


<dt id="arg-covariates">covariates<a class="anchor" aria-label="anchor" href="#arg-covariates"></a></dt>
<dd><p>Variables to adjust for in covariate-adjusted ordinal ROC
analysis.</p></dd>


<dt id="arg-compare-predictors">compare_predictors<a class="anchor" aria-label="anchor" href="#arg-compare-predictors"></a></dt>
<dd><p>Compare multiple predictor variables on the same
ordinal outcome to determine which biomarker has superior discrimination
across ordinal categories.</p></dd>


<dt id="arg-additional-predictors">additional_predictors<a class="anchor" aria-label="anchor" href="#arg-additional-predictors"></a></dt>
<dd><p>Additional continuous predictors to compare
with the primary predictor. Each will receive ordinal ROC analysis and AUC
comparison tests.</p></dd>


<dt id="arg-auc-comparison-test">auc_comparison_test<a class="anchor" aria-label="anchor" href="#arg-auc-comparison-test"></a></dt>
<dd><p>When comparing multiple predictors, perform
statistical test for differences in AUC values (DeLong test or bootstrap
comparison).</p></dd>


<dt id="arg-missing-handling">missing_handling<a class="anchor" aria-label="anchor" href="#arg-missing-handling"></a></dt>
<dd><p>Method for handling missing data in predictor or
outcome variables.</p></dd>


<dt id="arg-random-seed">random_seed<a class="anchor" aria-label="anchor" href="#arg-random-seed"></a></dt>
<dd><p>Random seed for bootstrap sampling and other stochastic
procedures. Ensures reproducible results.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A results object containing:</p><table class="table table"><tr><td><code>results$instructions</code></td><td></td><td></td><td></td><td></td><td>a html</td></tr><tr><td><code>results$overallSummary</code></td><td></td><td></td><td></td><td></td><td>Summary of ordinal ROC analysis with AUC and confidence intervals</td></tr><tr><td><code>results$cumulativeAUC</code></td><td></td><td></td><td></td><td></td><td>AUC for each cumulative split of ordinal categories</td></tr><tr><td><code>results$proportionalOddsTest</code></td><td></td><td></td><td></td><td></td><td>Test of proportional odds assumption</td></tr><tr><td><code>results$modelCoefficients</code></td><td></td><td></td><td></td><td></td><td>Coefficients from proportional odds logistic regression</td></tr><tr><td><code>results$optimalThresholds</code></td><td></td><td></td><td></td><td></td><td>Optimal predictor thresholds for each cumulative split</td></tr><tr><td><code>results$predictorComparison</code></td><td></td><td></td><td></td><td></td><td>Comparison of AUC across multiple predictors</td></tr><tr><td><code>results$aucComparisonTests</code></td><td></td><td></td><td></td><td></td><td>Statistical tests comparing AUC between predictors</td></tr><tr><td><code>results$stratifiedResults</code></td><td></td><td></td><td></td><td></td><td>Ordinal ROC results stratified by subgroup</td></tr><tr><td><code>results$confusionMatrix</code></td><td></td><td></td><td></td><td></td><td>Confusion matrix using optimal thresholds to classify into ordinal categories</td></tr><tr><td><code>results$ordinalROCPlot</code></td><td></td><td></td><td></td><td></td><td>Ordinal ROC curve showing discrimination across ordinal categories</td></tr><tr><td><code>results$cumulativeROCPlot</code></td><td></td><td></td><td></td><td></td><td>Separate ROC curves for each cumulative dichotomization</td></tr><tr><td><code>results$categoryDistPlot</code></td><td></td><td></td><td></td><td></td><td>Distribution of predictor values stratified by ordinal outcome category</td></tr><tr><td><code>results$cumulativeProbPlot</code></td><td></td><td></td><td></td><td></td><td>Cumulative probabilities as a function of predictor value</td></tr><tr><td><code>results$interpretation</code></td><td></td><td></td><td></td><td></td><td>a html</td></tr></table><p>Tables can be converted to data frames with <code>asDF</code> or <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></code>. For example:</p>
<p><code>results$overallSummary$asDF</code></p>
<p><code>as.data.frame(results$overallSummary)</code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">ordinalroc</span><span class="op">(</span></span></span>
<span class="r-in"><span>    data <span class="op">=</span> <span class="va">grading_data</span>,</span></span>
<span class="r-in"><span>    predictor <span class="op">=</span> <span class="st">"biomarker_score"</span>,</span></span>
<span class="r-in"><span>    ordinal_outcome <span class="op">=</span> <span class="st">"tumor_grade"</span>,</span></span>
<span class="r-in"><span>    outcome_order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"well"</span>, <span class="st">"moderate"</span>, <span class="st">"poor"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'grading_data' not found</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.serdarbalci.com/" class="external-link">Serdar Balci</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

