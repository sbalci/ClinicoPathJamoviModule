<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Causal Inference &amp; Treatment Effects Analysis — treatmenteffects • ClinicoPath</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Causal Inference &amp; Treatment Effects Analysis — treatmenteffects"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ClinicoPath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.32.01</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../dev/index.html"><span class="fa fa-cogs"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/api_analysis-definition.html">Analysis Definition</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/api_module-definition.html">Module Definition</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/api_results-definition.html">Results Definition</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/api_results-elements.html">Results Elements</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/api_table.html">Table</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/api_ui-definition.html">User-interface Definition</a></li>
    <li><a class="dropdown-item" href="../articles/developer_guide.html">jamovi Module Development Guide</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/index.html">Home</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/info_project-structure.html">project structure</a></li>
    <li><a class="dropdown-item" href="../articles/module-development-jamovi.html">ClinicoPath Module Development Guide</a></li>
    <li><a class="dropdown-item" href="../articles/pathology-jamovi.html">Using jamovi for the Common Statistical Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0101-getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0102-creating-a-module.html">Creating a Module</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0103-creating-an-analysis.html">Creating an Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0104-implementing-an-analysis.html">Implementing an Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0105-creating-rich-results.html">Creating Rich Results</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0105-debugging-an-analysis.html">Debugging an Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0106-adding-plots.html">Adding Plots</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0107-distributing-modules.html">Distributing Modules</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0108-additional-notes.html">Additional Notes</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0201-data-binding.html">Tables</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0201-dynamic-tables.html">Dynamic Tables</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0202-handling-data.html">Handling Data</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/tuts0203-state.html">State</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-advanced-customisation.html">Advanced customisation of the options UI</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-advanced-design.html">Advanced UI Design</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-basecontrol.html">BaseControl</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-basic-design.html">UI Design</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-checkbox.html">CheckBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-collapsebox.html">CollapseBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-combobox.html">ComboBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-custom-format.html">Custom Formats</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-label.html">Label</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-layoutbox.html">LayoutBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-listbox.html">ListBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-optioncontrol.html">OptionControl</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-parentcontrol.html">ParentControl</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-radiobutton.html">RadioButton</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-standard-formats.html">Standard UI Formats</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-supplier.html">Supplier</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-targetlayoutbox.html">TargetLayoutBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-termlabel.html">TermLabel</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-textbox.html">TextBox</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-variablelabel.html">VariableLabel</a></li>
    <li><a class="dropdown-item" href="../articles/dev.jamovi.org-master/ui-variablesupplier.html">VariableSupplier</a></li>
    <li><a class="dropdown-item" href="../articles/users-of-ClinicoPath.html">Users of ClinicoPath</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/serdarbalci"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Causal Inference &amp; Treatment Effects Analysis</h1>
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/R/treatmenteffects.h.R" class="external-link"><code>R/treatmenteffects.h.R</code></a></small>
      <div class="d-none name"><code>treatmenteffects.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">treatmenteffects</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">treatment_var</span>,</span>
<span>  <span class="va">outcome_var</span>,</span>
<span>  <span class="va">covariates</span>,</span>
<span>  <span class="va">patient_id</span>,</span>
<span>  <span class="va">time_var</span>,</span>
<span>  <span class="va">event_var</span>,</span>
<span>  <span class="va">cluster_var</span>,</span>
<span>  causal_method <span class="op">=</span> <span class="st">"propensity_score"</span>,</span>
<span>  outcome_type <span class="op">=</span> <span class="st">"continuous"</span>,</span>
<span>  estimand <span class="op">=</span> <span class="st">"ate"</span>,</span>
<span>  ps_method <span class="op">=</span> <span class="st">"logistic"</span>,</span>
<span>  ps_specification <span class="op">=</span> <span class="st">"main_effects"</span>,</span>
<span>  balance_threshold <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  matching_method <span class="op">=</span> <span class="st">"nearest_neighbor"</span>,</span>
<span>  matching_ratio <span class="op">=</span> <span class="st">"1to1"</span>,</span>
<span>  caliper_width <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  replacement_matching <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  weight_trimming <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  trim_quantiles <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  stabilized_weights <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  weight_normalization <span class="op">=</span> <span class="st">"sum_to_n"</span>,</span>
<span>  outcome_model <span class="op">=</span> <span class="st">"linear"</span>,</span>
<span>  include_ps_in_outcome <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  balance_assessment <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  balance_methods <span class="op">=</span> <span class="st">"standardized_differences"</span>,</span>
<span>  overlap_assessment <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sensitivity_analysis <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sensitivity_method <span class="op">=</span> <span class="st">"rosenbaum_bounds"</span>,</span>
<span>  gamma_values <span class="op">=</span> <span class="st">"1.1,1.2,1.3,1.5,2.0"</span>,</span>
<span>  heterogeneous_effects <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">effect_modifiers</span>,</span>
<span>  causal_tree <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  causal_forest <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">instrument_var</span>,</span>
<span>  iv_method <span class="op">=</span> <span class="st">"two_stage_least_squares"</span>,</span>
<span>  model_diagnostics <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  bootstrap_inference <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_bootstrap <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  cross_validation <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  comprehensive_report <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  individual_effects <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_weights <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_matched_data <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  regulatory_documentation <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>the data as a data frame</p></dd>


<dt id="arg-treatment-var">treatment_var<a class="anchor" aria-label="anchor" href="#arg-treatment-var"></a></dt>
<dd><p>Binary treatment variable (treated vs. control)</p></dd>


<dt id="arg-outcome-var">outcome_var<a class="anchor" aria-label="anchor" href="#arg-outcome-var"></a></dt>
<dd><p>Primary outcome variable of interest</p></dd>


<dt id="arg-covariates">covariates<a class="anchor" aria-label="anchor" href="#arg-covariates"></a></dt>
<dd><p>Confounding variables to adjust for in causal analysis</p></dd>


<dt id="arg-patient-id">patient_id<a class="anchor" aria-label="anchor" href="#arg-patient-id"></a></dt>
<dd><p>Patient identifier for tracking matched pairs</p></dd>


<dt id="arg-time-var">time_var<a class="anchor" aria-label="anchor" href="#arg-time-var"></a></dt>
<dd><p>Time to event variable for survival outcomes</p></dd>


<dt id="arg-event-var">event_var<a class="anchor" aria-label="anchor" href="#arg-event-var"></a></dt>
<dd><p>Event indicator for survival outcomes</p></dd>


<dt id="arg-cluster-var">cluster_var<a class="anchor" aria-label="anchor" href="#arg-cluster-var"></a></dt>
<dd><p>Clustering variable (e.g., hospital, physician) for
robust standard errors</p></dd>


<dt id="arg-causal-method">causal_method<a class="anchor" aria-label="anchor" href="#arg-causal-method"></a></dt>
<dd><p>Primary method for causal inference</p></dd>


<dt id="arg-outcome-type">outcome_type<a class="anchor" aria-label="anchor" href="#arg-outcome-type"></a></dt>
<dd><p>Type of outcome variable</p></dd>


<dt id="arg-estimand">estimand<a class="anchor" aria-label="anchor" href="#arg-estimand"></a></dt>
<dd><p>Target causal estimand</p></dd>


<dt id="arg-ps-method">ps_method<a class="anchor" aria-label="anchor" href="#arg-ps-method"></a></dt>
<dd><p>Method for estimating propensity scores</p></dd>


<dt id="arg-ps-specification">ps_specification<a class="anchor" aria-label="anchor" href="#arg-ps-specification"></a></dt>
<dd><p>Complexity of propensity score model</p></dd>


<dt id="arg-balance-threshold">balance_threshold<a class="anchor" aria-label="anchor" href="#arg-balance-threshold"></a></dt>
<dd><p>Maximum standardized mean difference for adequate
balance</p></dd>


<dt id="arg-matching-method">matching_method<a class="anchor" aria-label="anchor" href="#arg-matching-method"></a></dt>
<dd><p>Specific matching algorithm to use</p></dd>


<dt id="arg-matching-ratio">matching_ratio<a class="anchor" aria-label="anchor" href="#arg-matching-ratio"></a></dt>
<dd><p>Ratio of controls to treated units</p></dd>


<dt id="arg-caliper-width">caliper_width<a class="anchor" aria-label="anchor" href="#arg-caliper-width"></a></dt>
<dd><p>Maximum distance for matching (in standard deviations)</p></dd>


<dt id="arg-replacement-matching">replacement_matching<a class="anchor" aria-label="anchor" href="#arg-replacement-matching"></a></dt>
<dd><p>Allow controls to be matched to multiple
treated units</p></dd>


<dt id="arg-weight-trimming">weight_trimming<a class="anchor" aria-label="anchor" href="#arg-weight-trimming"></a></dt>
<dd><p>Trim extreme propensity score weights</p></dd>


<dt id="arg-trim-quantiles">trim_quantiles<a class="anchor" aria-label="anchor" href="#arg-trim-quantiles"></a></dt>
<dd><p>Quantiles for weight trimming (e.g., 0.05 = trim
top/bottom 5\<!-- %)} --></p>
<p>stabilized_weightsUse stabilized inverse probability weights</p>
<p>weight_normalizationMethod for normalizing weights</p>
<p>outcome_modelModel for outcome regression</p>
<p>include_ps_in_outcomeInclude propensity score in outcome model
(doubly robust)</p>
<p>balance_assessmentAssess covariate balance before and after
adjustment</p>
<p>balance_methodsMethods for assessing covariate balance</p>
<p>overlap_assessmentAssess propensity score overlap between treatment
groups</p>
<p>sensitivity_analysisPerform sensitivity analysis for unmeasured
confounding</p>
<p>sensitivity_methodMethod for sensitivity analysis</p>
<p>gamma_valuesGamma values for Rosenbaum bounds (comma-separated)</p>
<p>heterogeneous_effectsAnalyze treatment effect heterogeneity</p>
<p>effect_modifiersVariables for subgroup analysis and effect
modification</p>
<p>causal_treeUse causal trees to identify effect heterogeneity</p>
<p>causal_forestUse causal random forests for individualized treatment
effects</p>
<p>instrument_varInstrumental variable for IV analysis</p>
<p>iv_methodMethod for instrumental variable estimation</p>
<p>model_diagnosticsPerform comprehensive model diagnostics</p>
<p>bootstrap_inferenceUse bootstrap for confidence intervals</p>
<p>n_bootstrapNumber of bootstrap samples</p>
<p>cross_validationUse cross-validation for model selection</p>
<p>comprehensive_reportGenerate comprehensive causal inference report</p>
<p>individual_effectsEstimate individual treatment effects</p>
<p>save_weightsSave propensity scores and weights to dataset</p>
<p>save_matched_dataSave matched dataset for further analysis</p>
<p>regulatory_documentationInclude regulatory compliance documentation</p></dd>

</dl><p>A results object containing:
</p><table class="table table"><tr><td><code>results$overview</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$treatment_effect_estimates</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$balance_assessment</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$propensity_summary</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$matching_summary</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$weight_summary</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$model_diagnostics</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$sensitivity_analysis</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$heterogeneity_analysis</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$individual_effects</code></td><td></td><td></td><td></td><td></td><td>a table</td></tr><tr><td><code>results$overlap_plot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$balance_plot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$effect_plot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$sensitivity_plot</code></td><td></td><td></td><td></td><td></td><td>an image</td></tr><tr><td><code>results$causal_report</code></td><td></td><td></td><td></td><td></td><td>a html</td></tr></table>Tables can be converted to data frames with <code>asDF</code> or <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></code>. For example:<code>results$overview$asDF</code><code>as.data.frame(results$overview)</code>


Comprehensive causal inference analysis for estimating treatment effects in
observational studies.
Implements propensity score methods, inverse probability of treatment
weighting (IPTW),
matching techniques, and doubly robust estimation. Includes covariate
balance assessment,
sensitivity analysis, and causal effect estimation with confidence
intervals. Essential for
comparative effectiveness research, real-world evidence studies, and
observational research
where randomized controlled trials are not feasible.


data('treatment_data')treatmenteffects(
    data = treatment_data,
    treatment_var = "treatment",
    outcome_var = "outcome",
    covariates = c("age", "sex", "baseline_severity"),
    causal_method = "propensity_score",
    estimand = "ate"
)
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.serdarbalci.com/" class="external-link">Serdar Balci</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

