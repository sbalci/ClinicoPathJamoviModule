<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Creating Rich Results • ClinicoPath</title>
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../../deps/headroom-0.11.0/headroom.min.js"></script><script src="../../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../../deps/search-1.0.0/fuse.min.js"></script><script src="../../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Creating Rich Results">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../../index.html">ClinicoPath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.32.01</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../../dev/index.html"><span class="fa fa-cogs"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/api_analysis-definition.html">Analysis Definition</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/api_module-definition.html">Module Definition</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/api_results-definition.html">Results Definition</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/api_results-elements.html">Results Elements</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/api_table.html">Table</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/api_ui-definition.html">User-interface Definition</a></li>
    <li><a class="dropdown-item" href="../../articles/developer_guide.html">jamovi Module Development Guide</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/index.html">Home</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/info_project-structure.html">project structure</a></li>
    <li><a class="dropdown-item" href="../../articles/module-development-jamovi.html">ClinicoPath Module Development Guide</a></li>
    <li><a class="dropdown-item" href="../../articles/pathology-jamovi.html">Using jamovi for the Common Statistical Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0101-getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0102-creating-a-module.html">Creating a Module</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0103-creating-an-analysis.html">Creating an Analysis</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0104-implementing-an-analysis.html">Implementing an Analysis</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0105-creating-rich-results.html">Creating Rich Results</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0105-debugging-an-analysis.html">Debugging an Analysis</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0106-adding-plots.html">Adding Plots</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0107-distributing-modules.html">Distributing Modules</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0108-additional-notes.html">Additional Notes</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0201-data-binding.html">Tables</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0201-dynamic-tables.html">Dynamic Tables</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0202-handling-data.html">Handling Data</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/tuts0203-state.html">State</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-advanced-customisation.html">Advanced customisation of the options UI</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-advanced-design.html">Advanced UI Design</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-basecontrol.html">BaseControl</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-basic-design.html">UI Design</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-checkbox.html">CheckBox</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-collapsebox.html">CollapseBox</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-combobox.html">ComboBox</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-custom-format.html">Custom Formats</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-label.html">Label</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-layoutbox.html">LayoutBox</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-listbox.html">ListBox</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-optioncontrol.html">OptionControl</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-parentcontrol.html">ParentControl</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-radiobutton.html">RadioButton</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-standard-formats.html">Standard UI Formats</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-supplier.html">Supplier</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-targetlayoutbox.html">TargetLayoutBox</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-termlabel.html">TermLabel</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-textbox.html">TextBox</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-variablelabel.html">VariableLabel</a></li>
    <li><a class="dropdown-item" href="../../articles/dev.jamovi.org-master/ui-variablesupplier.html">VariableSupplier</a></li>
    <li><a class="dropdown-item" href="../../articles/users-of-ClinicoPath.html">Users of ClinicoPath</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/serdarbalci"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Creating Rich Results</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/vignettes/dev.jamovi.org-master/tuts0105-creating-rich-results.Rmd" class="external-link"><code>vignettes/dev.jamovi.org-master/tuts0105-creating-rich-results.Rmd</code></a></small>
      <div class="d-none name"><code>tuts0105-creating-rich-results.Rmd</code></div>
    </div>

    
    
<p>In this section, we will add rich results to our analysis; a nice APA
formatted table like this:</p>
<p><img src="tuts0105-creating-rich-results-apa.png" width="337"></p>
<p>Rich results are visually appealing, and make it easier for users of
your module to ‘parse’ and understand the results your module produces.
A lot of people find statistics challenging, so we might as well make
them as accessible and easy to read as possible.</p>
<div class="section level2">
<h2 id="the-results-definition">The Results Definition<a class="anchor" aria-label="anchor" href="#the-results-definition"></a>
</h2>
<p>In order to provide rich results, we need to add some entries into
the results definition. This is the <code>ttest.r.yaml</code> file which
was created earlier in this tutorial series:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at">  ttest</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Independent Samples T-Test</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">jrs</span><span class="kw">:</span><span class="at">   </span><span class="st">'1.1'</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at">  text</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Independent Samples T-Test</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at">  Preformatted</span></span></code></pre></div>
<p>This is pretty similar to the <code>ttest.a.yaml</code> file; there’s
a name, a title, and a jamovi results spec (<code>jrs</code>) (note,
this is different to the <code>jas</code> in the <code>.a.yaml</code>
file). <code>items</code> comes next, and it describes all the items
that make up the results. For example, the results could be made up of
two tables and a plot. Each item in the results is listed here.</p>
<p>At present, the results contains a single <code>Preformatted</code>
results item called <code>text</code> with the title
<code>Independent Samples T-Test</code>. If you think back to the <a href="tuts0104-implementing-an-analysis.html">previous section</a>, we
accessed a results object with the following:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">text</span></span></code></pre></div>
<p>Now you can see where this seemingly arbitrary name <code>text</code>
came from. This is how different results items are accessed.</p>
</div>
<div class="section level2">
<h2 id="adding-a-table">Adding a Table<a class="anchor" aria-label="anchor" href="#adding-a-table"></a>
</h2>
<p>Let’s add a table for our t-test results. For the time being, we’ll
leave the existing ‘Preformatted’ results item and add the table
underneath. This will let us check that the results we populate the
table with are correct.</p>
<p>Modify <code>ttest.r.yaml</code> so it reads:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at">  ttest</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Independent Samples T-Test</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="fu">jrs</span><span class="kw">:</span><span class="at">   </span><span class="st">'1.1'</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at">  text</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Independent Samples T-Test</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at">  Preformatted</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at">  ttest</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Independent Samples T-Test</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="at">      </span><span class="fu">rows</span><span class="kw">:</span><span class="at">  </span><span class="dv">1</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="at">      </span><span class="fu">columns</span><span class="kw">:</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> var</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">''</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> text</span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> t</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> df</span></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> integer</span></span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> p</span></span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a><span class="at">          </span><span class="fu">format</span><span class="kw">:</span><span class="at"> zto,pvalue</span></span></code></pre></div>
<p>With these modifications, we’ve added a new table called
<code>ttest</code> with the title
<code>Independent Samples T-Test</code>. We’ve also specified that it is
to have 1 row, and that it has four columns; <code>var</code>,
<code>t</code>, <code>df</code> and <code>p</code>. Notice that we’ve
specified an empty string for the title of column <code>var</code>. If a
title isn’t specified the column name is used instead.</p>
<p>The <code>type</code> for each column is specified as either
<code>text</code>, <code>number</code> or <code>integer</code>. The type
affects the way the column is formatted. <code>text</code> columns have
their content left aligned, <code>number</code> and <code>integer</code>
columns have their content right aligned. <code>integer</code> columns
are formatted as whole numbers (no decimal places).</p>
<p>The <code>format</code> field is a string of comma separated values.
It provides additional information on how a column should be formatted.
In the case of the p column, it has two formats applied,
<code>zto</code> and <code>pvalue</code>. <code>zto</code> indicates
that a value ranges between zero and one; this causes it to be rendered
to a fixed number of decimal places. In contrast, values without this
format are formatted to a fixed number of significant figures. This
makes the biggest difference with values close to zero; without
<code>zto</code> the value 0.006 would be rendered <code>0.00600</code>
(3 significant figures), where as with <code>zto</code> it would be
rendered <code>0.006</code> (3 decimal places). With values like
correlation co-efficients and other values which range between zero and
one, the latter is generally preferred.</p>
<p>The other format is <code>pvalue</code>, which indicates that values
in this column are <a href="https://en.wikipedia.org/wiki/P-value" class="external-link">p-values</a>. If any of
these values drop below a threshold (.001 by default), they will be
replaced with <code>&lt; .001</code>.</p>
<p>Now that we’ve set up our table, we can see what it looks like by
reinstalling the module:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>If you return to jamovi now, you’ll see that the installed module has
been updated and our earlier analysis has been rerun. The table we added
is now visible in the results. This is pretty handy: whenever you
reinstall a module, it is updated immediately. Your results should now
look as follows:</p>
<p><img src="tuts0105-creating-rich-results-blank-table.png" width="509"></p>
</div>
<div class="section level2">
<h2 id="populating-a-table">Populating a Table<a class="anchor" aria-label="anchor" href="#populating-a-table"></a>
</h2>
<p>Now we’ve created a table, let’s fill it in with the values from the
t-test. For this, we need to extract the actual values from the t-test
object returned by R’s <code>t.test</code> function. Rather awkwardly,
analyses in R don’t return consistent results objects; there’s generally
no predictable way to know how to access the underlying values. Some R
functions return lists, others return S3 objects, others S4. Some
require reading the values with indices (<code>[[x]]</code>), others
require the use of slots (<code>@</code>). It generally requires a bit
of trial and error to figure out how to access the underlying values of
a results object. One useful function for this is the
<code><a href="https://rdrr.io/r/base/mode.html" class="external-link">mode()</a></code> function. For example, we can call mode on a
<code>t.test</code> results object like so:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mode.html" class="external-link">mode</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "list"</span></span></code></pre>
<p>This tells us that the results object from the t.test function is a
list (although somewhat in disguise). We can then use the functions we
normally use on lists, for example:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "statistic"   "parameter"   "p.value"     "conf.int"    "estimate"   </span></span>
<span><span class="co">##  [6] "null.value"  "stderr"      "alternative" "method"      "data.name"</span></span></code></pre>
<p>With a little more tinkering we can figure out that
<code>results$statistic</code> contains the <em>t</em> statistic,
<code>results$parameter</code> contains the degrees of freedom, and
<code>results$p.value</code> contains the p value (that last one
probably didn’t require that much tinkering).</p>
<p>We can assign each of these values to the row in our table with the
<code>setRow()</code> function:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">table</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">ttest</span></span>
<span><span class="va">table</span><span class="op">$</span><span class="fu">setRow</span><span class="op">(</span>rowNo<span class="op">=</span><span class="fl">1</span>, values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    var<span class="op">=</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">dep</span>,</span>
<span>    t<span class="op">=</span><span class="va">results</span><span class="op">$</span><span class="va">statistic</span>,</span>
<span>    df<span class="op">=</span><span class="va">results</span><span class="op">$</span><span class="va">parameter</span>,</span>
<span>    p<span class="op">=</span><span class="va">results</span><span class="op">$</span><span class="va">p.value</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now if we reinstall our module:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Our results in jamovi should look something like this:</p>
<p><img src="tuts0105-creating-rich-results-filled-table.png" width="509"></p>
<p>Now we have everything working, let’s remove the text results:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ttestISClass</span> <span class="op">&lt;-</span> <span class="kw">R6Class</span><span class="op">(</span><span class="st">"ttestISClass"</span>,</span>
<span>    inherit<span class="op">=</span><span class="va">ttestISBase</span>,</span>
<span>    private<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        .run<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>            <span class="va">formula</span> <span class="op">&lt;-</span> <span class="fu">constructFormula</span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">dep</span>, <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">group</span><span class="op">)</span></span>
<span>            <span class="va">formula</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/formula.html" class="external-link">as.formula</a></span><span class="op">(</span><span class="va">formula</span><span class="op">)</span></span>
<span>        </span>
<span>            <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html" class="external-link">t.test</a></span><span class="op">(</span><span class="va">formula</span>, <span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span>        </span>
<span>            <span class="va">table</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">ttest</span></span>
<span>            </span>
<span>            <span class="va">table</span><span class="op">$</span><span class="fu">setRow</span><span class="op">(</span>rowNo<span class="op">=</span><span class="fl">1</span>, values<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>                var<span class="op">=</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">dep</span>,</span>
<span>                t<span class="op">=</span><span class="va">results</span><span class="op">$</span><span class="va">statistic</span>,</span>
<span>                df<span class="op">=</span><span class="va">results</span><span class="op">$</span><span class="va">parameter</span>,</span>
<span>                p<span class="op">=</span><span class="va">results</span><span class="op">$</span><span class="va">p.value</span></span>
<span>            <span class="op">)</span><span class="op">)</span></span>
<span>        <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>then perform a reinstall with <code><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">jmvtools::install()</a></code>. Now
we have a nice, attractive, minimalist t-test.</p>
<p><img src="tuts0105-creating-rich-results-final-table.png" width="287"></p>
<p>Let’s also take a look at running this analysis in an R session. We
can install the package into R with:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># note here we're using devtools, not jmvtools</span></span></code></pre></div>
<p>and run the analysis with:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">SuperAwesome</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ToothGrowth"</span><span class="op">)</span></span>
<span><span class="fu">ttest</span><span class="op">(</span><span class="va">ToothGrowth</span>, dep<span class="op">=</span><span class="st">'len'</span>, group<span class="op">=</span><span class="st">'supp'</span><span class="op">)</span></span></code></pre></div>
<pre><code> Independent Samples T-Test

 Independent Samples T-Test     
 ────────────────────────────── 
          t       df    p       
 ────────────────────────────── 
   len    1.92    55    0.061   
 ────────────────────────────── </code></pre>
<p>As can be seen, a nicely formatted table has been generated in R as
well. Everything is maintained, right down to the number of decimal
places. In this way jamovi can make R packages — even if you have no
intention of publishing as jamovi modules — more attractive, easier to
read, and more consistent too.</p>
<p>Next: <a href="tuts0106-adding-plots.html">Adding Plots</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.serdarbalci.com/" class="external-link">Serdar Balci</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
