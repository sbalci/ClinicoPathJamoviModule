<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>jamovi Module Development Guide • ClinicoPath</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="jamovi Module Development Guide">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ClinicoPath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.32.72</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../dev/index.html"><span class="fa fa-cogs"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-test-data" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-database"></span> Test Data</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-test-data">
<li><a class="dropdown-item" href="../articles/test-data-catalog.html">Test Data Catalog</a></li>
    <li><a class="dropdown-item" href="../articles/test-data-complete-catalog.html">Complete Catalog (945 files)</a></li>
    <li><a class="dropdown-item" href="../articles/function-reference.html">Function Reference</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/serdarbalci"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>jamovi Module Development Guide</h1>
                        <h4 data-toc-skip class="author">Serdar
Balci</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/vignettes/developer_guide.Rmd" class="external-link"><code>vignettes/developer_guide.Rmd</code></a></small>
      <div class="d-none name"><code>developer_guide.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This guide provides a comprehensive overview of how to develop
modules for the jamovi statistical platform. It covers the three core
components of a jamovi analysis: the analysis definition
(<code>.a.yaml</code>), the results definition (<code>.r.yaml</code>),
the user interface definition (<code>.u.yaml</code>), and the R code
(<code>.b.R</code>) that powers the analysis.</p>
</div>
<div class="section level2">
<h2 id="the--a-yaml-file-defining-the-analysis">The <code>.a.yaml</code> File: Defining the Analysis<a class="anchor" aria-label="anchor" href="#the--a-yaml-file-defining-the-analysis"></a>
</h2>
<p>The <code>.a.yaml</code> file is a YAML file that specifies the
analysis definition for a jamovi module. It defines the user interface
(UI) that your analysis will have inside jamovi, including the options,
input fields, and buttons that the user will interact with. It also
specifies the data requirements for the analysis, such as the types of
variables that can be used.</p>
<p>Each analysis in a jamovi module has a corresponding
<code>.a.yaml</code> file. This file is paired with an
<code>.r.yaml</code> file (which defines the results) and a
<code>.u.yaml</code> file (which defines the user interface layout).</p>
<div class="section level3">
<h3 id="core-components-of-an--a-yaml-file">Core Components of an <code>.a.yaml</code> File<a class="anchor" aria-label="anchor" href="#core-components-of-an--a-yaml-file"></a>
</h3>
<p>Let’s start by looking at the top-level keys in a typical
<code>.a.yaml</code> file. We’ll use <code>gtsummary.a.yaml</code> as an
example.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at">  gtsummary</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Publication-Ready Tables with gtsummary</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">menuGroup</span><span class="kw">:</span><span class="at"> ExplorationD</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">menuSubgroup</span><span class="kw">:</span><span class="at"> Enhanced Tables</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">menuSubtitle</span><span class="kw">:</span><span class="at"> Summary Tables</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">'0.0.3'</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="fu">jas</span><span class="kw">:</span><span class="at"> </span><span class="st">'1.2'</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> data</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Data</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="co"># ... more options</span></span></code></pre></div>
<ul>
<li>
<code>name</code>: This is the unique identifier for the analysis.
It should be a single word with no spaces. This name is used to
reference the analysis in other parts of the module.</li>
<li>
<code>title</code>: This is the human-readable title of the analysis
that will appear in the jamovi menus.</li>
<li>
<code>menuGroup</code>: This specifies the main menu group under
which the analysis will appear in jamovi.</li>
<li>
<code>menuSubgroup</code>: This specifies a subgroup within the main
menu group.</li>
<li>
<code>menuSubtitle</code>: An optional subtitle for the analysis in
the menu.</li>
<li>
<code>version</code>: The version of the analysis. It’s good
practice to increment this when you make changes.</li>
<li>
<code>jas</code>: The jamovi analysis specification version.
<code>'1.2'</code> is a common value.</li>
<li>
<code>options</code>: This is the most important part of the
<code>.a.yaml</code> file. It’s a list of all the UI elements (options)
that will be available for the analysis. We’ll dive into this in detail
below.</li>
</ul>
</div>
<div class="section level3">
<h3 id="the-options-section-defining-the-user-interface">The <code>options</code> Section: Defining the User Interface<a class="anchor" aria-label="anchor" href="#the-options-section-defining-the-user-interface"></a>
</h3>
<p>The <code>options</code> section is a list of dictionaries, where
each dictionary defines a single UI element. Let’s break down the common
keys for an option:</p>
<ul>
<li>
<code>name</code>: A unique name for the option within the analysis.
This name will be used to access the option’s value in your R code.</li>
<li>
<code>title</code>: The label that will be displayed next to the UI
element in jamovi.</li>
<li>
<code>type</code>: The type of UI element to create. This is a
crucial key, and we’ll explore the different types below.</li>
<li>
<code>description</code>: A description of the option. This can have
two sub-keys:
<ul>
<li>
<code>main</code>: A general description that appears as a tooltip
in jamovi.</li>
<li>
<code>R</code>: A description of how the option is used in the
corresponding R code.</li>
</ul>
</li>
<li>
<code>default</code>: The default value for the option.</li>
<li>
<code>suggested</code>: A list of suggested variable types for
<code>Variable</code> and <code>Variables</code> options. Common values
are <code>[continuous, ordinal, nominal]</code>.</li>
<li>
<code>permitted</code>: A list of permitted variable types. Common
values are <code>[numeric, factor]</code>.</li>
</ul>
<div class="section level4">
<h4 id="common-option-types">Common Option Types<a class="anchor" aria-label="anchor" href="#common-option-types"></a>
</h4>
<p>Here are some of the most common option types you’ll use in your
<code>.a.yaml</code> files:</p>
<div class="section level5">
<h5 id="data">
<code>Data</code><a class="anchor" aria-label="anchor" href="#data"></a>
</h5>
<p>This option type is used to specify the dataset for the analysis.
There is usually only one <code>Data</code> option per analysis.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> data</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Data</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="variable">
<code>Variable</code><a class="anchor" aria-label="anchor" href="#variable"></a>
</h5>
<p>This option type allows the user to select a single variable from the
dataset.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> byvar</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Grouping Variable (By)</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="at">  </span><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> ordinal</span><span class="kw">,</span><span class="at"> nominal </span><span class="kw">]</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="at">  </span><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> factor </span><span class="kw">]</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">NULL</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="variables">
<code>Variables</code><a class="anchor" aria-label="anchor" href="#variables"></a>
</h5>
<p>This option type allows the user to select multiple variables from
the dataset.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> vars</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Variables for Table</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variables</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="at">  </span><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> continuous</span><span class="kw">,</span><span class="at"> ordinal</span><span class="kw">,</span><span class="at"> nominal </span><span class="kw">]</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="at">  </span><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> numeric</span><span class="kw">,</span><span class="at"> factor </span><span class="kw">]</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="list">
<code>List</code><a class="anchor" aria-label="anchor" href="#list"></a>
</h5>
<p>This option type creates a dropdown list of choices.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> tableType</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Table Type</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Summary Table (tbl_summary)</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> summary</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Cross Table (tbl_cross)</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cross</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Regression Table (tbl_regression)</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> regression</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Survival Table (tbl_survfit)</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> survival</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> summary</span></span></code></pre></div>
<p>Each item in the <code>options</code> list for a <code>List</code>
type has a <code>title</code> (what the user sees) and a
<code>name</code> (the value that gets passed to your R code).</p>
</div>
<div class="section level5">
<h5 id="nmxlist">
<code>NMXList</code><a class="anchor" aria-label="anchor" href="#nmxlist"></a>
</h5>
<p>This is a “non-mutual exclusive list”, which is essentially a list of
checkboxes. The user can select multiple options.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> statistics</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Statistics to Include</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> NMXList</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> mean_sd</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Mean (SD)</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> median_iqr</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Median (IQR)</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> range</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Range (Min, Max)</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> n_percent</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> N (%)</span></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> missing</span></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Missing values</span></span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> mean_sd</span><span class="kw">,</span><span class="at"> median_iqr</span><span class="kw">,</span><span class="at"> n_percent </span><span class="kw">]</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="bool">
<code>Bool</code><a class="anchor" aria-label="anchor" href="#bool"></a>
</h5>
<p>A simple checkbox that returns <code>true</code> or
<code>false</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> addPValue</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Add P-values</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="string">
<code>String</code><a class="anchor" aria-label="anchor" href="#string"></a>
</h5>
<p>A text input field for short strings.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> tableTitle</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Table Title</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> String</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="st">""</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="number">
<code>Number</code><a class="anchor" aria-label="anchor" href="#number"></a>
</h5>
<p>A numeric input field. You can specify <code>min</code> and
<code>max</code> values.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pValueThreshold</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> P-value Threshold for Bolding</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Number</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.05</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="at">  </span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.001</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="at">  </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.1</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="integer">
<code>Integer</code><a class="anchor" aria-label="anchor" href="#integer"></a>
</h5>
<p>Similar to <code>Number</code>, but for integer values.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> digitsOverall</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Digits for Overall Statistics</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Integer</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="at">  </span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="dv">0</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="at">  </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="dv">5</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="level">
<code>Level</code><a class="anchor" aria-label="anchor" href="#level"></a>
</h5>
<p>This option type allows the user to select a specific level from a
<code>Variable</code>. The <code>variable</code> key is used to link
this option to the <code>Variable</code> option it depends on.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeLevel</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Event Level</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (outcome)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="output">
<code>Output</code><a class="anchor" aria-label="anchor" href="#output"></a>
</h5>
<p>This option type is used to create a new column in the dataset.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> calculatedtime</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Add Calculated Time to Data</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Output</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="a-complete-example-advancedbarplot-a-yaml">A Complete Example: <code>advancedbarplot.a.yaml</code><a class="anchor" aria-label="anchor" href="#a-complete-example-advancedbarplot-a-yaml"></a>
</h3>
<p>Let’s look at the <code>advancedbarplot.a.yaml</code> file to see how
these components come together in a real-world example. This file
defines a complex analysis with many options for creating different
types of bar charts.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> advancedbarplot</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Advanced Bar Charts - 5 Ways"</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="fu">menuGroup</span><span class="kw">:</span><span class="at"> JJStatsPlotD</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="fu">menuSubgroup</span><span class="kw">:</span><span class="at"> ClinicoPath Advanced Plots</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="fu">menuSubtitle</span><span class="kw">:</span><span class="at"> </span><span class="st">"Professional Bar Charts with Multiple Approaches"</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">'0.0.3'</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="fu">jas</span><span class="kw">:</span><span class="at"> </span><span class="st">'1.2'</span></span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a><span class="fu">    main</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a>        Advanced bar chart visualization module implementing 5 different approaches</span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a>        for creating professional bar charts. Choose from ggplot2 basics, polished</span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a>        presentations, statistical annotations, interactive plots, and publication-ready</span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a>        designs. Each approach optimized for different use cases in clinical research.</span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a><span class="at">    </span><span class="fu">R</span><span class="kw">:</span></span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a><span class="at">        </span><span class="fu">dontrun</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a><span class="fu">        usage</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a>            # Example usage - 5 different bar chart approaches:</span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a>            # 1. Basic ggplot2 approach</span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a>            # 2. Polished presentation style</span>
<span id="cb13-22"><a href="#cb13-22" tabindex="-1"></a>            # 3. Statistical annotation style</span>
<span id="cb13-23"><a href="#cb13-23" tabindex="-1"></a>            # 4. Interactive plotly style</span>
<span id="cb13-24"><a href="#cb13-24" tabindex="-1"></a>            # 5. Publication-ready style</span>
<span id="cb13-25"><a href="#cb13-25" tabindex="-1"></a></span>
<span id="cb13-26"><a href="#cb13-26" tabindex="-1"></a><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb13-27"><a href="#cb13-27" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> data</span></span>
<span id="cb13-28"><a href="#cb13-28" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Data</span></span>
<span id="cb13-29"><a href="#cb13-29" tabindex="-1"></a><span class="at">      </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb13-30"><a href="#cb13-30" tabindex="-1"></a><span class="at">        </span><span class="fu">R</span><span class="kw">:</span><span class="at"> The data as a data frame.</span></span>
<span id="cb13-31"><a href="#cb13-31" tabindex="-1"></a><span class="at">        </span><span class="fu">jamovi</span><span class="kw">:</span><span class="at"> The dataset for advanced bar chart visualization.</span></span>
<span id="cb13-32"><a href="#cb13-32" tabindex="-1"></a></span>
<span id="cb13-33"><a href="#cb13-33" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> x_var</span></span>
<span id="cb13-34"><a href="#cb13-34" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"X Variable (Categories)"</span></span>
<span id="cb13-35"><a href="#cb13-35" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span></span>
<span id="cb13-36"><a href="#cb13-36" tabindex="-1"></a><span class="at">      </span><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">nominal</span><span class="kw">,</span><span class="at"> ordinal</span><span class="kw">]</span></span>
<span id="cb13-37"><a href="#cb13-37" tabindex="-1"></a><span class="at">      </span><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">factor</span><span class="kw">]</span></span>
<span id="cb13-38"><a href="#cb13-38" tabindex="-1"></a><span class="at">      </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb13-39"><a href="#cb13-39" tabindex="-1"></a><span class="at">        </span><span class="fu">R</span><span class="kw">:</span><span class="at"> Categorical variable for x-axis categories.</span></span>
<span id="cb13-40"><a href="#cb13-40" tabindex="-1"></a><span class="at">        </span><span class="fu">jamovi</span><span class="kw">:</span><span class="at"> Select categorical variable for the x-axis.</span></span>
<span id="cb13-41"><a href="#cb13-41" tabindex="-1"></a></span>
<span id="cb13-42"><a href="#cb13-42" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> y_var</span></span>
<span id="cb13-43"><a href="#cb13-43" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Y Variable (Values)"</span></span>
<span id="cb13-44"><a href="#cb13-44" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span></span>
<span id="cb13-45"><a href="#cb13-45" tabindex="-1"></a><span class="at">      </span><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">continuous</span><span class="kw">]</span></span>
<span id="cb13-46"><a href="#cb13-46" tabindex="-1"></a><span class="at">      </span><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">numeric</span><span class="kw">]</span></span>
<span id="cb13-47"><a href="#cb13-47" tabindex="-1"></a><span class="at">      </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb13-48"><a href="#cb13-48" tabindex="-1"></a><span class="at">        </span><span class="fu">R</span><span class="kw">:</span><span class="at"> Numeric variable for bar heights.</span></span>
<span id="cb13-49"><a href="#cb13-49" tabindex="-1"></a><span class="at">        </span><span class="fu">jamovi</span><span class="kw">:</span><span class="at"> Select numeric variable for bar heights.</span></span>
<span id="cb13-50"><a href="#cb13-50" tabindex="-1"></a></span>
<span id="cb13-51"><a href="#cb13-51" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> chart_approach</span></span>
<span id="cb13-52"><a href="#cb13-52" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Bar Chart Approach"</span></span>
<span id="cb13-53"><a href="#cb13-53" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb13-54"><a href="#cb13-54" tabindex="-1"></a><span class="at">      </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb13-55"><a href="#cb13-55" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"1. Basic ggplot2"</span></span>
<span id="cb13-56"><a href="#cb13-56" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> basic</span></span>
<span id="cb13-57"><a href="#cb13-57" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"2. Polished Presentation"</span></span>
<span id="cb13-58"><a href="#cb13-58" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> polished</span></span>
<span id="cb13-59"><a href="#cb13-59" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"3. Statistical Annotations"</span></span>
<span id="cb13-60"><a href="#cb13-60" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> statistical</span></span>
<span id="cb13-61"><a href="#cb13-61" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"4. Interactive Plotly"</span></span>
<span id="cb13-62"><a href="#cb13-62" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> interactive</span></span>
<span id="cb13-63"><a href="#cb13-63" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"5. Publication Ready"</span></span>
<span id="cb13-64"><a href="#cb13-64" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> publication</span></span>
<span id="cb13-65"><a href="#cb13-65" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"6. BBC News Style"</span></span>
<span id="cb13-66"><a href="#cb13-66" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> bbc_style</span></span>
<span id="cb13-67"><a href="#cb13-67" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"7. GraphPad Prism Style"</span></span>
<span id="cb13-68"><a href="#cb13-68" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> prism_style</span></span>
<span id="cb13-69"><a href="#cb13-69" tabindex="-1"></a><span class="at">      </span><span class="fu">default</span><span class="kw">:</span><span class="at"> polished</span></span>
<span id="cb13-70"><a href="#cb13-70" tabindex="-1"></a><span class="at">      </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb13-71"><a href="#cb13-71" tabindex="-1"></a><span class="at">        </span><span class="fu">R</span><span class="kw">:</span><span class="at"> Choose the bar chart approach and styling.</span></span>
<span id="cb13-72"><a href="#cb13-72" tabindex="-1"></a><span class="at">        </span><span class="fu">jamovi</span><span class="kw">:</span><span class="at"> Select one of 7 professional bar chart approaches including BBC News and GraphPad Prism styles.</span></span>
<span id="cb13-73"><a href="#cb13-73" tabindex="-1"></a></span>
<span id="cb13-74"><a href="#cb13-74" tabindex="-1"></a><span class="co"># ... many more options</span></span></code></pre></div>
<p>This example demonstrates the use of various option types, including
<code>Data</code>, <code>Variable</code>, and <code>List</code>. It also
shows how to provide detailed descriptions for both the jamovi UI and
the R code.</p>
</div>
<div class="section level3">
<h3 id="advanced-concepts">Advanced Concepts<a class="anchor" aria-label="anchor" href="#advanced-concepts"></a>
</h3>
<div class="section level4">
<h4 id="conditional-visibility">Conditional Visibility<a class="anchor" aria-label="anchor" href="#conditional-visibility"></a>
</h4>
<p>You can make options appear or disappear based on the values of other
options. This is not explicitly defined in the <code>.a.yaml</code> file
but is handled in the <code>.u.yaml</code> file, which controls the
layout. However, it’s important to design your <code>.a.yaml</code> file
with this in mind. For example, the <code>stat_method</code> option in
<code>advancedbarplot.a.yaml</code> is likely only visible when
<code>add_statistics</code> is checked.</p>
</div>
<div class="section level4">
<h4 id="dynamic-content">Dynamic Content<a class="anchor" aria-label="anchor" href="#dynamic-content"></a>
</h4>
<p>The content of some options, like the levels in a <code>Level</code>
option, is dynamic and depends on the selected variable. This is handled
automatically by jamovi based on the <code>variable</code> key.</p>
</div>
</div>
<div class="section level3">
<h3 id="best-practices">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices"></a>
</h3>
<ul>
<li>
<strong>Be Descriptive:</strong> Use the <code>title</code> and
<code>description</code> fields to make your analysis easy to understand
for users.</li>
<li>
<strong>Use <code>suggested</code> and
<code>permitted</code>:</strong> These keys help guide the user to
select the correct variable types and prevent errors.</li>
<li>
<strong>Provide Sensible Defaults:</strong> Set default values for
your options so that the analysis can be run with minimal
configuration.</li>
<li>
<strong>Keep it Organized:</strong> Structure your
<code>.a.yaml</code> file logically. Group related options
together.</li>
<li>
<strong>Follow Conventions:</strong> Look at the
<code>.a.yaml</code> files from other jamovi modules (like the ones in
this project) to learn the common conventions.</li>
</ul>
<p>By following these guidelines and using the examples from this
project, you can create powerful and user-friendly analyses for jamovi.
For more in-depth information, you can always refer to the official <a href="https://dev.jamovi.org/api_analysis-definition.html" class="external-link">jamovi
developer documentation</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="the--b-r-file-the-r-code">The <code>.b.R</code> File: The R Code<a class="anchor" aria-label="anchor" href="#the--b-r-file-the-r-code"></a>
</h2>
<p>The <code>.b.R</code> file is the “engine” of your jamovi analysis.
It’s an R script that defines an R6 class responsible for:</p>
<ul>
<li>Initializing the analysis.</li>
<li>Running the analysis whenever the user changes an option.</li>
<li>Handling the data provided by the user.</li>
<li>Performing the statistical calculations.</li>
<li>Populating the results objects (tables, plots, etc.) that you
defined in your <code>.r.yaml</code> file.</li>
</ul>
<div class="section level3">
<h3 id="the-r6-class-structure">The R6 Class Structure<a class="anchor" aria-label="anchor" href="#the-r6-class-structure"></a>
</h3>
<p>Every <code>.b.R</code> file defines an R6 class that inherits from a
base class. The base class is automatically generated by jamovi and is
named after your analysis (e.g., <code>survivalBase</code>).</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">survivalClass</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">'jmvcore'</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span></span>
<span>        <span class="st">"survivalClass"</span>,</span>
<span>        inherit <span class="op">=</span> <span class="va">survivalBase</span>,</span>
<span>        private <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>            <span class="co"># ... analysis logic ...</span></span>
<span>        <span class="op">)</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<ul>
<li>
<code>"survivalClass"</code>: The name of your analysis class.</li>
<li>
<code>inherit = survivalBase</code>: Specifies that this class
inherits from the <code>survivalBase</code> class. This is how your
analysis gets all the jamovi-specific functionality.</li>
<li>
<code>private = list(...)</code>: All of your analysis logic,
including functions and variables, goes inside this <code>private</code>
list.</li>
</ul>
</div>
<div class="section level3">
<h3 id="the-core-functions--init-and--run">The Core Functions: <code>.init()</code> and
<code>.run()</code><a class="anchor" aria-label="anchor" href="#the-core-functions--init-and--run"></a>
</h3>
<p>There are two main functions that you will use to control the
lifecycle of your analysis:</p>
<div class="section level4">
<h4 id="the--init-function">The <code>.init()</code> Function<a class="anchor" aria-label="anchor" href="#the--init-function"></a>
</h4>
<p>The <code>.init()</code> function is called <strong>once</strong>
when the analysis is first loaded. It’s the perfect place for one-time
setup tasks.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.init</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">ph_cox</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">cox_ph</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">ph_cox</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">cox_ph</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>In this example from <code>survival.b.R</code>, the
<code>.init()</code> function sets the initial visibility of a results
object based on the value of an option.</p>
</div>
<div class="section level4">
<h4 id="the--run-function">The <code>.run()</code> Function<a class="anchor" aria-label="anchor" href="#the--run-function"></a>
</h4>
<p>The <code>.run()</code> function is the main workhorse of your
analysis. It’s called <strong>every time the user changes an
option</strong> in the UI. The typical workflow inside
<code>.run()</code> is as follows:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Input Validation:</strong> Check if the user has provided
all the necessary inputs. If not, you can display a message and
<code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> early.</li>
<li>
<strong>Data Preparation:</strong> Access the data using
<code>self$data</code> and prepare it for analysis. This might involve
cleaning the data, transforming variables, or filtering rows.</li>
<li>
<strong>Run the Analysis:</strong> Perform the statistical
calculations using the prepared data and the options selected by the
user.</li>
<li>
<strong>Populate Results:</strong> Populate the results objects
(tables, plots, etc.) with the results of your analysis.</li>
</ol>
</div>
</div>
<div class="section level3">
<h3 id="accessing-ui-options-and-data">Accessing UI Options and Data<a class="anchor" aria-label="anchor" href="#accessing-ui-options-and-data"></a>
</h3>
<div class="section level4">
<h4 id="accessing-options">Accessing Options<a class="anchor" aria-label="anchor" href="#accessing-options"></a>
</h4>
<p>You can access the values of the UI options you defined in your
<code>.a.yaml</code> file using <code>self$options$...</code>. For
example, to get the value of the <code>explanatory</code> variable
selector:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">explanatory_variable</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">explanatory</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="handling-data">Handling Data<a class="anchor" aria-label="anchor" href="#handling-data"></a>
</h4>
<p>The user’s dataset is available to you as a data frame called
<code>self$data</code>. You can work with this data frame using standard
R functions and packages.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get the data</span></span>
<span><span class="va">mydata</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">data</span></span>
<span></span>
<span><span class="co"># Get a specific column</span></span>
<span><span class="va">outcome_column</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">outcome</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="populating-results">Populating Results<a class="anchor" aria-label="anchor" href="#populating-results"></a>
</h3>
<p>You can access the results objects you defined in your
<code>.r.yaml</code> file using <code>self$results$...</code>.</p>
<ul>
<li>
<strong>Tables:</strong>
<code>self$results$tableName$addRow(...)</code>
</li>
<li>
<strong>Plots:</strong>
<code>self$results$plotName$setState(...)</code>
</li>
<li>
<strong>HTML/Preformatted:</strong>
<code>self$results$itemName$setContent(...)</code>
</li>
</ul>
<p>Refer to the previous guides on creating tables and plots for more
details on how to populate them.</p>
</div>
<div class="section level3">
<h3 id="state-management-for-plots">State Management for Plots<a class="anchor" aria-label="anchor" href="#state-management-for-plots"></a>
</h3>
<p>As described in the plots guide, you use
<code>image$setState()</code> to pass data to your plot rendering
functions. This is a key concept for managing the state of your analysis
and separating the data preparation from the rendering logic.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># In .run()</span></span>
<span><span class="va">plotData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"name1time"</span> <span class="op">=</span> <span class="va">name1time</span>,</span>
<span>    <span class="st">"name2outcome"</span> <span class="op">=</span> <span class="va">name2outcome</span>,</span>
<span>    <span class="st">"name3explanatory"</span> <span class="op">=</span> <span class="va">name3explanatory</span>,</span>
<span>    <span class="st">"cleanData"</span> <span class="op">=</span> <span class="va">cleanData</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">image</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span></span>
<span><span class="va">image</span><span class="op">$</span><span class="fu">setState</span><span class="op">(</span><span class="va">plotData</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># In .plot()</span></span>
<span><span class="va">.plot</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">image</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">results</span> <span class="op">&lt;-</span> <span class="va">image</span><span class="op">$</span><span class="va">state</span></span>
<span>    <span class="co"># ... use results to create the plot ...</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="helper-functions">Helper Functions<a class="anchor" aria-label="anchor" href="#helper-functions"></a>
</h3>
<p>For any non-trivial analysis, it’s essential to break down your code
into smaller, manageable helper functions. In <code>survival.b.R</code>,
you can see several helper functions, all defined within the
<code>private</code> list:</p>
<ul>
<li>
<code>.getData()</code>: A function to get and label the data.</li>
<li>
<code>.definemytime()</code>: A function to define the survival time
variable.</li>
<li>
<code>.definemyoutcome()</code>: A function to define the outcome
variable.</li>
<li>
<code>.cleandata()</code>: A function that calls the other helper
functions to prepare the data for analysis.</li>
<li>
<code>.medianSurv()</code>, <code>.cox()</code>,
<code>.survTable()</code>: Functions to perform specific parts of the
analysis.</li>
<li>
<code>.plot()</code>, <code>.plot2()</code>, etc.: Functions to
render the various plots.</li>
</ul>
<p>This modular approach makes your code easier to read, debug, and
maintain.</p>
</div>
<div class="section level3">
<h3 id="a-complete-example-walkthrough-of-survival-b-r">A Complete Example: Walkthrough of <code>survival.b.R</code><a class="anchor" aria-label="anchor" href="#a-complete-example-walkthrough-of-survival-b-r"></a>
</h3>
<p>Let’s walk through a simplified version of the
<code>survival.b.R</code> file to see how all the pieces fit
together.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">survivalClass</span> <span class="op">&lt;-</span> <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span></span>
<span>    <span class="st">"survivalClass"</span>,</span>
<span>    inherit <span class="op">=</span> <span class="va">survivalBase</span>,</span>
<span>    private <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span></span>
<span>        .run <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>            <span class="co"># 1. Input Validation</span></span>
<span>            <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">outcome</span><span class="op">)</span> <span class="op">||</span> <span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">elapsedtime</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>                <span class="co"># Display a "to-do" message and exit</span></span>
<span>                <span class="va">private</span><span class="op">$</span><span class="fu">.todo</span><span class="op">(</span><span class="op">)</span></span>
<span>                <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>            <span class="op">}</span></span>
<span></span>
<span>            <span class="co"># 2. Data Preparation</span></span>
<span>            <span class="va">results</span> <span class="op">&lt;-</span> <span class="va">private</span><span class="op">$</span><span class="fu">.cleandata</span><span class="op">(</span><span class="op">)</span></span>
<span>            <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>                <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>            <span class="op">}</span></span>
<span></span>
<span>            <span class="co"># 3. Run Analysis and Populate Results</span></span>
<span>            <span class="va">private</span><span class="op">$</span><span class="fu">.medianSurv</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span>            <span class="va">private</span><span class="op">$</span><span class="fu">.cox</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span>            <span class="va">private</span><span class="op">$</span><span class="fu">.survTable</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span></span>
<span>            <span class="co"># 4. Set State for Plots</span></span>
<span>            <span class="va">plotData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>                <span class="co"># ... data for plotting ...</span></span>
<span>            <span class="op">)</span></span>
<span>            <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span><span class="op">$</span><span class="fu">setState</span><span class="op">(</span><span class="va">plotData</span><span class="op">)</span></span>
<span>        <span class="op">}</span>,</span>
<span></span>
<span>        .cleandata <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># ... code to clean and prepare the data ...</span></span>
<span>            <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">list_of_clean_data_and_variable_names</span><span class="op">)</span></span>
<span>        <span class="op">}</span>,</span>
<span></span>
<span>        .medianSurv <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">results</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># ... code to calculate median survival ...</span></span>
<span></span>
<span>            <span class="co"># Populate the median survival table</span></span>
<span>            <span class="va">medianTable</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">medianTable</span></span>
<span>            <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">data_frame</span><span class="op">[</span>, <span class="fl">1</span>, drop <span class="op">=</span> <span class="cn">T</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>                <span class="va">medianTable</span><span class="op">$</span><span class="fu">addRow</span><span class="op">(</span>rowKey <span class="op">=</span> <span class="va">i</span>, values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">data_frame</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>            <span class="op">}</span></span>
<span>        <span class="op">}</span>,</span>
<span></span>
<span>        .plot <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">image</span>, <span class="va">ggtheme</span>, <span class="va">theme</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="co"># ... code to generate the plot using image$state ...</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">plot</span><span class="op">)</span></span>
<span>            <span class="cn">TRUE</span></span>
<span>        <span class="op">}</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This example demonstrates the core principles of a <code>.b.R</code>
file: a <code>.run</code> function that orchestrates the analysis,
helper functions to do the heavy lifting, and the use of
<code>self$options</code> and <code>self$results</code> to interact with
the UI and the output.</p>
<p>By following these guidelines and studying the examples in this
project, you can write robust and efficient <code>.b.R</code> files for
your jamovi modules.</p>
</div>
</div>
<div class="section level2">
<h2 id="the--r-yaml-file-defining-the-results">The <code>.r.yaml</code> File: Defining the Results<a class="anchor" aria-label="anchor" href="#the--r-yaml-file-defining-the-results"></a>
</h2>
<p>The <code>.r.yaml</code> file is a YAML file that specifies the
results definition for a jamovi analysis. It defines the output elements
that will be displayed to the user, such as tables, plots, and text.
Each analysis in a jamovi module has an <code>.r.yaml</code> file, which
works in conjunction with the <code>.a.yaml</code> (analysis definition)
and <code>.u.yaml</code> (UI definition) files.</p>
<p>The <code>.r.yaml</code> file acts as a blueprint for the results,
specifying the structure and properties of each output element. The
actual content of these elements is then populated by your R code during
the analysis.</p>
<div class="section level3">
<h3 id="core-components-of-an--r-yaml-file">Core Components of an <code>.r.yaml</code> File<a class="anchor" aria-label="anchor" href="#core-components-of-an--r-yaml-file"></a>
</h3>
<p>Let’s examine the top-level keys in a typical <code>.r.yaml</code>
file, using <code>gtsummary.r.yaml</code> as a starting point:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at">  gtsummary</span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Publication-Ready Tables with gtsummary</span></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="fu">jrs</span><span class="kw">:</span><span class="at">   </span><span class="st">'1.1'</span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at">  todo</span></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Instructions</span></span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at">  Html</span></span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a><span class="at">      </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a><span class="co"># ... more items</span></span></code></pre></div>
<ul>
<li>
<code>name</code>: This should match the <code>name</code> in the
corresponding <code>.a.yaml</code> file. It uniquely identifies the
analysis.</li>
<li>
<code>title</code>: The title of the results. This can be a static
string or can be dynamically generated using variables from the analysis
options (e.g., <code>`Survival Analysis - ${explanatory}`</code>).</li>
<li>
<code>jrs</code>: The jamovi results specification version.
<code>'1.1'</code> is a common value.</li>
<li>
<code>items</code>: This is the core of the <code>.r.yaml</code>
file. It’s a list of all the result elements that will be part of the
output.</li>
</ul>
</div>
<div class="section level3">
<h3 id="the-items-section-defining-result-elements">The <code>items</code> Section: Defining Result Elements<a class="anchor" aria-label="anchor" href="#the-items-section-defining-result-elements"></a>
</h3>
<p>The <code>items</code> section is a list of dictionaries, where each
dictionary defines a single result element. Here are the common keys for
an item:</p>
<ul>
<li>
<code>name</code>: A unique name for the result item. This name is
used in your R code to access and populate the item.</li>
<li>
<code>title</code>: The title of the result item as it will appear
in the jamovi output.</li>
<li>
<code>type</code>: The type of result element. This determines how
the item will be rendered. We’ll explore the different types below.</li>
<li>
<code>visible</code>: A condition that determines whether the item
is visible in the output. This is often tied to an option from the
<code>.a.yaml</code> file (e.g., <code>(addPValue)</code>).</li>
<li>
<code>clearWith</code>: A list of option names from the
<code>.a.yaml</code> file. If any of these options change, the content
of the result item will be cleared. This is important for ensuring that
the results are always up-to-date with the current analysis
settings.</li>
<li>
<code>refs</code>: A list of references to be cited for this
result.</li>
</ul>
<div class="section level4">
<h4 id="common-result-element-types">Common Result Element Types<a class="anchor" aria-label="anchor" href="#common-result-element-types"></a>
</h4>
<p>Here are some of the most common result element types you’ll use:</p>
<div class="section level5">
<h5 id="html">
<code>Html</code><a class="anchor" aria-label="anchor" href="#html"></a>
</h5>
<p>This type is used to render HTML content. It’s very flexible and can
be used for instructions, notes, or complex, custom-formatted
output.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at">  todo</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Instructions</span></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at">  Html</span></span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a><span class="at">  </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="preformatted">
<code>Preformatted</code><a class="anchor" aria-label="anchor" href="#preformatted"></a>
</h5>
<p>This type is used to display preformatted text, such as the output
from a statistical test or a block of R code. The text will be rendered
in a monospace font, preserving whitespace.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at">  code_output</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> R Code</span></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at">  Preformatted</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a><span class="at">  </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> </span><span class="st">"(showCode)"</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="table">
<code>Table</code><a class="anchor" aria-label="anchor" href="#table"></a>
</h5>
<p>This is one of the most important result types. It’s used to display
tabular data.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at">  medianTable</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Median Survival Table: Levels for ${explanatory}`'</span></span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at">  Table</span></span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a><span class="at">  </span><span class="fu">rows</span><span class="kw">:</span><span class="at"> </span><span class="dv">0</span></span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a><span class="at">  </span><span class="fu">columns</span><span class="kw">:</span></span>
<span id="cb23-6"><a href="#cb23-6" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> factor</span></span>
<span id="cb23-7"><a href="#cb23-7" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Levels"</span></span>
<span id="cb23-8"><a href="#cb23-8" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> text</span></span>
<span id="cb23-9"><a href="#cb23-9" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> records</span></span>
<span id="cb23-10"><a href="#cb23-10" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Records"</span></span>
<span id="cb23-11"><a href="#cb23-11" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> integer</span></span>
<span id="cb23-12"><a href="#cb23-12" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> events</span></span>
<span id="cb23-13"><a href="#cb23-13" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Events"</span></span>
<span id="cb23-14"><a href="#cb23-14" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> integer</span></span>
<span id="cb23-15"><a href="#cb23-15" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> median</span></span>
<span id="cb23-16"><a href="#cb23-16" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Median"</span></span>
<span id="cb23-17"><a href="#cb23-17" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb23-18"><a href="#cb23-18" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> x0_95lcl</span></span>
<span id="cb23-19"><a href="#cb23-19" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Lower"</span></span>
<span id="cb23-20"><a href="#cb23-20" tabindex="-1"></a><span class="at">      </span><span class="fu">superTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'95% Confidence Interval'</span></span>
<span id="cb23-21"><a href="#cb23-21" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb23-22"><a href="#cb23-22" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> x0_95ucl</span></span>
<span id="cb23-23"><a href="#cb23-23" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Upper"</span></span>
<span id="cb23-24"><a href="#cb23-24" tabindex="-1"></a><span class="at">      </span><span class="fu">superTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'95% Confidence Interval'</span></span>
<span id="cb23-25"><a href="#cb23-25" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span></code></pre></div>
<ul>
<li>
<code>rows</code>: The number of rows in the table. <code>0</code>
means the number of rows is determined by the data.</li>
<li>
<code>columns</code>: A list of dictionaries, where each dictionary
defines a column in the table.
<ul>
<li>
<code>name</code>: The name of the column.</li>
<li>
<code>title</code>: The column header.</li>
<li>
<code>type</code>: The data type of the column (<code>text</code>,
<code>integer</code>, <code>number</code>).</li>
<li>
<code>format</code>: A string specifying the format for numeric
values (e.g., <code>pc</code> for percentage, <code>zto</code> for
zero-to-one, <code>pvalue</code>).</li>
<li>
<code>superTitle</code>: A title that spans across multiple
columns.</li>
</ul>
</li>
</ul>
</div>
<div class="section level5">
<h5 id="image">
<code>Image</code><a class="anchor" aria-label="anchor" href="#image"></a>
</h5>
<p>This type is used to display plots and other images.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> plot</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Survival Plot - ${explanatory}`'</span></span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Image</span></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="at">  </span><span class="fu">width</span><span class="kw">:</span><span class="at">  </span><span class="dv">600</span></span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a><span class="at">  </span><span class="fu">height</span><span class="kw">:</span><span class="at"> </span><span class="dv">450</span></span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a><span class="at">  </span><span class="fu">renderFun</span><span class="kw">:</span><span class="at"> .plot</span></span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a><span class="at">  </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (sc)</span></span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a><span class="at">  </span><span class="fu">requiresData</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
<ul>
<li>
<code>width</code> and <code>height</code>: The dimensions of the
plot in pixels.</li>
<li>
<code>renderFun</code>: The name of the R function that will
generate the plot. This function is defined in your analysis’s R
code.</li>
<li>
<code>requiresData</code>: Whether the plot requires data to be
rendered.</li>
</ul>
</div>
<div class="section level5">
<h5 id="output-1">
<code>Output</code><a class="anchor" aria-label="anchor" href="#output-1"></a>
</h5>
<p>This type is used to create a new variable in the dataset.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> calculatedtime</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Add Calculated Time to Data</span></span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Output</span></span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a><span class="at">  </span><span class="fu">varTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Calculated Time - from ${ dxdate } to { fudate }`'</span></span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a><span class="at">  </span><span class="fu">varDescription</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Calculated Time from Given Dates - from ${ dxdate } to { fudate } in Survival Analysis`'</span></span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a><span class="at">  </span><span class="fu">measureType</span><span class="kw">:</span><span class="at"> continuous</span></span></code></pre></div>
<ul>
<li>
<code>varTitle</code>: The title of the new variable.</li>
<li>
<code>varDescription</code>: A description of the new variable.</li>
<li>
<code>measureType</code>: The measure type of the new variable
(<code>continuous</code>, <code>nominal</code>,
<code>ordinal</code>).</li>
</ul>
</div>
</div>
</div>
<div class="section level3">
<h3 id="a-complete-example-survival-r-yaml">A Complete Example: <code>survival.r.yaml</code><a class="anchor" aria-label="anchor" href="#a-complete-example-survival-r-yaml"></a>
</h3>
<p>The <code>survival.r.yaml</code> file provides an excellent example
of a complex results definition with multiple tables, plots, and other
elements.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at">  survival</span></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Survival Analysis</span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a><span class="fu">jrs</span><span class="kw">:</span><span class="at">   </span><span class="st">'1.1'</span></span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> subtitle</span></span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Survival Analysis - ${explanatory}`'</span></span>
<span id="cb26-9"><a href="#cb26-9" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at">  Preformatted</span></span>
<span id="cb26-10"><a href="#cb26-10" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at">  medianTable</span></span>
<span id="cb26-12"><a href="#cb26-12" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Median Survival Table: Levels for ${explanatory}`'</span></span>
<span id="cb26-13"><a href="#cb26-13" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at">  Table</span></span>
<span id="cb26-14"><a href="#cb26-14" tabindex="-1"></a><span class="co">      # ... (column definitions)</span></span>
<span id="cb26-15"><a href="#cb26-15" tabindex="-1"></a></span>
<span id="cb26-16"><a href="#cb26-16" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> plot</span></span>
<span id="cb26-17"><a href="#cb26-17" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Survival Plot - ${explanatory}`'</span></span>
<span id="cb26-18"><a href="#cb26-18" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Image</span></span>
<span id="cb26-19"><a href="#cb26-19" tabindex="-1"></a><span class="at">      </span><span class="fu">width</span><span class="kw">:</span><span class="at">  </span><span class="dv">600</span></span>
<span id="cb26-20"><a href="#cb26-20" tabindex="-1"></a><span class="at">      </span><span class="fu">height</span><span class="kw">:</span><span class="at"> </span><span class="dv">450</span></span>
<span id="cb26-21"><a href="#cb26-21" tabindex="-1"></a><span class="at">      </span><span class="fu">renderFun</span><span class="kw">:</span><span class="at"> .plot</span></span>
<span id="cb26-22"><a href="#cb26-22" tabindex="-1"></a><span class="at">      </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (sc)</span></span>
<span id="cb26-23"><a href="#cb26-23" tabindex="-1"></a><span class="at">      </span><span class="fu">requiresData</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb26-24"><a href="#cb26-24" tabindex="-1"></a></span>
<span id="cb26-25"><a href="#cb26-25" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> calculatedtime</span></span>
<span id="cb26-26"><a href="#cb26-26" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Add Calculated Time to Data</span></span>
<span id="cb26-27"><a href="#cb26-27" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Output</span></span>
<span id="cb26-28"><a href="#cb26-28" tabindex="-1"></a><span class="co">      # ... (output variable definitions)</span></span></code></pre></div>
<p>This example showcases several key features:</p>
<ul>
<li>
<strong>Dynamic Titles:</strong> The titles of the results items are
dynamically generated using the <code>${explanatory}</code> variable
from the analysis options.</li>
<li>
<strong>Conditional Visibility:</strong> The visibility of the plot
is controlled by the <code>sc</code> option.</li>
<li>
<strong>Multiple Result Types:</strong> The analysis produces a
variety of outputs, including preformatted text, tables, plots, and new
data variables.</li>
</ul>
</div>
<div class="section level3">
<h3 id="best-practices-1">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices-1"></a>
</h3>
<ul>
<li>
<strong>Clear and Descriptive Names:</strong> Use clear and
descriptive names for your result items. This will make your R code
easier to read and maintain.</li>
<li>
<strong>Use <code>clearWith</code>:</strong> Always use the
<code>clearWith</code> property to ensure that your results are updated
when the user changes the analysis options.</li>
<li>
<strong>Organize Your Results:</strong> Use <code>Group</code>
elements (not shown in the examples, but available) to organize your
results into logical sections.</li>
<li>
<strong>Provide Informative Titles:</strong> Use dynamic titles to
provide context for your results.</li>
<li>
<strong>Refer to the Documentation:</strong> The official <a href="https://dev.jamovi.org/api_results-definition.html" class="external-link">jamovi results
definition documentation</a> and <a href="https://dev.jamovi.org/api_results-elements.html" class="external-link">results elements
documentation</a> are invaluable resources.</li>
</ul>
<p>By following these guidelines and studying the examples in this
project, you can create well-structured and informative results for your
jamovi analyses.</p>
</div>
</div>
<div class="section level2">
<h2 id="the--u-yaml-file-defining-the-user-interface">The <code>.u.yaml</code> File: Defining the User Interface<a class="anchor" aria-label="anchor" href="#the--u-yaml-file-defining-the-user-interface"></a>
</h2>
<p>The <code>.u.yaml</code> file is a YAML file that specifies the user
interface definition for a jamovi analysis. It arranges the UI elements
defined in the <code>.a.yaml</code> file into a structured and
user-friendly layout. While the <code>.a.yaml</code> file defines
<em>what</em> UI elements exist, the <code>.u.yaml</code> file defines
<em>where</em> and <em>how</em> they are displayed.</p>
<div class="section level3">
<h3 id="core-components-of-a--u-yaml-file">Core Components of a <code>.u.yaml</code> File<a class="anchor" aria-label="anchor" href="#core-components-of-a--u-yaml-file"></a>
</h3>
<p>A <code>.u.yaml</code> file is essentially a tree of UI components.
The root of the tree is a list of top-level UI elements. Let’s look at
the basic structure of <code>survival.u.yaml</code>:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Survival Analysis</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> survival</span></span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a><span class="fu">jus</span><span class="kw">:</span><span class="at"> </span><span class="st">'3.0'</span></span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a><span class="fu">stage</span><span class="kw">:</span><span class="at"> </span><span class="dv">0</span></span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a><span class="fu">compilerMode</span><span class="kw">:</span><span class="at"> tame</span></span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariableSupplier</span></span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a><span class="co">    # ...</span></span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span></span>
<span id="cb27-10"><a href="#cb27-10" tabindex="-1"></a><span class="co">    # ...</span></span></code></pre></div>
<ul>
<li>
<code>title</code>: The title of the analysis UI.</li>
<li>
<code>name</code>: The name of the analysis, which must match the
name in the <code>.a.yaml</code> and <code>.r.yaml</code> files.</li>
<li>
<code>jus</code>: The jamovi UI specification version.
<code>'3.0'</code> is a common value.</li>
<li>
<code>stage</code>: The developmental stage of the analysis (e.g.,
<code>0</code> for development).</li>
<li>
<code>compilerMode</code>: Can be <code>tame</code> or
<code>aggressive</code>. <code>tame</code> is generally
recommended.</li>
<li>
<code>children</code>: A list of the top-level UI components that
make up the analysis UI.</li>
</ul>
</div>
<div class="section level3">
<h3 id="common-ui-components">Common UI Components<a class="anchor" aria-label="anchor" href="#common-ui-components"></a>
</h3>
<p>The <code>children</code> list contains a variety of UI components
that you can use to build your interface. Here are some of the most
common ones:</p>
<div class="section level4">
<h4 id="variablesupplier">
<code>VariableSupplier</code><a class="anchor" aria-label="anchor" href="#variablesupplier"></a>
</h4>
<p>This is a container for the variable selection lists. It typically
appears at the top of the UI.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariableSupplier</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="at">  </span><span class="fu">persistentItems</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="at">  </span><span class="fu">stretchFactor</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TargetLayoutBox</span></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a><span class="at">      </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Time Elapsed</span></span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a><span class="at">      </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> elapsedtime</span></span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a><span class="at">          </span><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb28-11"><a href="#cb28-11" tabindex="-1"></a><span class="at">          </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
<ul>
<li>
<code>TargetLayoutBox</code>: A box that contains a
<code>VariablesListBox</code> and a label.</li>
<li>
<code>VariablesListBox</code>: The list of variables that the user
can drag and drop into. The <code>name</code> here must match the name
of a <code>Variable</code> or <code>Variables</code> option in your
<code>.a.yaml</code> file.</li>
</ul>
</div>
<div class="section level4">
<h4 id="collapsebox">
<code>CollapseBox</code><a class="anchor" aria-label="anchor" href="#collapsebox"></a>
</h4>
<p>A collapsible box that can be used to group related options. This is
essential for keeping complex UIs organized.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span></span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a><span class="at">  </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Advanced Elapsed Time Options</span></span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a><span class="at">  </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a><span class="co">    # ... other UI components</span></span></code></pre></div>
<ul>
<li>
<code>label</code>: The text that appears on the header of the
<code>CollapseBox</code>.</li>
<li>
<code>collapsed</code>: Whether the box is collapsed by
default.</li>
</ul>
</div>
<div class="section level4">
<h4 id="layoutbox">
<code>LayoutBox</code><a class="anchor" aria-label="anchor" href="#layoutbox"></a>
</h4>
<p>A flexible container for arranging other UI elements. It can be used
to create vertical or horizontal layouts.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LayoutBox</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="at">  </span><span class="fu">margin</span><span class="kw">:</span><span class="at"> large</span></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> chart_approach</span></span></code></pre></div>
<ul>
<li>
<code>margin</code>: The amount of space around the
<code>LayoutBox</code>.</li>
</ul>
</div>
<div class="section level4">
<h4 id="referencing--a-yaml-options">Referencing <code>.a.yaml</code> Options<a class="anchor" aria-label="anchor" href="#referencing--a-yaml-options"></a>
</h4>
<p>Most of the UI components in a <code>.u.yaml</code> file are simply
references to the options you defined in your <code>.a.yaml</code> file.
You reference an option by its <code>name</code>. The <code>type</code>
of the component in the <code>.u.yaml</code> file should correspond to
the <code>type</code> of the option in the <code>.a.yaml</code>
file.</p>
<p>Here are some common examples:</p>
<ul>
<li>
<code>ComboBox</code> for <code>List</code> options.</li>
<li>
<code>CheckBox</code> for <code>Bool</code> options.</li>
<li>
<code>TextBox</code> for <code>String</code>, <code>Number</code>,
and <code>Integer</code> options.</li>
<li>
<code>VariablesListBox</code> for <code>Variable</code> and
<code>Variables</code> options.</li>
<li>
<code>LevelSelector</code> for <code>Level</code> options.</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="layout-and-arrangement">Layout and Arrangement<a class="anchor" aria-label="anchor" href="#layout-and-arrangement"></a>
</h3>
<p>You can create sophisticated layouts by nesting
<code>LayoutBox</code> components. While not explicitly shown in these
examples, you can use <code>VerticalStack</code> and
<code>HorizontalStack</code> within a <code>LayoutBox</code> to arrange
elements. However, the default behavior of a <code>LayoutBox</code> is
to stack its children vertically.</p>
</div>
<div class="section level3">
<h3 id="conditional-visibility-1">Conditional Visibility<a class="anchor" aria-label="anchor" href="#conditional-visibility-1"></a>
</h3>
<p>One of the most powerful features of the <code>.u.yaml</code> file is
the ability to create a dynamic UI where options appear and disappear
based on the user’s selections. This is achieved using the
<code>enable</code> property.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> stat_method</span></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> add_statistics</span></span></code></pre></div>
<p>In this example, the <code>stat_method</code> <code>ComboBox</code>
will only be enabled (i.e., clickable) if the
<code>add_statistics</code> <code>CheckBox</code> is checked. The
<code>enable</code> property takes a condition that is evaluated in
real-time.</p>
<p>You can also use more complex conditions:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LevelSelector</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeLevel</span></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (outcome &amp;&amp; !multievent)</span></span></code></pre></div>
<p>Here, the <code>outcomeLevel</code> <code>LevelSelector</code> is
only enabled if the <code>outcome</code> variable is selected
<em>and</em> the <code>multievent</code> checkbox is <em>not</em>
checked.</p>
</div>
<div class="section level3">
<h3 id="a-complete-example-advancedbarplot-u-yaml">A Complete Example: <code>advancedbarplot.u.yaml</code><a class="anchor" aria-label="anchor" href="#a-complete-example-advancedbarplot-u-yaml"></a>
</h3>
<p>The <code>advancedbarplot.u.yaml</code> file provides a great example
of a well-structured and dynamic UI.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Advanced Bar Charts - 5 Ways</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> advancedbarplot</span></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a><span class="fu">jus</span><span class="kw">:</span><span class="at"> </span><span class="st">'3.0'</span></span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="fu">stage</span><span class="kw">:</span><span class="at"> </span><span class="dv">0</span></span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a><span class="fu">compilerMode</span><span class="kw">:</span><span class="at"> tame</span></span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariableSupplier</span></span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a><span class="co">    # ...</span></span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Label</span></span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Chart Approach &amp; Style</span></span>
<span id="cb33-11"><a href="#cb33-11" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LayoutBox</span></span>
<span id="cb33-12"><a href="#cb33-12" tabindex="-1"></a><span class="at">    </span><span class="fu">margin</span><span class="kw">:</span><span class="at"> large</span></span>
<span id="cb33-13"><a href="#cb33-13" tabindex="-1"></a><span class="at">    </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb33-14"><a href="#cb33-14" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb33-15"><a href="#cb33-15" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> chart_approach</span></span>
<span id="cb33-16"><a href="#cb33-16" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span></span>
<span id="cb33-17"><a href="#cb33-17" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Data &amp; Statistics</span></span>
<span id="cb33-18"><a href="#cb33-18" tabindex="-1"></a><span class="at">    </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb33-19"><a href="#cb33-19" tabindex="-1"></a><span class="at">    </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb33-20"><a href="#cb33-20" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LayoutBox</span></span>
<span id="cb33-21"><a href="#cb33-21" tabindex="-1"></a><span class="at">        </span><span class="fu">margin</span><span class="kw">:</span><span class="at"> normal</span></span>
<span id="cb33-22"><a href="#cb33-22" tabindex="-1"></a><span class="at">        </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb33-23"><a href="#cb33-23" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb33-24"><a href="#cb33-24" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> stat_method</span></span>
<span id="cb33-25"><a href="#cb33-25" tabindex="-1"></a><span class="at">            </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> add_statistics</span></span>
<span id="cb33-26"><a href="#cb33-26" tabindex="-1"></a><span class="co">      # ...</span></span></code></pre></div>
<p>This example demonstrates:</p>
<ul>
<li>
<strong>Clear Organization:</strong> The UI is organized into
logical sections using <code>CollapseBox</code> elements.</li>
<li>
<strong>Dynamic UI:</strong> The <code>stat_method</code>
<code>ComboBox</code> is conditionally enabled based on the
<code>add_statistics</code> <code>CheckBox</code>.</li>
<li>
<strong>Variety of Components:</strong> The UI uses a variety of
components, including <code>VariableSupplier</code>, <code>Label</code>,
<code>LayoutBox</code>, <code>ComboBox</code>, and
<code>CollapseBox</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="best-practices-2">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices-2"></a>
</h3>
<ul>
<li>
<strong>Organize with <code>CollapseBox</code>:</strong> For any
analysis with more than a few options, use <code>CollapseBox</code> to
group related settings. This makes the UI much less overwhelming for the
user.</li>
<li>
<strong>Use <code>enable</code> for Dynamic UIs:</strong> Use the
<code>enable</code> property to create a responsive and intuitive UI
that only shows the user the options that are relevant to their current
selections.</li>
<li>
<strong>Keep it Clean:</strong> Use <code>LayoutBox</code> and
margins to create a visually appealing and easy-to-read layout.</li>
<li>
<strong>Refer to the Documentation:</strong> The official jamovi
documentation on <a href="https://dev.jamovi.org/api_ui-definition.html" class="external-link">UI definition</a>,
<a href="https://dev.jamovi.org/ui-basic-design.html" class="external-link">basic design</a>,
<a href="https://dev.jamovi.org/ui-advanced-design.html" class="external-link">advanced
design</a>, and <a href="https://dev.jamovi.org/ui-advanced-customisation.html" class="external-link">advanced
customization</a> are essential resources.</li>
</ul>
<p>By following these guidelines and learning from the examples in this
project, you can design effective and user-friendly interfaces for your
jamovi analyses.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.serdarbalci.com/" class="external-link">Serdar Balci</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
