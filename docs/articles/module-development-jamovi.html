<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Comprehensive Guide to jamovi Module Development ‚Ä¢ ClinicoPath</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Comprehensive Guide to jamovi Module Development">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ClinicoPath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3.63</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../dev/index.html"><span class="fa fa-cogs"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/clinical-workflow.html">Clinical Research Workflow with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/module-development-jamovi.html">Comprehensive Guide to jamovi Module Development</a></li>
    <li><a class="dropdown-item" href="../articles/pathology-jamovi.html">Using jamovi for the Common Statistical Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/pkgnet-report.html">ClinicoPath Package Report, by pkgnet</a></li>
    <li><a class="dropdown-item" href="../articles/users-of-ClinicoPath.html">Users of ClinicoPath</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/serdarbalci"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Comprehensive Guide to jamovi Module Development</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/vignettes/module-development-jamovi.Rmd" class="external-link"><code>vignettes/module-development-jamovi.Rmd</code></a></small>
      <div class="d-none name"><code>module-development-jamovi.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="a-beginners-guide-to-jamovi-modules-or-jamovi-modules-for-dummies">‚ÄòA beginners guide to jamovi modules‚Äô or ‚Äòjamovi modules for
dummies‚Äô<a class="anchor" aria-label="anchor" href="#a-beginners-guide-to-jamovi-modules-or-jamovi-modules-for-dummies"></a>
</h2>
<p>Official documentation is here: <a href="https://dev.jamovi.org/" class="external-link uri">https://dev.jamovi.org/</a></p>
<div class="section level3">
<h3 id="tldr">TL;DR<a class="anchor" aria-label="anchor" href="#tldr"></a>
</h3>
<ul>
<li>Details are here: <a href="https://dev.jamovi.org/" class="external-link uri">https://dev.jamovi.org/</a>
</li>
</ul>
<p>Briefly:</p>
<ul>
<li><p>Use <code>R &gt;= 4.0.5</code></p></li>
<li><p>Install jamovi from this link: <a href="https://www.jamovi.org/download.html" class="external-link uri">https://www.jamovi.org/download.html</a> Get the latest one
2.3.2</p></li>
<li><p>Install jmvtools package with:</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'node'</span>, repos<span class="op">=</span><span class="st">'https://repo.jamovi.org'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'jmvtools'</span>, repos<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'https://repo.jamovi.org'</span>, <span class="st">'https://cran.r-project.org'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<ul>
<li><p>locate jamovi bin folder via this:
<code>jmvtools::check("C://Program Files//jamovi//bin")</code> I
recommend changing folder name from default <code>jamovi 1.2</code> to
<code>jamovi</code></p></li>
<li><p><code>C:\Program Files\jamovi 2.3.0.0\bin\jamovi.exe</code></p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/check.html" class="external-link">check</a></span><span class="op">(</span>home <span class="op">=</span> <span class="st">'C:\\Program Files\\jamovi 2.3.0.0\\bin'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>jamovi_home <span class="op">=</span> <span class="st">'C:\\Program Files\\jamovi 2.3.0.0\\bin'</span><span class="op">)</span></span></code></pre></div>
<ul>
<li><p>Fork and Clone this repo: <a href="https://github.com/sbalci/ClinicoPath" class="external-link uri">https://github.com/sbalci/ClinicoPath</a></p></li>
<li><p>inside this repo folder in R
<code><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">jmvtools::install()</a></code></p></li>
<li><p>it will produce a file named ClinicoPath.jmo and install this
module to jamovi</p></li>
<li><p>The repo is like an R package except <code>jamovi</code>
folder.</p></li>
<li><p>You need to edit <code>R/crosstable.b.R</code></p></li>
<li><p>Just edit the <code>tangram::</code> code <a href="https://dev.jamovi.org/tuts0104-implementing-an-analysis.html" class="external-link uri">https://dev.jamovi.org/tuts0104-implementing-an-analysis.html</a>
<a href="https://dev.jamovi.org/tuts0105-debugging-an-analysis.html" class="external-link uri">https://dev.jamovi.org/tuts0105-debugging-an-analysis.html</a></p></li>
<li><p>In DESCRIPTION file change <code>spgarbet/tangram@0.3.2</code> to
the version you want to test.</p></li>
<li><p>run <code><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">jmvtools::install()</a></code> again.</p></li>
</ul>
<p>Let me know how it goes :)</p>
<hr>
</div>
<div class="section level3">
<h3 id="advanced-development-patterns-best-practices">üèóÔ∏è Advanced Development Patterns &amp; Best Practices<a class="anchor" aria-label="anchor" href="#advanced-development-patterns-best-practices"></a>
</h3>
<div class="section level4">
<h4 id="enhanced-module-distribution-system">Enhanced Module Distribution System<a class="anchor" aria-label="anchor" href="#enhanced-module-distribution-system"></a>
</h4>
<p>This project uses a sophisticated module distribution system with the
following features:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Use the enhanced update system</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>Rscript _updateModules_enhanced.R</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># Configuration-driven development</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co"># Edit updateModules_config.yaml for module settings</span></span></code></pre></div>
<p><strong>Key Features</strong>: - ‚úÖ <strong>Automated
testing</strong> and validation - ‚úÖ <strong>Backup and
rollback</strong> capabilities<br>
- ‚úÖ <strong>Multi-module distribution</strong> to specialized repos -
‚úÖ <strong>Configuration management</strong> via YAML - ‚úÖ
<strong>Security validation</strong> and integrity checks</p>
</div>
<div class="section level4">
<h4 id="modern-development-workflow">Modern Development Workflow<a class="anchor" aria-label="anchor" href="#modern-development-workflow"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Enhanced build process for production-ready modules</span></span>
<span><span class="va">development_cycle</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    </span>
<span>    <span class="co"># 1. Create/modify analysis</span></span>
<span>    <span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/addAnalysis.html" class="external-link">addAnalysis</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">'myanalysis'</span>, title<span class="op">=</span><span class="st">'My Analysis'</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># 2. Edit implementation files</span></span>
<span>    <span class="co"># R/myanalysis.b.R - Add your analysis logic</span></span>
<span>    <span class="co"># jamovi/*.yaml - Configure UI and results</span></span>
<span>    </span>
<span>    <span class="co"># 3. Enhanced build process</span></span>
<span>    <span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">prepare</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span> </span>
<span>    <span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">prepare</a></span><span class="op">(</span><span class="op">)</span>    <span class="co"># Critical: run twice for complex modules</span></span>
<span>    <span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># 4. Test and validate</span></span>
<span>    <span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">test</a></span><span class="op">(</span><span class="op">)</span>       <span class="co"># Run unit tests</span></span>
<span>    <span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span>    <span class="co"># Install to jamovi</span></span>
<span>    </span>
<span>    <span class="co"># 5. Distribution (for multi-module projects)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/system.html" class="external-link">system</a></span><span class="op">(</span><span class="st">"Rscript _updateModules_enhanced.R"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="developer-tips-production-patterns">üí° Developer Tips &amp; Production Patterns<a class="anchor" aria-label="anchor" href="#developer-tips-production-patterns"></a>
</h3>
<div class="section level4">
<h4 id="error-handling-user-experience">1. <strong>Error Handling &amp; User Experience</strong><a class="anchor" aria-label="anchor" href="#error-handling-user-experience"></a>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.run</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Always validate inputs first</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">dependent</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">instructions</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span></span>
<span>            <span class="st">"Please select a dependent variable to continue."</span></span>
<span>        <span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>    <span class="co"># Graceful error handling</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="op">{</span></span>
<span>        <span class="co"># Your analysis code here</span></span>
<span>    <span class="op">}</span>, error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">instructions</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Analysis failed:"</span>, <span class="va">e</span><span class="op">$</span><span class="va">message</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="performance-optimization-with-checkpoints">2. <strong>Performance Optimization with Checkpoints</strong><a class="anchor" aria-label="anchor" href="#performance-optimization-with-checkpoints"></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.run</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Use checkpoints for long operations</span></span>
<span>    <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">large_dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="co"># Check for user interruption every 100 iterations</span></span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="va">i</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">100</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="va">private</span><span class="op">$</span><span class="fu">.checkpoint</span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>        </span>
<span>        <span class="co"># Process data...</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="dynamic-ui-patterns">3. <strong>Dynamic UI Patterns</strong><a class="anchor" aria-label="anchor" href="#dynamic-ui-patterns"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.init</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Dynamic variable selection based on data types</span></span>
<span>    <span class="va">continuous_vars</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html" class="external-link">select_if</a></span><span class="op">(</span><span class="va">is.numeric</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Update UI options programmatically</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">instructions</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Available continuous variables:"</span>, </span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">continuous_vars</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="advanced-configuration-management">4. <strong>Advanced Configuration Management</strong><a class="anchor" aria-label="anchor" href="#advanced-configuration-management"></a>
</h4>
<p>The project uses <code>updateModules_config.yaml</code> for
sophisticated module management:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Example configuration</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="fu">modules</span><span class="kw">:</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="at">  </span><span class="fu">mymodule</span><span class="kw">:</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="at">    </span><span class="fu">enabled</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="at">    </span><span class="fu">directory</span><span class="kw">:</span><span class="at"> </span><span class="st">"/path/to/submodule"</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="at">    </span><span class="fu">menuGroup_pattern</span><span class="kw">:</span><span class="at"> </span><span class="st">"menuGroup: MyModule$"</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="at">    </span><span class="fu">data_files</span><span class="kw">:</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"example_data.rda"</span></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"test_data.csv"</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="at">    </span><span class="fu">vignette_files</span><span class="kw">:</span></span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"introduction.Rmd"</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"advanced_usage.Rmd"</span></span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a><span class="at">    </span><span class="fu">test_files</span><span class="kw">:</span></span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"test-mymodule.R"</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="debugging-techniques">5. <strong>Debugging Techniques</strong><a class="anchor" aria-label="anchor" href="#debugging-techniques"></a>
</h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 1. Use browser() for interactive debugging</span></span>
<span><span class="va">.run</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/browser.html" class="external-link">browser</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># Pauses execution for inspection</span></span>
<span>    <span class="co"># Your code here</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># 2. Log intermediate results</span></span>
<span><span class="va">.run</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Starting analysis with "</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span>, <span class="st">" observations"</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Analysis steps with logging</span></span>
<span>    <span class="va">result1</span> <span class="op">&lt;-</span> <span class="fu">step1</span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Step 1 completed, result has "</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">result1</span><span class="op">)</span>, <span class="st">" rows"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># 3. Use conditional debugging</span></span>
<span><span class="va">.run</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">debug_mode</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="co"># Detailed debugging information</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="common-pitfalls-solutions">üö® Common Pitfalls &amp; Solutions<a class="anchor" aria-label="anchor" href="#common-pitfalls-solutions"></a>
</h3>
<div class="section level4">
<h4 id="module-not-loading">1. <strong>Module Not Loading</strong><a class="anchor" aria-label="anchor" href="#module-not-loading"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Always clean and rebuild</span></span>
<span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">prepare</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://pkgbuild.r-lib.org/reference/clean_dll.html" class="external-link">clean_dll</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="ui-not-updating">2. <strong>UI Not Updating</strong><a class="anchor" aria-label="anchor" href="#ui-not-updating"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Clear jamovi cache</span></span>
<span><span class="co"># Close jamovi completely</span></span>
<span><span class="co"># Reinstall module</span></span>
<span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="data-type-issues">3. <strong>Data Type Issues</strong><a class="anchor" aria-label="anchor" href="#data-type-issues"></a>
</h4>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Explicit type conversion</span></span>
<span><span class="va">numeric_var</span> <span class="op">&lt;-</span> <span class="fu">jmvcore</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvcore/man/toNumeric.html" class="external-link">toNumeric</a></span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="va">var_name</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">factor_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="va">var_name</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="memory-management-for-large-datasets">4. <strong>Memory Management for Large Datasets</strong><a class="anchor" aria-label="anchor" href="#memory-management-for-large-datasets"></a>
</h4>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.run</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Process data in chunks</span></span>
<span>    <span class="va">chunk_size</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span>    <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>, <span class="va">chunk_size</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">chunk</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="va">i</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">i</span> <span class="op">+</span> <span class="va">chunk_size</span> <span class="op">-</span> <span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span>, <span class="op">]</span></span>
<span>        <span class="va">results</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">process_chunk</span><span class="op">(</span><span class="va">chunk</span><span class="op">)</span></span>
<span>        </span>
<span>        <span class="co"># Clean up memory</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        </span>
<span>        <span class="co"># Checkpoint for user interruption</span></span>
<span>        <span class="va">private</span><span class="op">$</span><span class="fu">.checkpoint</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="production-deployment-workflow">üéØ Production Deployment Workflow<a class="anchor" aria-label="anchor" href="#production-deployment-workflow"></a>
</h3>
<div class="section level4">
<h4 id="quality-assurance-checklist">Quality Assurance Checklist<a class="anchor" aria-label="anchor" href="#quality-assurance-checklist"></a>
</h4>
<ul class="task-list">
<li><label><input type="checkbox">All tests pass
(<code><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">devtools::test()</a></code>)</label></li>
<li><label><input type="checkbox">Documentation is complete and
accurate</label></li>
<li><label><input type="checkbox">Examples work with provided
datasets</label></li>
<li><label><input type="checkbox">Error messages are
user-friendly</label></li>
<li><label><input type="checkbox">Performance is acceptable for
typical datasets</label></li>
<li><label><input type="checkbox">UI is intuitive and follows jamovi
conventions</label></li>
<li><label><input type="checkbox">Module builds without
warnings</label></li>
<li><label><input type="checkbox">Memory usage is
reasonable</label></li>
</ul>
</div>
<div class="section level4">
<h4 id="module-distribution-commands">Module Distribution Commands<a class="anchor" aria-label="anchor" href="#module-distribution-commands"></a>
</h4>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 1. Prepare for distribution</span></span>
<span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">prepare</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">test</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Update module configurations</span></span>
<span><span class="co"># Edit updateModules_config.yaml</span></span>
<span></span>
<span><span class="co"># 3. Distribute to submodules</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.html" class="external-link">system</a></span><span class="op">(</span><span class="st">"Rscript _updateModules_enhanced.R"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4. Commit changes</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.html" class="external-link">system</a></span><span class="op">(</span><span class="st">"git add ."</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.html" class="external-link">system</a></span><span class="op">(</span><span class="st">"git commit -m 'Update modules for release'"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.html" class="external-link">system</a></span><span class="op">(</span><span class="st">"git push"</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="documentation-best-practices">üìö Documentation Best Practices<a class="anchor" aria-label="anchor" href="#documentation-best-practices"></a>
</h3>
<div class="section level4">
<h4 id="when-adding-new-data-and-vignettes">When Adding New Data and Vignettes<a class="anchor" aria-label="anchor" href="#when-adding-new-data-and-vignettes"></a>
</h4>
<p><strong>Important</strong>: When generating new example data and
vignettes, always add them to the appropriate place in
<code>updateModules_config.yaml</code>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">modules</span><span class="kw">:</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="at">  </span><span class="fu">mymodule</span><span class="kw">:</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="at">    </span><span class="fu">data_files</span><span class="kw">:</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"new_example_data.rda"</span><span class="co">    # Add here</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="at">    </span><span class="fu">vignette_files</span><span class="kw">:</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"new_comprehensive_guide.qmd"</span><span class="co">  # Add here</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="at">    </span><span class="fu">test_files</span><span class="kw">:</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">"test-new-function.R"</span><span class="co">    # Add here</span></span></code></pre></div>
<p>This ensures your new files are distributed to submodules during the
build process.</p>
</div>
<div class="section level4">
<h4 id="comprehensive-documentation-pattern">Comprehensive Documentation Pattern<a class="anchor" aria-label="anchor" href="#comprehensive-documentation-pattern"></a>
</h4>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Advanced Statistical Analysis</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @description</span></span>
<span><span class="co">#' Performs comprehensive statistical analysis with modern methods</span></span>
<span><span class="co">#' and publication-ready output.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @details</span></span>
<span><span class="co">#' This function implements state-of-the-art statistical methods with</span></span>
<span><span class="co">#' proper error handling and user-friendly output.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' \dontrun{</span></span>
<span><span class="co">#' # Basic usage</span></span>
<span><span class="co">#' result &lt;- advanced_analysis(</span></span>
<span><span class="co">#'     data = mtcars,</span></span>
<span><span class="co">#'     dependent = "mpg",</span></span>
<span><span class="co">#'     covariates = c("hp", "wt")</span></span>
<span><span class="co">#' )</span></span>
<span><span class="co">#' }</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">advanced_analysis</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">dependent</span>, <span class="va">covariates</span>, <span class="va">method</span> <span class="op">=</span> <span class="st">"standard"</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Implementation here</span></span>
<span><span class="op">}</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="b-r-function-architecture-deep-dive">üèõÔ∏è .b.R Function Architecture Deep Dive<a class="anchor" aria-label="anchor" href="#b-r-function-architecture-deep-dive"></a>
</h3>
<div class="section level4">
<h4 id="understanding-the-jamovi-r6-class-structure">Understanding the jamovi R6 Class Structure<a class="anchor" aria-label="anchor" href="#understanding-the-jamovi-r6-class-structure"></a>
</h4>
<p>Every jamovi analysis is implemented as an R6 class in a
<code>.b.R</code> file that inherits from an auto-generated base class.
Here‚Äôs the complete anatomy:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Standard jamovi analysis structure</span></span>
<span><span class="va">myanalysisClass</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">'jmvcore'</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span></span>
<span>        <span class="st">"myanalysisClass"</span>,</span>
<span>        inherit <span class="op">=</span> <span class="va">myanalysisBase</span>,  <span class="co"># Auto-generated from .yaml files</span></span>
<span>        private <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>            .init <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="op">}</span>,        <span class="co"># Initialize UI and state</span></span>
<span>            .run <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="op">}</span>,         <span class="co"># Main analysis logic</span></span>
<span>            .plot <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">image</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span> <span class="op">}</span>, <span class="co"># Plot generation</span></span>
<span>            .getData <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="op">}</span>,     <span class="co"># Data preprocessing (optional)</span></span>
<span>            .labelData <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="op">}</span>    <span class="co"># Label management (optional)</span></span>
<span>        <span class="op">)</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="core-function-patterns-lifecycle">Core Function Patterns &amp; Lifecycle<a class="anchor" aria-label="anchor" href="#core-function-patterns-lifecycle"></a>
</h4>
<div class="section level5">
<h5 id="init---initialization-ui-setup">1. <strong><code>.init()</code> - Initialization &amp; UI
Setup</strong><a class="anchor" aria-label="anchor" href="#init---initialization-ui-setup"></a>
</h5>
<p>This function runs when the analysis is first created or options
change:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.init</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Dynamic UI sizing based on data</span></span>
<span>    <span class="va">deplen</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">dep</span><span class="op">)</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span><span class="op">$</span><span class="fu">setSize</span><span class="op">(</span><span class="fl">650</span>, <span class="va">deplen</span> <span class="op">*</span> <span class="fl">450</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Conditional visibility of results elements</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">advanced_options</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">advanced_table</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">advanced_table</span><span class="op">$</span><span class="fu">setVisible</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>    <span class="co"># Data-driven UI updates</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">grvar</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">mydata</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">data</span></span>
<span>        <span class="va">grvar</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">grvar</span></span>
<span>        <span class="va">num_levels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nlevels.html" class="external-link">nlevels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">[[</span><span class="va">grvar</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot2</span><span class="op">$</span><span class="fu">setSize</span><span class="op">(</span><span class="va">num_levels</span> <span class="op">*</span> <span class="fl">650</span>, <span class="va">deplen</span> <span class="op">*</span> <span class="fl">450</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><strong>Key Patterns:</strong> - üéØ <strong>Dynamic sizing</strong>:
Adjust plot dimensions based on data - üîÑ <strong>Conditional
visibility</strong>: Show/hide UI elements based on options - üìä
<strong>Data-responsive UI</strong>: Adapt interface to data
characteristics</p>
</div>
<div class="section level5">
<h5 id="run---main-analysis-logic">2. <strong><code>.run()</code> - Main Analysis Logic</strong><a class="anchor" aria-label="anchor" href="#run---main-analysis-logic"></a>
</h5>
<p>The heart of every jamovi analysis with sophisticated error
handling:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.run</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># 1. Input Validation</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">dep</span><span class="op">)</span> <span class="op">||</span> <span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="co"># User guidance with rich HTML</span></span>
<span>        <span class="va">todo</span> <span class="op">&lt;-</span> <span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"</span></span>
<span><span class="st">            &lt;br&gt;Welcome to ClinicoPath</span></span>
<span><span class="st">            &lt;br&gt;&lt;br&gt;</span></span>
<span><span class="st">            This tool will help you generate [Analysis Name].</span></span>
<span><span class="st">            &lt;br&gt;&lt;br&gt;</span></span>
<span><span class="st">            Please select:</span></span>
<span><span class="st">            &lt;ul&gt;</span></span>
<span><span class="st">            &lt;li&gt;Dependent variable&lt;/li&gt;</span></span>
<span><span class="st">            &lt;li&gt;Grouping variable&lt;/li&gt;</span></span>
<span><span class="st">            &lt;/ul&gt;</span></span>
<span><span class="st">            &lt;br&gt;See documentation: &lt;a href='...' target='_blank'&gt;link&lt;/a&gt;</span></span>
<span><span class="st">            &lt;br&gt;&lt;hr&gt;</span></span>
<span><span class="st">        "</span><span class="op">)</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">todo</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">todo</span><span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>    <span class="co"># 2. Data Validation</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">'Data contains no (complete) rows'</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>    <span class="co"># 3. Progress Updates for Long Operations</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">todo</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="st">"Processing analysis..."</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># 4. Main Analysis with Checkpoints</span></span>
<span>    <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">large_operation</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="va">i</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">100</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="va">private</span><span class="op">$</span><span class="fu">.checkpoint</span><span class="op">(</span><span class="op">)</span>  <span class="co"># Allow user interruption</span></span>
<span>        <span class="op">}</span></span>
<span>        <span class="co"># Analysis steps...</span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>    <span class="co"># 5. Results Population</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">main_table</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">analysis_results</span><span class="op">)</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span><span class="op">$</span><span class="fu">setState</span><span class="op">(</span><span class="va">plot_data</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><strong>Key Patterns:</strong> - ‚úÖ <strong>Progressive
validation</strong>: Check inputs, then data, then proceed - üìù
<strong>Rich user guidance</strong>: HTML instructions with links and
formatting - ‚è±Ô∏è <strong>Checkpoint integration</strong>: Allow user
interruption for long operations - üîÑ <strong>State management</strong>:
Proper data flow to plots and tables</p>
</div>
<div class="section level5">
<h5 id="plot---advanced-plot-generation">3. <strong><code>.plot()</code> - Advanced Plot
Generation</strong><a class="anchor" aria-label="anchor" href="#plot---advanced-plot-generation"></a>
</h5>
<p>Sophisticated plot generation with state management:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.plot</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">image</span>, <span class="va">ggtheme</span>, <span class="va">theme</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># 1. Validation</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">dep</span><span class="op">)</span> <span class="op">||</span> <span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>    <span class="co"># 2. Retrieve plot data from state</span></span>
<span>    <span class="va">plotData</span> <span class="op">&lt;-</span> <span class="va">image</span><span class="op">$</span><span class="va">state</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">plotData</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>    <span class="co"># 3. Theme handling</span></span>
<span>    <span class="va">ggtheme</span> <span class="op">&lt;-</span> <span class="va">private</span><span class="op">$</span><span class="fu">.ggtheme</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="va">theme_options</span> <span class="op">&lt;-</span> <span class="va">private</span><span class="op">$</span><span class="fu">.themeOptions</span><span class="op">(</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># 4. Plot generation with error handling</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="op">{</span></span>
<span>        <span class="va">p</span> <span class="op">&lt;-</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">plotData</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>            <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>            <span class="va">ggtheme</span> <span class="op">+</span></span>
<span>            <span class="va">theme_options</span> <span class="op">+</span></span>
<span>            <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>                title <span class="op">=</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">title</span>,</span>
<span>                subtitle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"n ="</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">plotData</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                caption <span class="op">=</span> <span class="st">"Generated by ClinicoPath"</span></span>
<span>            <span class="op">)</span></span>
<span>        </span>
<span>        <span class="co"># 5. Print and return</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span>        <span class="cn">TRUE</span></span>
<span>        </span>
<span>    <span class="op">}</span>, error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Plot generation failed: "</span>, <span class="va">e</span><span class="op">$</span><span class="va">message</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="getdata---data-preprocessing-pipeline">4. <strong><code>.getData()</code> - Data Preprocessing
Pipeline</strong><a class="anchor" aria-label="anchor" href="#getdata---data-preprocessing-pipeline"></a>
</h5>
<p>Sophisticated data preprocessing with label management:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.getData</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># 1. Get raw data</span></span>
<span>    <span class="va">mydata</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">data</span></span>
<span>    <span class="va">mydata</span><span class="op">$</span><span class="va">row_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># 2. Preserve original labels</span></span>
<span>    <span class="va">original_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span>
<span>    <span class="va">labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="va">original_names</span>, <span class="va">original_names</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># 3. Clean variable names</span></span>
<span>    <span class="va">mydata</span> <span class="op">&lt;-</span> <span class="va">mydata</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/clean_names.html" class="external-link">clean_names</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># 4. Restore labels after cleaning</span></span>
<span>    <span class="va">corrected_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="va">original_names</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">mydata</span> <span class="op">&lt;-</span> <span class="fu">labelled</span><span class="fu">::</span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">set_variable_labels</a></span><span class="op">(</span></span>
<span>        .data <span class="op">=</span> <span class="va">mydata</span>,</span>
<span>        .labels <span class="op">=</span> <span class="va">corrected_labels</span></span>
<span>    <span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># 5. Extract specific variables by label</span></span>
<span>    <span class="va">all_labels</span> <span class="op">&lt;-</span> <span class="fu">labelled</span><span class="fu">::</span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">var_label</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">mytime</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">all_labels</span><span class="op">)</span><span class="op">[</span><span class="va">all_labels</span> <span class="op">==</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">elapsedtime</span><span class="op">]</span></span>
<span>    <span class="va">myoutcome</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">all_labels</span><span class="op">)</span><span class="op">[</span><span class="va">all_labels</span> <span class="op">==</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">outcome</span><span class="op">]</span></span>
<span>    </span>
<span>    <span class="co"># 6. Return structured data</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        <span class="st">"mydata_labelled"</span> <span class="op">=</span> <span class="va">mydata</span>,</span>
<span>        <span class="st">"mytime_labelled"</span> <span class="op">=</span> <span class="va">mytime</span>,</span>
<span>        <span class="st">"myoutcome_labelled"</span> <span class="op">=</span> <span class="va">myoutcome</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="advanced-patterns-best-practices">Advanced Patterns &amp; Best Practices<a class="anchor" aria-label="anchor" href="#advanced-patterns-best-practices"></a>
</h4>
<div class="section level5">
<h5 id="label-management-system">1. <strong>Label Management System</strong><a class="anchor" aria-label="anchor" href="#label-management-system"></a>
</h5>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.labelData</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">mydata</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">data</span></span>
<span>    <span class="va">original_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Save original names as labels</span></span>
<span>    <span class="va">labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="va">original_names</span>, <span class="va">original_names</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Clean variable names</span></span>
<span>    <span class="va">mydata</span> <span class="op">&lt;-</span> <span class="va">mydata</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/clean_names.html" class="external-link">clean_names</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Apply original labels to cleaned names</span></span>
<span>    <span class="va">cleaned_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span>
<span>    <span class="va">corrected_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="va">original_names</span>, <span class="va">cleaned_names</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">mydata</span> <span class="op">&lt;-</span> <span class="fu">labelled</span><span class="fu">::</span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">set_variable_labels</a></span><span class="op">(</span></span>
<span>        .data <span class="op">=</span> <span class="va">mydata</span>,</span>
<span>        .labels <span class="op">=</span> <span class="va">corrected_labels</span></span>
<span>    <span class="op">)</span></span>
<span>    </span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">mydata</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="conditional-namespace-loading">2. <strong>Conditional Namespace Loading</strong><a class="anchor" aria-label="anchor" href="#conditional-namespace-loading"></a>
</h5>
<p>All jamovi classes use conditional namespace loading for safety:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">myanalysisClass</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">'jmvcore'</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span></span>
<span>        <span class="co"># Class definition</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<p>This prevents errors if core jamovi packages aren‚Äôt available.</p>
</div>
<div class="section level5">
<h5 id="error-handling-patterns">3. <strong>Error Handling Patterns</strong><a class="anchor" aria-label="anchor" href="#error-handling-patterns"></a>
</h5>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pattern 1: Early return for missing inputs</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">required_var</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">instructions</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="st">"Please select required variable"</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Pattern 2: Graceful error handling with user feedback</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">analysis_result</span> <span class="op">&lt;-</span> <span class="fu">complex_analysis</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="op">}</span>, error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">instructions</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Analysis failed:"</span>, <span class="va">e</span><span class="op">$</span><span class="va">message</span>, </span>
<span>              <span class="st">"Please check your data and try again."</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pattern 3: Data validation with specific messages</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">clean_data</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">10</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">instructions</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span></span>
<span>        <span class="st">"Insufficient data. Need at least 10 complete observations."</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="state-management-for-plots">4. <strong>State Management for Plots</strong><a class="anchor" aria-label="anchor" href="#state-management-for-plots"></a>
</h5>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># In .run() - prepare and transfer data to plot</span></span>
<span><span class="va">plotData</span> <span class="op">&lt;-</span> <span class="fu">prepare_plot_data</span><span class="op">(</span><span class="va">analysis_results</span><span class="op">)</span></span>
<span><span class="va">image</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">plot</span></span>
<span><span class="va">image</span><span class="op">$</span><span class="fu">setState</span><span class="op">(</span><span class="va">plotData</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># In .plot() - retrieve and use the data</span></span>
<span><span class="va">plotData</span> <span class="op">&lt;-</span> <span class="va">image</span><span class="op">$</span><span class="va">state</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">plotData</span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate plot using the transferred data</span></span>
<span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu">create_publication_plot</span><span class="op">(</span><span class="va">plotData</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">plot</span><span class="op">)</span></span>
<span><span class="cn">TRUE</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="documentation-integration">5. <strong>Documentation Integration</strong><a class="anchor" aria-label="anchor" href="#documentation-integration"></a>
</h5>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' @title Advanced Statistical Analysis</span></span>
<span><span class="co">#' @description Comprehensive analysis with modern methods</span></span>
<span><span class="co">#' @param data Data frame containing variables</span></span>
<span><span class="co">#' @param dependent Character. Name of dependent variable  </span></span>
<span><span class="co">#' @param covariates Character vector. Covariate names</span></span>
<span><span class="co">#' @details This function implements state-of-the-art methods...</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' \dontrun{</span></span>
<span><span class="co">#' result &lt;- myanalysis(data = mtcars, dependent = "mpg")</span></span>
<span><span class="co">#' }</span></span>
<span><span class="co">#' @importFrom R6 R6Class</span></span>
<span><span class="co">#' @import jmvcore</span></span>
<span><span class="co">#' @importFrom package function_name</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="performance-optimization-patterns">Performance Optimization Patterns<a class="anchor" aria-label="anchor" href="#performance-optimization-patterns"></a>
</h4>
<div class="section level5">
<h5 id="chunked-processing">1. <strong>Chunked Processing</strong><a class="anchor" aria-label="anchor" href="#chunked-processing"></a>
</h5>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.run</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">large_data</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">data</span></span>
<span>    <span class="va">chunk_size</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span>    <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">large_data</span><span class="op">)</span>, <span class="va">chunk_size</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">chunk_end</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">i</span> <span class="op">+</span> <span class="va">chunk_size</span> <span class="op">-</span> <span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">large_data</span><span class="op">)</span><span class="op">)</span></span>
<span>        <span class="va">chunk</span> <span class="op">&lt;-</span> <span class="va">large_data</span><span class="op">[</span><span class="va">i</span><span class="op">:</span><span class="va">chunk_end</span>, <span class="op">]</span></span>
<span>        </span>
<span>        <span class="co"># Process chunk</span></span>
<span>        <span class="va">chunk_result</span> <span class="op">&lt;-</span> <span class="fu">process_chunk</span><span class="op">(</span><span class="va">chunk</span><span class="op">)</span></span>
<span>        <span class="va">results</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">chunk_result</span></span>
<span>        </span>
<span>        <span class="co"># Checkpoint for user interruption</span></span>
<span>        <span class="va">private</span><span class="op">$</span><span class="fu">.checkpoint</span><span class="op">(</span><span class="op">)</span></span>
<span>        </span>
<span>        <span class="co"># Memory cleanup</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/gc.html" class="external-link">gc</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>    <span class="co"># Combine results</span></span>
<span>    <span class="va">final_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">results</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="lazy-evaluation">2. <strong>Lazy Evaluation</strong><a class="anchor" aria-label="anchor" href="#lazy-evaluation"></a>
</h5>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">.run</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Only compute expensive operations when needed</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">include_advanced</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">advanced_results</span> <span class="op">&lt;-</span> <span class="fu">expensive_computation</span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span>        <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">advanced_table</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">advanced_results</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>    <span class="co"># Basic results are always computed</span></span>
<span>    <span class="va">basic_results</span> <span class="op">&lt;-</span> <span class="fu">basic_analysis</span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span>    <span class="va">self</span><span class="op">$</span><span class="va">results</span><span class="op">$</span><span class="va">basic_table</span><span class="op">$</span><span class="fu">setContent</span><span class="op">(</span><span class="va">basic_results</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="integration-with-enhanced-module-system">Integration with Enhanced Module System<a class="anchor" aria-label="anchor" href="#integration-with-enhanced-module-system"></a>
</h4>
<p>When developing .b.R functions for the ClinicoPath ecosystem:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Always follow the enhanced workflow</span></span>
<span><span class="va">development_workflow</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># 1. Implement .b.R with proper structure</span></span>
<span>    <span class="fu">edit_analysis_file</span><span class="op">(</span><span class="st">"R/myanalysis.b.R"</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># 2. Update configuration</span></span>
<span>    <span class="fu">update_config_yaml</span><span class="op">(</span><span class="st">"updateModules_config.yaml"</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># 3. Enhanced build process</span></span>
<span>    <span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">prepare</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">prepare</a></span><span class="op">(</span><span class="op">)</span>    <span class="co"># Critical: run twice</span></span>
<span>    <span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># 4. Test and distribute</span></span>
<span>    <span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">test</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/system.html" class="external-link">system</a></span><span class="op">(</span><span class="st">"Rscript _updateModules_enhanced.R"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="a-yaml-analysis-definition-complete-architecture-guide">üìã .a.yaml Analysis Definition: Complete Architecture Guide<a class="anchor" aria-label="anchor" href="#a-yaml-analysis-definition-complete-architecture-guide"></a>
</h3>
<div class="section level4">
<h4 id="understanding-the--a-yaml-structure">Understanding the .a.yaml Structure<a class="anchor" aria-label="anchor" href="#understanding-the--a-yaml-structure"></a>
</h4>
<p>The <code>.a.yaml</code> file defines the analysis metadata, options,
and interface behavior. It‚Äôs the blueprint for your jamovi analysis
module. Here‚Äôs the complete anatomy:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> myanalysis</span><span class="co">              # Internal analysis ID (must match .b.R filename)</span></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> My Statistical Analysis</span><span class="co"> # Display name in jamovi menu</span></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="fu">menuGroup</span><span class="kw">:</span><span class="at"> Exploration</span><span class="co">        # Main menu category</span></span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a><span class="fu">menuSubgroup</span><span class="kw">:</span><span class="at"> Advanced Stats</span><span class="co">  # Optional submenu</span></span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a><span class="fu">menuSubtitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'Detailed descriptive text'</span><span class="co"> # Optional menu tooltip</span></span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">'0.0.3'</span><span class="co">             # Analysis version</span></span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a><span class="fu">jas</span><span class="kw">:</span><span class="at"> </span><span class="st">'1.2'</span><span class="co">                   # jamovi analysis specification version</span></span>
<span id="cb30-9"><a href="#cb30-9" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb30-11"><a href="#cb30-11" tabindex="-1"></a><span class="fu">    main</span><span class="kw">: </span><span class="ch">|</span><span class="co">                  # Main description (markdown supported)</span></span>
<span id="cb30-12"><a href="#cb30-12" tabindex="-1"></a>        Performs comprehensive statistical analysis with modern methods.</span>
<span id="cb30-13"><a href="#cb30-13" tabindex="-1"></a>        This analysis provides publication-ready output with effect sizes.</span>
<span id="cb30-14"><a href="#cb30-14" tabindex="-1"></a><span class="at">    </span><span class="fu">R</span><span class="kw">:</span><span class="co">                       # R-specific documentation</span></span>
<span id="cb30-15"><a href="#cb30-15" tabindex="-1"></a><span class="at">        </span><span class="fu">dontrun</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span><span class="co">       # Whether to skip in R CMD check</span></span>
<span id="cb30-16"><a href="#cb30-16" tabindex="-1"></a><span class="fu">        usage</span><span class="kw">: </span><span class="ch">|</span><span class="co">             # R usage examples</span></span>
<span id="cb30-17"><a href="#cb30-17" tabindex="-1"></a>            # Example usage:</span>
<span id="cb30-18"><a href="#cb30-18" tabindex="-1"></a>            ClinicoPath::myanalysis(</span>
<span id="cb30-19"><a href="#cb30-19" tabindex="-1"></a>                data = mtcars,</span>
<span id="cb30-20"><a href="#cb30-20" tabindex="-1"></a>                dep = "mpg",</span>
<span id="cb30-21"><a href="#cb30-21" tabindex="-1"></a>                group = "cyl"</span>
<span id="cb30-22"><a href="#cb30-22" tabindex="-1"></a>            )</span>
<span id="cb30-23"><a href="#cb30-23" tabindex="-1"></a></span>
<span id="cb30-24"><a href="#cb30-24" tabindex="-1"></a><span class="fu">options</span><span class="kw">:</span><span class="co">                     # Analysis parameters/inputs</span></span>
<span id="cb30-25"><a href="#cb30-25" tabindex="-1"></a><span class="co">    # ... detailed below</span></span>
<span id="cb30-26"><a href="#cb30-26" tabindex="-1"></a><span class="co">...</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="core-components-deep-dive">Core Components Deep Dive<a class="anchor" aria-label="anchor" href="#core-components-deep-dive"></a>
</h4>
<div class="section level5">
<h5 id="menu-system-architecture">1. <strong>Menu System Architecture</strong><a class="anchor" aria-label="anchor" href="#menu-system-architecture"></a>
</h5>
<div class="sourceCode" id="cb31"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># Menu positioning and organization</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="fu">menuGroup</span><span class="kw">:</span><span class="at"> ExplorationD</span><span class="co">      # Main menu category</span></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="fu">menuSubgroup</span><span class="kw">:</span><span class="at"> ClinicoPath Comparisons</span><span class="co">  # Submenu grouping</span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a><span class="fu">menuSubtitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'Univariate Survival Analysis, Cox, Kaplan-Meier'</span><span class="co">  # Tooltip</span></span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a><span class="co"># Menu groups used in ClinicoPath:</span></span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a><span class="co"># - ExplorationD: Descriptive statistics</span></span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a><span class="co"># - SurvivalD: Survival analysis</span></span>
<span id="cb31-9"><a href="#cb31-9" tabindex="-1"></a><span class="co"># - meddecideD: Medical decision making</span></span>
<span id="cb31-10"><a href="#cb31-10" tabindex="-1"></a><span class="co"># - JJStatsPlotD: Statistical visualizations</span></span></code></pre></div>
<p><strong>Best Practices:</strong> - Use descriptive
<code>menuGroup</code> names ending with ‚ÄòD‚Äô for consistency - Keep
<code>menuSubgroup</code> concise but informative - Use
<code>menuSubtitle</code> for detailed descriptions that appear on
hover</p>
</div>
<div class="section level5">
<h5 id="option-types-patterns">2. <strong>Option Types &amp; Patterns</strong><a class="anchor" aria-label="anchor" href="#option-types-patterns"></a>
</h5>
<div class="section level6">
<h6 id="data-input-option">
<strong>Data Input Option</strong><a class="anchor" aria-label="anchor" href="#data-input-option"></a>
</h6>
<div class="sourceCode" id="cb32"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> data</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Data</span></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a><span class="fu">      R</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a>        The data as a data frame.</span></code></pre></div>
</div>
<div class="section level6">
<h6 id="variable-selection-options">
<strong>Variable Selection Options</strong><a class="anchor" aria-label="anchor" href="#variable-selection-options"></a>
</h6>
<div class="sourceCode" id="cb33"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="co"># Single variable selection</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dependent</span></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Dependent Variable</span></span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span></span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a><span class="at">  </span><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> continuous </span><span class="kw">]</span><span class="co">      # Guides users to appropriate types</span></span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a><span class="at">  </span><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> numeric </span><span class="kw">]</span><span class="co">         # Enforces type restrictions</span></span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a>    The outcome variable for analysis.</span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a><span class="co"># Multiple variable selection</span></span>
<span id="cb33-11"><a href="#cb33-11" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> covariates</span></span>
<span id="cb33-12"><a href="#cb33-12" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Covariates</span></span>
<span id="cb33-13"><a href="#cb33-13" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variables</span><span class="co">               # Note: Variables (plural) for multiple</span></span>
<span id="cb33-14"><a href="#cb33-14" tabindex="-1"></a><span class="at">  </span><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> ordinal</span><span class="kw">,</span><span class="at"> nominal</span><span class="kw">,</span><span class="at"> continuous </span><span class="kw">]</span></span>
<span id="cb33-15"><a href="#cb33-15" tabindex="-1"></a><span class="at">  </span><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> factor</span><span class="kw">,</span><span class="at"> numeric </span><span class="kw">]</span></span>
<span id="cb33-16"><a href="#cb33-16" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">NULL</span></span>
<span id="cb33-17"><a href="#cb33-17" tabindex="-1"></a></span>
<span id="cb33-18"><a href="#cb33-18" tabindex="-1"></a><span class="co"># Variable with level selection</span></span>
<span id="cb33-19"><a href="#cb33-19" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcome</span></span>
<span id="cb33-20"><a href="#cb33-20" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Outcome Variable</span></span>
<span id="cb33-21"><a href="#cb33-21" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span></span>
<span id="cb33-22"><a href="#cb33-22" tabindex="-1"></a><span class="at">  </span><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> ordinal</span><span class="kw">,</span><span class="at"> nominal </span><span class="kw">]</span></span>
<span id="cb33-23"><a href="#cb33-23" tabindex="-1"></a><span class="at">  </span><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> factor </span><span class="kw">]</span></span>
<span id="cb33-24"><a href="#cb33-24" tabindex="-1"></a></span>
<span id="cb33-25"><a href="#cb33-25" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeLevel</span></span>
<span id="cb33-26"><a href="#cb33-26" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Event Level</span></span>
<span id="cb33-27"><a href="#cb33-27" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb33-28"><a href="#cb33-28" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (outcome)</span><span class="co">          # Links to parent variable</span></span>
<span id="cb33-29"><a href="#cb33-29" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb33-30"><a href="#cb33-30" tabindex="-1"></a>    Select which level represents the event of interest.</span>
<span id="cb33-31"><a href="#cb33-31" tabindex="-1"></a></span>
<span id="cb33-32"><a href="#cb33-32" tabindex="-1"></a><span class="co"># Optional level selection</span></span>
<span id="cb33-33"><a href="#cb33-33" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> referenceLevel</span></span>
<span id="cb33-34"><a href="#cb33-34" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Reference Level (Optional)</span></span>
<span id="cb33-35"><a href="#cb33-35" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb33-36"><a href="#cb33-36" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (groupVar)</span></span>
<span id="cb33-37"><a href="#cb33-37" tabindex="-1"></a><span class="at">  </span><span class="fu">allowNone</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">             # Makes selection optional</span></span></code></pre></div>
</div>
<div class="section level6">
<h6 id="boolean-options">
<strong>Boolean Options</strong><a class="anchor" aria-label="anchor" href="#boolean-options"></a>
</h6>
<div class="sourceCode" id="cb34"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> excludeMissing</span></span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Exclude Missing Values</span></span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a><span class="fu">      R</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb34-7"><a href="#cb34-7" tabindex="-1"></a>        If TRUE, cases with missing values will be excluded from analysis.</span></code></pre></div>
</div>
<div class="section level6">
<h6 id="listdropdown-options">
<strong>List/Dropdown Options</strong><a class="anchor" aria-label="anchor" href="#listdropdown-options"></a>
</h6>
<div class="sourceCode" id="cb35"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> method</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Analysis Method</span></span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Parametric (t-test)</span></span>
<span id="cb35-6"><a href="#cb35-6" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> parametric</span></span>
<span id="cb35-7"><a href="#cb35-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Non-parametric (Mann-Whitney U)</span></span>
<span id="cb35-8"><a href="#cb35-8" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> nonparametric</span></span>
<span id="cb35-9"><a href="#cb35-9" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Robust (Yuen's test)</span></span>
<span id="cb35-10"><a href="#cb35-10" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> robust</span></span>
<span id="cb35-11"><a href="#cb35-11" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Bayesian</span></span>
<span id="cb35-12"><a href="#cb35-12" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> bayes</span></span>
<span id="cb35-13"><a href="#cb35-13" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> parametric</span></span>
<span id="cb35-14"><a href="#cb35-14" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb35-15"><a href="#cb35-15" tabindex="-1"></a>    Statistical method for group comparisons.</span></code></pre></div>
</div>
<div class="section level6">
<h6 id="numeric-input-options">
<strong>Numeric Input Options</strong><a class="anchor" aria-label="anchor" href="#numeric-input-options"></a>
</h6>
<div class="sourceCode" id="cb36"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="co"># Integer input</span></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> bootstrapSamples</span></span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Bootstrap Samples</span></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Integer</span></span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="dv">1000</span></span>
<span id="cb36-6"><a href="#cb36-6" tabindex="-1"></a><span class="at">  </span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="dv">100</span></span>
<span id="cb36-7"><a href="#cb36-7" tabindex="-1"></a><span class="at">  </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="dv">10000</span></span>
<span id="cb36-8"><a href="#cb36-8" tabindex="-1"></a></span>
<span id="cb36-9"><a href="#cb36-9" tabindex="-1"></a><span class="co"># Decimal number input</span></span>
<span id="cb36-10"><a href="#cb36-10" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> confidenceLevel</span></span>
<span id="cb36-11"><a href="#cb36-11" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Confidence Level</span></span>
<span id="cb36-12"><a href="#cb36-12" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Number</span></span>
<span id="cb36-13"><a href="#cb36-13" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.95</span></span>
<span id="cb36-14"><a href="#cb36-14" tabindex="-1"></a><span class="at">  </span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.00</span></span>
<span id="cb36-15"><a href="#cb36-15" tabindex="-1"></a><span class="at">  </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.00</span></span>
<span id="cb36-16"><a href="#cb36-16" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb36-17"><a href="#cb36-17" tabindex="-1"></a>    Confidence level for intervals (e.g., 0.95 for 95% CI).</span></code></pre></div>
</div>
<div class="section level6">
<h6 id="string-input-options">
<strong>String Input Options</strong><a class="anchor" aria-label="anchor" href="#string-input-options"></a>
</h6>
<div class="sourceCode" id="cb37"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> customTitle</span></span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Plot Title (Optional)</span></span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> String</span></span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="st">''</span></span>
<span id="cb37-5"><a href="#cb37-5" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb37-6"><a href="#cb37-6" tabindex="-1"></a>    Custom title for the plot. Leave empty for automatic title.</span>
<span id="cb37-7"><a href="#cb37-7" tabindex="-1"></a></span>
<span id="cb37-8"><a href="#cb37-8" tabindex="-1"></a><span class="co"># String with specific format</span></span>
<span id="cb37-9"><a href="#cb37-9" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cutpoints</span></span>
<span id="cb37-10"><a href="#cb37-10" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Time Cutpoints</span></span>
<span id="cb37-11"><a href="#cb37-11" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> String</span></span>
<span id="cb37-12"><a href="#cb37-12" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="st">'12, 36, 60'</span></span>
<span id="cb37-13"><a href="#cb37-13" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb37-14"><a href="#cb37-14" tabindex="-1"></a>    Comma-separated time points for survival analysis (e.g., "12, 36, 60").</span></code></pre></div>
</div>
<div class="section level6">
<h6 id="output-variables">
<strong>Output Variables</strong><a class="anchor" aria-label="anchor" href="#output-variables"></a>
</h6>
<div class="sourceCode" id="cb38"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="co"># Creates new variable in dataset</span></span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> predictedValues</span></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Save Predicted Values</span></span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Output</span></span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb38-6"><a href="#cb38-6" tabindex="-1"></a>    Adds predicted values as a new column in the dataset.</span></code></pre></div>
</div>
<div class="section level6">
<h6 id="advanced-pattern-conditional-options">
<strong>Advanced Pattern: Conditional Options</strong><a class="anchor" aria-label="anchor" href="#advanced-pattern-conditional-options"></a>
</h6>
<div class="sourceCode" id="cb39"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="co"># Parent option that controls visibility</span></span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> useAdvanced</span></span>
<span id="cb39-3"><a href="#cb39-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Advanced Options</span></span>
<span id="cb39-4"><a href="#cb39-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb39-5"><a href="#cb39-5" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb39-6"><a href="#cb39-6" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" tabindex="-1"></a><span class="co"># Child option only visible when parent is true</span></span>
<span id="cb39-8"><a href="#cb39-8" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> advancedMethod</span></span>
<span id="cb39-9"><a href="#cb39-9" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Advanced Method</span></span>
<span id="cb39-10"><a href="#cb39-10" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb39-11"><a href="#cb39-11" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb39-12"><a href="#cb39-12" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Method A</span></span>
<span id="cb39-13"><a href="#cb39-13" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> methodA</span></span>
<span id="cb39-14"><a href="#cb39-14" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Method B</span></span>
<span id="cb39-15"><a href="#cb39-15" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> methodB</span></span>
<span id="cb39-16"><a href="#cb39-16" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> methodA</span></span>
<span id="cb39-17"><a href="#cb39-17" tabindex="-1"></a><span class="at">  </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (useAdvanced)</span><span class="co">    # Conditional visibility</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level4">
<h4 id="complex-real-world-examples">3. <strong>Complex Real-World Examples</strong><a class="anchor" aria-label="anchor" href="#complex-real-world-examples"></a>
</h4>
<div class="section level5">
<h5 id="example-1-survival-analysis-options">
<strong>Example 1: Survival Analysis Options</strong><a class="anchor" aria-label="anchor" href="#example-1-survival-analysis-options"></a>
</h5>
<div class="sourceCode" id="cb40"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a><span class="co">    # Time calculation options</span></span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> tint</span></span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Using Dates to Calculate Survival Time</span></span>
<span id="cb40-5"><a href="#cb40-5" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb40-6"><a href="#cb40-6" tabindex="-1"></a><span class="at">      </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb40-7"><a href="#cb40-7" tabindex="-1"></a><span class="at">      </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb40-8"><a href="#cb40-8" tabindex="-1"></a><span class="fu">          R</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb40-9"><a href="#cb40-9" tabindex="-1"></a>            Calculate survival time from date variables.</span>
<span id="cb40-10"><a href="#cb40-10" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb40-11"><a href="#cb40-11" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dxdate</span></span>
<span id="cb40-12"><a href="#cb40-12" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Diagnosis Date</span></span>
<span id="cb40-13"><a href="#cb40-13" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span></span>
<span id="cb40-14"><a href="#cb40-14" tabindex="-1"></a><span class="at">      </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (tint)</span><span class="co">          # Only show when tint is true</span></span>
<span id="cb40-15"><a href="#cb40-15" tabindex="-1"></a><span class="fu">      description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb40-16"><a href="#cb40-16" tabindex="-1"></a>        Date of initial diagnosis.</span>
<span id="cb40-17"><a href="#cb40-17" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb40-18"><a href="#cb40-18" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> fudate</span></span>
<span id="cb40-19"><a href="#cb40-19" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Follow-up Date</span></span>
<span id="cb40-20"><a href="#cb40-20" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span></span>
<span id="cb40-21"><a href="#cb40-21" tabindex="-1"></a><span class="at">      </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (tint)</span></span>
<span id="cb40-22"><a href="#cb40-22" tabindex="-1"></a><span class="fu">      description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb40-23"><a href="#cb40-23" tabindex="-1"></a>        Most recent follow-up date.</span>
<span id="cb40-24"><a href="#cb40-24" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb40-25"><a href="#cb40-25" tabindex="-1"></a><span class="co">    # Analysis type with complex dependencies</span></span>
<span id="cb40-26"><a href="#cb40-26" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> analysistype</span></span>
<span id="cb40-27"><a href="#cb40-27" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Survival Type</span></span>
<span id="cb40-28"><a href="#cb40-28" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb40-29"><a href="#cb40-29" tabindex="-1"></a><span class="at">      </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb40-30"><a href="#cb40-30" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Overall Survival</span></span>
<span id="cb40-31"><a href="#cb40-31" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> overall</span></span>
<span id="cb40-32"><a href="#cb40-32" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Cause Specific</span></span>
<span id="cb40-33"><a href="#cb40-33" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cause</span></span>
<span id="cb40-34"><a href="#cb40-34" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Competing Risk</span></span>
<span id="cb40-35"><a href="#cb40-35" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> compete</span></span>
<span id="cb40-36"><a href="#cb40-36" tabindex="-1"></a><span class="at">      </span><span class="fu">default</span><span class="kw">:</span><span class="at"> overall</span></span>
<span id="cb40-37"><a href="#cb40-37" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb40-38"><a href="#cb40-38" tabindex="-1"></a><span class="co">    # Conditional level selections based on analysis type</span></span>
<span id="cb40-39"><a href="#cb40-39" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dod</span></span>
<span id="cb40-40"><a href="#cb40-40" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Dead of Disease</span></span>
<span id="cb40-41"><a href="#cb40-41" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb40-42"><a href="#cb40-42" tabindex="-1"></a><span class="at">      </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (outcome)</span></span>
<span id="cb40-43"><a href="#cb40-43" tabindex="-1"></a><span class="at">      </span><span class="fu">allowNone</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb40-44"><a href="#cb40-44" tabindex="-1"></a><span class="at">      </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (analysistype:cause || analysistype:compete)</span></span>
<span id="cb40-45"><a href="#cb40-45" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb40-46"><a href="#cb40-46" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dooc</span></span>
<span id="cb40-47"><a href="#cb40-47" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Dead of Other Causes</span></span>
<span id="cb40-48"><a href="#cb40-48" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb40-49"><a href="#cb40-49" tabindex="-1"></a><span class="at">      </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (outcome)</span></span>
<span id="cb40-50"><a href="#cb40-50" tabindex="-1"></a><span class="at">      </span><span class="fu">allowNone</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb40-51"><a href="#cb40-51" tabindex="-1"></a><span class="at">      </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (analysistype:compete)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="example-2-statistical-test-configuration">
<strong>Example 2: Statistical Test Configuration</strong><a class="anchor" aria-label="anchor" href="#example-2-statistical-test-configuration"></a>
</h5>
<div class="sourceCode" id="cb41"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="co">    # Main test selection</span></span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> testType</span></span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Statistical Test</span></span>
<span id="cb41-5"><a href="#cb41-5" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb41-6"><a href="#cb41-6" tabindex="-1"></a><span class="at">      </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb41-7"><a href="#cb41-7" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Automatic Selection</span></span>
<span id="cb41-8"><a href="#cb41-8" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> auto</span></span>
<span id="cb41-9"><a href="#cb41-9" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Chi-square Test</span></span>
<span id="cb41-10"><a href="#cb41-10" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> chisq</span></span>
<span id="cb41-11"><a href="#cb41-11" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Fisher's Exact Test</span></span>
<span id="cb41-12"><a href="#cb41-12" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> fisher</span></span>
<span id="cb41-13"><a href="#cb41-13" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Custom Test</span></span>
<span id="cb41-14"><a href="#cb41-14" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> custom</span></span>
<span id="cb41-15"><a href="#cb41-15" tabindex="-1"></a><span class="at">      </span><span class="fu">default</span><span class="kw">:</span><span class="at"> auto</span></span>
<span id="cb41-16"><a href="#cb41-16" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb41-17"><a href="#cb41-17" tabindex="-1"></a><span class="co">    # Conditional options for custom test</span></span>
<span id="cb41-18"><a href="#cb41-18" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> customTestName</span></span>
<span id="cb41-19"><a href="#cb41-19" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Custom Test Function</span></span>
<span id="cb41-20"><a href="#cb41-20" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> String</span></span>
<span id="cb41-21"><a href="#cb41-21" tabindex="-1"></a><span class="at">      </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (testType:custom)</span></span>
<span id="cb41-22"><a href="#cb41-22" tabindex="-1"></a><span class="at">      </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="st">''</span></span>
<span id="cb41-23"><a href="#cb41-23" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb41-24"><a href="#cb41-24" tabindex="-1"></a><span class="co">    # Pairwise comparisons</span></span>
<span id="cb41-25"><a href="#cb41-25" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pairwise</span></span>
<span id="cb41-26"><a href="#cb41-26" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Pairwise Comparisons</span></span>
<span id="cb41-27"><a href="#cb41-27" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb41-28"><a href="#cb41-28" tabindex="-1"></a><span class="at">      </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb41-29"><a href="#cb41-29" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb41-30"><a href="#cb41-30" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pairwiseMethod</span></span>
<span id="cb41-31"><a href="#cb41-31" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Adjustment Method</span></span>
<span id="cb41-32"><a href="#cb41-32" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb41-33"><a href="#cb41-33" tabindex="-1"></a><span class="at">      </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (pairwise)</span></span>
<span id="cb41-34"><a href="#cb41-34" tabindex="-1"></a><span class="at">      </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb41-35"><a href="#cb41-35" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Holm</span></span>
<span id="cb41-36"><a href="#cb41-36" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> holm</span></span>
<span id="cb41-37"><a href="#cb41-37" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Hochberg</span></span>
<span id="cb41-38"><a href="#cb41-38" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> hochberg</span></span>
<span id="cb41-39"><a href="#cb41-39" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Bonferroni</span></span>
<span id="cb41-40"><a href="#cb41-40" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> bonferroni</span></span>
<span id="cb41-41"><a href="#cb41-41" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> FDR</span></span>
<span id="cb41-42"><a href="#cb41-42" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> fdr</span></span>
<span id="cb41-43"><a href="#cb41-43" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> None</span></span>
<span id="cb41-44"><a href="#cb41-44" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> none</span></span>
<span id="cb41-45"><a href="#cb41-45" tabindex="-1"></a><span class="at">      </span><span class="fu">default</span><span class="kw">:</span><span class="at"> holm</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="best-practices-tips">4. <strong>Best Practices &amp; Tips</strong><a class="anchor" aria-label="anchor" href="#best-practices-tips"></a>
</h4>
<div class="section level5">
<h5 id="variable-type-specifications">
<strong>Variable Type Specifications</strong><a class="anchor" aria-label="anchor" href="#variable-type-specifications"></a>
</h5>
<div class="sourceCode" id="cb42"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="co"># Complete type system reference</span></span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> continuous</span><span class="kw">,</span><span class="at"> ordinal</span><span class="kw">,</span><span class="at"> nominal</span><span class="kw">,</span><span class="at"> id </span><span class="kw">]</span></span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> numeric</span><span class="kw">,</span><span class="at"> factor</span><span class="kw">,</span><span class="at"> character</span><span class="kw">,</span><span class="at"> logical </span><span class="kw">]</span></span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a></span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a><span class="co"># Common patterns:</span></span>
<span id="cb42-6"><a href="#cb42-6" tabindex="-1"></a><span class="co"># Continuous outcomes</span></span>
<span id="cb42-7"><a href="#cb42-7" tabindex="-1"></a><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> continuous </span><span class="kw">]</span></span>
<span id="cb42-8"><a href="#cb42-8" tabindex="-1"></a><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> numeric </span><span class="kw">]</span></span>
<span id="cb42-9"><a href="#cb42-9" tabindex="-1"></a></span>
<span id="cb42-10"><a href="#cb42-10" tabindex="-1"></a><span class="co"># Categorical predictors</span></span>
<span id="cb42-11"><a href="#cb42-11" tabindex="-1"></a><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> ordinal</span><span class="kw">,</span><span class="at"> nominal </span><span class="kw">]</span></span>
<span id="cb42-12"><a href="#cb42-12" tabindex="-1"></a><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> factor </span><span class="kw">]</span></span>
<span id="cb42-13"><a href="#cb42-13" tabindex="-1"></a></span>
<span id="cb42-14"><a href="#cb42-14" tabindex="-1"></a><span class="co"># Mixed types (flexible)</span></span>
<span id="cb42-15"><a href="#cb42-15" tabindex="-1"></a><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> ordinal</span><span class="kw">,</span><span class="at"> nominal</span><span class="kw">,</span><span class="at"> continuous </span><span class="kw">]</span></span>
<span id="cb42-16"><a href="#cb42-16" tabindex="-1"></a><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> factor</span><span class="kw">,</span><span class="at"> numeric </span><span class="kw">]</span></span>
<span id="cb42-17"><a href="#cb42-17" tabindex="-1"></a></span>
<span id="cb42-18"><a href="#cb42-18" tabindex="-1"></a><span class="co"># ID variables</span></span>
<span id="cb42-19"><a href="#cb42-19" tabindex="-1"></a><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> id </span><span class="kw">]</span></span>
<span id="cb42-20"><a href="#cb42-20" tabindex="-1"></a><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> character</span><span class="kw">,</span><span class="at"> factor </span><span class="kw">]</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="description-best-practices">
<strong>Description Best Practices</strong><a class="anchor" aria-label="anchor" href="#description-best-practices"></a>
</h5>
<div class="sourceCode" id="cb43"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="co"># Good: Clear, actionable description</span></span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> excludeOutliers</span></span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Exclude Outliers</span></span>
<span id="cb43-4"><a href="#cb43-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb43-5"><a href="#cb43-5" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb43-6"><a href="#cb43-6" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb43-7"><a href="#cb43-7" tabindex="-1"></a>    Remove observations more than 3 standard deviations from the mean.</span>
<span id="cb43-8"><a href="#cb43-8" tabindex="-1"></a>    This uses the median absolute deviation (MAD) method for robust</span>
<span id="cb43-9"><a href="#cb43-9" tabindex="-1"></a>    outlier detection.</span>
<span id="cb43-10"><a href="#cb43-10" tabindex="-1"></a></span>
<span id="cb43-11"><a href="#cb43-11" tabindex="-1"></a><span class="co"># Bad: Vague description</span></span>
<span id="cb43-12"><a href="#cb43-12" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> option1</span></span>
<span id="cb43-13"><a href="#cb43-13" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Option 1</span></span>
<span id="cb43-14"><a href="#cb43-14" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb43-15"><a href="#cb43-15" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb43-16"><a href="#cb43-16" tabindex="-1"></a>    Enable option 1.</span></code></pre></div>
</div>
<div class="section level5">
<h5 id="default-value-guidelines">
<strong>Default Value Guidelines</strong><a class="anchor" aria-label="anchor" href="#default-value-guidelines"></a>
</h5>
<div class="sourceCode" id="cb44"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="co"># Always provide sensible defaults</span></span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> confidenceLevel</span></span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Number</span></span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.95</span><span class="co">      # Standard 95% CI</span></span>
<span id="cb44-5"><a href="#cb44-5" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> method</span></span>
<span id="cb44-7"><a href="#cb44-7" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb44-8"><a href="#cb44-8" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> auto</span><span class="co">      # Let analysis choose</span></span>
<span id="cb44-9"><a href="#cb44-9" tabindex="-1"></a></span>
<span id="cb44-10"><a href="#cb44-10" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> missing</span></span>
<span id="cb44-11"><a href="#cb44-11" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb44-12"><a href="#cb44-12" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb44-13"><a href="#cb44-13" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Exclude listwise</span></span>
<span id="cb44-14"><a href="#cb44-14" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> exclude</span></span>
<span id="cb44-15"><a href="#cb44-15" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Include as NA</span></span>
<span id="cb44-16"><a href="#cb44-16" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> include</span></span>
<span id="cb44-17"><a href="#cb44-17" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> exclude</span><span class="co">   # Safe default</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="advanced-patterns-tricks">5. <strong>Advanced Patterns &amp; Tricks</strong><a class="anchor" aria-label="anchor" href="#advanced-patterns-tricks"></a>
</h4>
<div class="section level5">
<h5 id="dynamic-ui-updates">
<strong>Dynamic UI Updates</strong><a class="anchor" aria-label="anchor" href="#dynamic-ui-updates"></a>
</h5>
<div class="sourceCode" id="cb45"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="co"># Options that trigger UI updates in .init()</span></span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> groupingVar</span></span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Grouping Variable</span></span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span></span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb45-6"><a href="#cb45-6" tabindex="-1"></a>    Variable for stratified analysis.</span>
<span id="cb45-7"><a href="#cb45-7" tabindex="-1"></a>    </span>
<span id="cb45-8"><a href="#cb45-8" tabindex="-1"></a><span class="co"># In .b.R .init():</span></span>
<span id="cb45-9"><a href="#cb45-9" tabindex="-1"></a><span class="co"># if (!is.null(self$options$groupingVar)) {</span></span>
<span id="cb45-10"><a href="#cb45-10" tabindex="-1"></a><span class="co">#     levels &lt;- levels(self$data[[self$options$groupingVar]])</span></span>
<span id="cb45-11"><a href="#cb45-11" tabindex="-1"></a><span class="co">#     self$results$groupTables$setTitle(</span></span>
<span id="cb45-12"><a href="#cb45-12" tabindex="-1"></a><span class="co">#         paste("Results by", self$options$groupingVar)</span></span>
<span id="cb45-13"><a href="#cb45-13" tabindex="-1"></a><span class="co">#     )</span></span>
<span id="cb45-14"><a href="#cb45-14" tabindex="-1"></a><span class="co"># }</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="complex-validation-patterns">
<strong>Complex Validation Patterns</strong><a class="anchor" aria-label="anchor" href="#complex-validation-patterns"></a>
</h5>
<div class="sourceCode" id="cb46"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="co"># Date format handling</span></span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dateFormat</span></span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Date Format in Data</span></span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb46-5"><a href="#cb46-5" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb46-6"><a href="#cb46-6" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> YYYY-MM-DD</span></span>
<span id="cb46-7"><a href="#cb46-7" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> ymd</span></span>
<span id="cb46-8"><a href="#cb46-8" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> MM/DD/YYYY</span></span>
<span id="cb46-9"><a href="#cb46-9" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> mdy</span></span>
<span id="cb46-10"><a href="#cb46-10" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> DD/MM/YYYY</span></span>
<span id="cb46-11"><a href="#cb46-11" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dmy</span></span>
<span id="cb46-12"><a href="#cb46-12" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> ymd</span></span>
<span id="cb46-13"><a href="#cb46-13" tabindex="-1"></a></span>
<span id="cb46-14"><a href="#cb46-14" tabindex="-1"></a><span class="co"># Time unit conversion</span></span>
<span id="cb46-15"><a href="#cb46-15" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> timeUnit</span></span>
<span id="cb46-16"><a href="#cb46-16" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Time Unit</span></span>
<span id="cb46-17"><a href="#cb46-17" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb46-18"><a href="#cb46-18" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb46-19"><a href="#cb46-19" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Days</span></span>
<span id="cb46-20"><a href="#cb46-20" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> days</span></span>
<span id="cb46-21"><a href="#cb46-21" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Weeks</span></span>
<span id="cb46-22"><a href="#cb46-22" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> weeks</span></span>
<span id="cb46-23"><a href="#cb46-23" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Months</span></span>
<span id="cb46-24"><a href="#cb46-24" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> months</span></span>
<span id="cb46-25"><a href="#cb46-25" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Years</span></span>
<span id="cb46-26"><a href="#cb46-26" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> years</span></span>
<span id="cb46-27"><a href="#cb46-27" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> months</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="performance-optimization-options">
<strong>Performance Optimization Options</strong><a class="anchor" aria-label="anchor" href="#performance-optimization-options"></a>
</h5>
<div class="sourceCode" id="cb47"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="co"># Computation control</span></span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> enableBootstrap</span></span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Bootstrap Confidence Intervals</span></span>
<span id="cb47-4"><a href="#cb47-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb47-5"><a href="#cb47-5" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb47-6"><a href="#cb47-6" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb47-7"><a href="#cb47-7" tabindex="-1"></a>    Enable bootstrap CIs (slower but more accurate for small samples).</span>
<span id="cb47-8"><a href="#cb47-8" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> bootstrapSamples</span></span>
<span id="cb47-10"><a href="#cb47-10" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Bootstrap Iterations</span></span>
<span id="cb47-11"><a href="#cb47-11" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Integer</span></span>
<span id="cb47-12"><a href="#cb47-12" tabindex="-1"></a><span class="at">  </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (enableBootstrap)</span></span>
<span id="cb47-13"><a href="#cb47-13" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="dv">1000</span></span>
<span id="cb47-14"><a href="#cb47-14" tabindex="-1"></a><span class="at">  </span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="dv">100</span></span>
<span id="cb47-15"><a href="#cb47-15" tabindex="-1"></a><span class="at">  </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="dv">10000</span></span>
<span id="cb47-16"><a href="#cb47-16" tabindex="-1"></a></span>
<span id="cb47-17"><a href="#cb47-17" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> parallelProcessing</span></span>
<span id="cb47-18"><a href="#cb47-18" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Use Parallel Processing</span></span>
<span id="cb47-19"><a href="#cb47-19" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb47-20"><a href="#cb47-20" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb47-21"><a href="#cb47-21" tabindex="-1"></a><span class="at">  </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (enableBootstrap)</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="integration-with-module-system">6. <strong>Integration with Module System</strong><a class="anchor" aria-label="anchor" href="#integration-with-module-system"></a>
</h4>
<p>When creating .a.yaml files for the ClinicoPath system:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="co"># 1. Follow naming conventions</span></span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> myanalysis</span><span class="co">          # Must match R/myanalysis.b.R</span></span>
<span id="cb48-3"><a href="#cb48-3" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" tabindex="-1"></a><span class="co"># 2. Use consistent menu groups</span></span>
<span id="cb48-5"><a href="#cb48-5" tabindex="-1"></a><span class="fu">menuGroup</span><span class="kw">:</span><span class="at"> ExplorationD</span><span class="co">   # Or SurvivalD, meddecideD, JJStatsPlotD</span></span>
<span id="cb48-6"><a href="#cb48-6" tabindex="-1"></a></span>
<span id="cb48-7"><a href="#cb48-7" tabindex="-1"></a><span class="co"># 3. Version alignment</span></span>
<span id="cb48-8"><a href="#cb48-8" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">'0.0.3'</span><span class="co">         # Match module version</span></span>
<span id="cb48-9"><a href="#cb48-9" tabindex="-1"></a></span>
<span id="cb48-10"><a href="#cb48-10" tabindex="-1"></a><span class="co"># 4. Complete documentation</span></span>
<span id="cb48-11"><a href="#cb48-11" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb48-12"><a href="#cb48-12" tabindex="-1"></a><span class="fu">    main</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb48-13"><a href="#cb48-13" tabindex="-1"></a>        Comprehensive description with markdown support.</span>
<span id="cb48-14"><a href="#cb48-14" tabindex="-1"></a>        - Feature 1: Description</span>
<span id="cb48-15"><a href="#cb48-15" tabindex="-1"></a>        - Feature 2: Description</span>
<span id="cb48-16"><a href="#cb48-16" tabindex="-1"></a><span class="at">    </span><span class="fu">R</span><span class="kw">:</span></span>
<span id="cb48-17"><a href="#cb48-17" tabindex="-1"></a><span class="fu">        usage</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb48-18"><a href="#cb48-18" tabindex="-1"></a>            # Complete R example</span>
<span id="cb48-19"><a href="#cb48-19" tabindex="-1"></a>            result &lt;- ClinicoPath::myanalysis(</span>
<span id="cb48-20"><a href="#cb48-20" tabindex="-1"></a>                data = histopathology,</span>
<span id="cb48-21"><a href="#cb48-21" tabindex="-1"></a>                dependent = "outcome",</span>
<span id="cb48-22"><a href="#cb48-22" tabindex="-1"></a>                covariates = c("age", "stage"),</span>
<span id="cb48-23"><a href="#cb48-23" tabindex="-1"></a>                method = "robust"</span>
<span id="cb48-24"><a href="#cb48-24" tabindex="-1"></a>            )</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="common-pitfalls-solutions-1">7. <strong>Common Pitfalls &amp; Solutions</strong><a class="anchor" aria-label="anchor" href="#common-pitfalls-solutions-1"></a>
</h4>
<div class="section level5">
<h5 id="pitfall-1-missing-default-values">
<strong>Pitfall 1: Missing Default Values</strong><a class="anchor" aria-label="anchor" href="#pitfall-1-missing-default-values"></a>
</h5>
<div class="sourceCode" id="cb49"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="co"># Bad: No default for optional parameter</span></span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> customLabel</span></span>
<span id="cb49-3"><a href="#cb49-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> String</span></span>
<span id="cb49-4"><a href="#cb49-4" tabindex="-1"></a><span class="at">  </span></span>
<span id="cb49-5"><a href="#cb49-5" tabindex="-1"></a><span class="co"># Good: Explicit default</span></span>
<span id="cb49-6"><a href="#cb49-6" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> customLabel</span></span>
<span id="cb49-7"><a href="#cb49-7" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> String</span></span>
<span id="cb49-8"><a href="#cb49-8" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="st">''</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="pitfall-2-incorrect-variable-linking">
<strong>Pitfall 2: Incorrect Variable Linking</strong><a class="anchor" aria-label="anchor" href="#pitfall-2-incorrect-variable-linking"></a>
</h5>
<div class="sourceCode" id="cb50"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="co"># Bad: Typo in variable reference</span></span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> level1</span></span>
<span id="cb50-3"><a href="#cb50-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb50-4"><a href="#cb50-4" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (grouppVar)</span><span class="co">  # Typo!</span></span>
<span id="cb50-5"><a href="#cb50-5" tabindex="-1"></a></span>
<span id="cb50-6"><a href="#cb50-6" tabindex="-1"></a><span class="co"># Good: Correct reference</span></span>
<span id="cb50-7"><a href="#cb50-7" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> level1</span></span>
<span id="cb50-8"><a href="#cb50-8" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb50-9"><a href="#cb50-9" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (groupVar)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="pitfall-3-complex-visibility-logic">
<strong>Pitfall 3: Complex Visibility Logic</strong><a class="anchor" aria-label="anchor" href="#pitfall-3-complex-visibility-logic"></a>
</h5>
<div class="sourceCode" id="cb51"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="co"># Bad: Overly complex</span></span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a><span class="fu">visible</span><span class="kw">:</span><span class="at"> ((method:auto &amp;&amp; pairwise) || (method:custom &amp;&amp; !pairwise))</span></span>
<span id="cb51-3"><a href="#cb51-3" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" tabindex="-1"></a><span class="co"># Good: Simplify with intermediate options</span></span>
<span id="cb51-5"><a href="#cb51-5" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> showAdvanced</span></span>
<span id="cb51-6"><a href="#cb51-6" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb51-7"><a href="#cb51-7" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb51-8"><a href="#cb51-8" tabindex="-1"></a></span>
<span id="cb51-9"><a href="#cb51-9" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> advancedOption</span></span>
<span id="cb51-10"><a href="#cb51-10" tabindex="-1"></a><span class="at">  </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (showAdvanced)</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="testing-your--a-yaml">8. <strong>Testing Your .a.yaml</strong><a class="anchor" aria-label="anchor" href="#testing-your--a-yaml"></a>
</h4>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Validate yaml syntax</span></span>
<span><span class="fu">yaml</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/yaml/man/yaml.load.html" class="external-link">yaml.load_file</a></span><span class="op">(</span><span class="st">"jamovi/myanalysis.a.yaml"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check in jamovi</span></span>
<span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># Open jamovi and verify:</span></span>
<span><span class="co"># 1. Analysis appears in correct menu</span></span>
<span><span class="co"># 2. All options are visible</span></span>
<span><span class="co"># 3. Conditional visibility works</span></span>
<span><span class="co"># 4. Defaults are sensible</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="getting-help-resources">üìû Getting Help &amp; Resources<a class="anchor" aria-label="anchor" href="#getting-help-resources"></a>
</h3>
<div class="section level4">
<h4 id="development-resources">Development Resources<a class="anchor" aria-label="anchor" href="#development-resources"></a>
</h4>
<ul>
<li>
<strong>Official Documentation</strong>: <a href="https://dev.jamovi.org/" class="external-link uri">https://dev.jamovi.org/</a>
</li>
<li>
<strong>jamovi Community Forum</strong>: <a href="https://forum.jamovi.org/" class="external-link uri">https://forum.jamovi.org/</a>
</li>
<li>
<strong>R Package Development</strong>: <a href="https://r-pkgs.org/" class="external-link uri">https://r-pkgs.org/</a>
</li>
<li>
<strong>Project Repository</strong>: Check GitHub issues and
discussions</li>
</ul>
</div>
<div class="section level4">
<h4 id="contributing-guidelines">Contributing Guidelines<a class="anchor" aria-label="anchor" href="#contributing-guidelines"></a>
</h4>
<ol style="list-style-type: decimal">
<li>
<strong>Fork</strong> the repository</li>
<li>
<strong>Create</strong> a feature branch</li>
<li>
<strong>Write</strong> comprehensive tests</li>
<li>
<strong>Document</strong> your changes thoroughly</li>
<li>
<strong>Update</strong> <code>updateModules_config.yaml</code> if
needed</li>
<li>
<strong>Submit</strong> a pull request with clear description</li>
</ol>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="user2017-jamovi-a-spreadsheet-for-r">
<a href="https://channel9.msdn.com/Events/useR-international-R-User-conferences/useR-International-R-User-2017-Conference/jamovi-a-spreadsheet-for-R" class="external-link">useR!2017:
<em>jamovi</em>: a spreadsheet for R</a><a class="anchor" aria-label="anchor" href="#user2017-jamovi-a-spreadsheet-for-r"></a>
</h3>
<iframe src="https://channel9.msdn.com/Events/useR-international-R-User-conferences/useR-International-R-User-2017-Conference/jamovi-a-spreadsheet-for-R/player" width="50%" allowfullscreen frameborder="0" title="*jamovi*: a spreadsheet for R - Microsoft Channel 9 Video">
</iframe>
</div>
<div class="section level3">
<h3 id="preparing-development-tools">preparing development tools<a class="anchor" aria-label="anchor" href="#preparing-development-tools"></a>
</h3>
<div class="section level4">
<h4 id="use-an-unsigned-version-of-jamovi-for-development-in-mac">use an unsigned version of jamovi for development in mac<a class="anchor" aria-label="anchor" href="#use-an-unsigned-version-of-jamovi-for-development-in-mac"></a>
</h4>
<p><a href="https://dev.jamovi.org/#28-02-2020" class="external-link uri">https://dev.jamovi.org/#28-02-2020</a></p>
<p><a href="https://www.jamovi.org/downloads/jamovi-unsigned.zip" class="external-link uri">https://www.jamovi.org/downloads/jamovi-unsigned.zip</a></p>
</div>
<div class="section level4">
<h4 id="jmvtools-should-be-installed-from-the-jamovi-repo">jmvtools should be installed from the jamovi repo<a class="anchor" aria-label="anchor" href="#jmvtools-should-be-installed-from-the-jamovi-repo"></a>
</h4>
<p><a href="https://dev.jamovi.org/tuts0101-getting-started.html" class="external-link uri">https://dev.jamovi.org/tuts0101-getting-started.html</a></p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'jmvtools'</span>, repos<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'https://repo.jamovi.org'</span>, <span class="st">'https://cran.r-project.org'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/check.html" class="external-link">check</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>You can use <code><a href="https://devtools.r-lib.org/reference/install.html" class="external-link">devtools::install()</a></code> to use your codes as a
usual R package, submit to github or CRAN.
<code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">devtools::check()</a></code> does not like some jamovi folders so be
sure to add them under <code>.Rbuildignore</code></p>
</div>
</div>
<div class="section level3">
<h3 id="creating-a-module">Creating a Module<a class="anchor" aria-label="anchor" href="#creating-a-module"></a>
</h3>
<p><a href="https://dev.jamovi.org/tuts0102-creating-a-module.html" class="external-link uri">https://dev.jamovi.org/tuts0102-creating-a-module.html</a></p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu">create</span><span class="op">(</span>path <span class="op">=</span> <span class="st">"~/ClinicoPathDescriptives"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="add-analysis">add analysis<a class="anchor" aria-label="anchor" href="#add-analysis"></a>
</h3>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu">create</span><span class="op">(</span><span class="st">'function'</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="structure">Structure<a class="anchor" aria-label="anchor" href="#structure"></a>
</h2>
<hr>
<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vTfA7dL5y_PzY5L-f8FRxaqvKMME5pcDCbXtWk5-FUNCGJyFKpGJEp8ES9rAge0CbI3Gcbi7Emv4e-S/embed?start=false&amp;loop=true&amp;delayms=3000" frameborder="0" width="960" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true">
</iframe>
<hr>
<div class="section level3">
<h3 id="development-files">Development Files<a class="anchor" aria-label="anchor" href="#development-files"></a>
</h3>
<div class="section level4">
<h4 id="description-file">
<code>DESCRIPTION</code> file<a class="anchor" aria-label="anchor" href="#description-file"></a>
</h4>
<p><code>Imports</code>, <code>Depends</code>, <code>Suggests</code>,
and <code>Remotes</code> have practically no difference in building
jamovi modules. The <code><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">jmvtools::install()</a></code> copies libraries
under <em>build</em> folder.</p>
<p>Under <code>Imports</code> <code>jmvcore</code> and <code>R6</code>
are defaults.</p>
<p>With Remotes one can install github packages as well. But with each
<code><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">jmvtools::install()</a></code> command it tries to check the updates,
and if you are online throws an error. An
<code>upgrade = FALSE, quick = TRUE</code> argument like in
devtools::install() is not available, yet. One workaround is temporarily
deleting Remotes from DESCRIPTION. The package folders continue to
remain under build folder.</p>
<p>One can also directly copy package folders from system R package
folder (find via <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code>) as well.</p>
</div>
<div class="section level4">
<h4 id="namespace-file">
<code>NAMESPACE</code> file<a class="anchor" aria-label="anchor" href="#namespace-file"></a>
</h4>
<p>No need to change.</p>
</div>
<div class="section level4">
<h4 id="r-folder">
<code>R</code> folder<a class="anchor" aria-label="anchor" href="#r-folder"></a>
</h4>
<p>R folder is where the codes are present. There are two files.</p>
<div class="section level5">
<h5 id="function-h-r">
<code>function.h.R</code><a class="anchor" aria-label="anchor" href="#function-h-r"></a>
</h5>
<p>No need to change. Auto-updated and overwritten.</p>
</div>
<div class="section level5">
<h5 id="function-b-r">
<code>function.b.R</code><a class="anchor" aria-label="anchor" href="#function-b-r"></a>
</h5>
<div class="section level6">
<h6 id="write-formula">Write Formula<a class="anchor" aria-label="anchor" href="#write-formula"></a>
</h6>
<p><a href="https://cran.r-project.org/web/packages/jmv/vignettes/new-syntax.html" class="external-link uri">https://cran.r-project.org/web/packages/jmv/vignettes/new-syntax.html</a></p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmv</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmv/man/ANOVA.html" class="external-link">ANOVA</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">len</span> <span class="op">~</span> <span class="va">supp</span> <span class="op">*</span> <span class="va">dose</span>, <span class="va">ToothGrowth</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmv</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmv/man/ANOVA.html" class="external-link">ANOVA</a></span><span class="op">(</span><span class="va">ToothGrowth</span>, <span class="va">len</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">supp</span>, <span class="va">dose</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmv</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmv/man/ANOVA.html" class="external-link">ANOVA</a></span><span class="op">(</span><span class="va">...</span>, emMeans <span class="op">=</span> <span class="op">~</span> <span class="va">supp</span> <span class="op">+</span> <span class="va">dose</span><span class="op">:</span><span class="va">supp</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jmv</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmv/man/ANOVA.html" class="external-link">ANOVA</a></span><span class="op">(</span><span class="va">ToothGrowth</span>, <span class="st">'len'</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'supp'</span>, <span class="st">'dose'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p>In this case, jmv will look for variables in ToothGrowth called ‚Äòdep‚Äô
or ‚Äòfactors‚Äô. This is tidy evaluation. To instruct jmv to use the
contents of it‚Äôs arguments, rather than the symbol name, prefix them
with the !! signifier. For example:</p>
</blockquote>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dep</span> <span class="op">&lt;-</span> <span class="st">'len'</span></span>
<span><span class="va">factors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'supp'</span>, <span class="st">'dose'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">jmv</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmv/man/ANOVA.html" class="external-link">ANOVA</a></span><span class="op">(</span><span class="va">ToothGrowth</span>, <span class="op">!</span><span class="op">!</span><span class="va">dep</span>, <span class="op">!</span><span class="op">!</span><span class="va">factors</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level6">
<h6 id="warning-error-messages">Warning, Error Messages<a class="anchor" aria-label="anchor" href="#warning-error-messages"></a>
</h6>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Data contains no (complete) rows"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level6">
<h6 id="prepare-data-for-analysis">Prepare Data For Analysis<a class="anchor" aria-label="anchor" href="#prepare-data-for-analysis"></a>
</h6>
<pre><code><span>        <span class="va">varsName</span> <span class="op">&lt;-</span> <span class="va">self</span><span class="op">$</span><span class="va">options</span><span class="op">$</span><span class="va">vars</span></span>
<span></span>
<span>        <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">jmvcore</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvcore/man/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">data</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">varsName</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level6">
<h6 id="remove-na-containing-cases-works-on-selected-variables">Remove NA containing cases (works on selected variables)<a class="anchor" aria-label="anchor" href="#remove-na-containing-cases-works-on-selected-variables"></a>
</h6>
<pre><code><span>        <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">jmvcore</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvcore/man/naOmit.html" class="external-link">naOmit</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre>
<p>jmvcore::toNumeric() <a href="https://dev.jamovi.org/tuts0202-handling-data.html" class="external-link uri">https://dev.jamovi.org/tuts0202-handling-data.html</a></p>
<p>can I just send whole data to plot function? you usually don‚Äôt want
to, but sometimes it‚Äôs appropriate. normally you just provide a summary
of the data to the plot function ‚Ä¶ just enough data for it to do it‚Äôs
job. but if you need the whole data set for the plot function, then you
can specify requiresData: true on the image object. that means the plot
function can access self$data. i do it in the correlation matrix for
example. there‚Äôs no summary i could send ‚Ä¶ the plot function needs all
the data: <a href="https://github.com/jamovi/jmv/blob/master/jamovi/corrmatrix.r.yaml#L143" class="external-link uri">https://github.com/jamovi/jmv/blob/master/jamovi/corrmatrix.r.yaml#L143</a>
jamovi/corrmatrix.r.yaml:143 requiresData: true</p>
</div>
<div class="section level6">
<h6 id="prepare-data-to-send-to-plot-function">Prepare Data to Send to Plot Function<a class="anchor" aria-label="anchor" href="#prepare-data-to-send-to-plot-function"></a>
</h6>
</div>
</div>
</div>
<div class="section level4">
<h4 id="jamovi-folder">jamovi folder<a class="anchor" aria-label="anchor" href="#jamovi-folder"></a>
</h4>
<div class="section level5">
<h5 id="function-a-yaml">function.a.yaml<a class="anchor" aria-label="anchor" href="#function-a-yaml"></a>
</h5>
</div>
<div class="section level5">
<h5 id="function-r-yaml">function.r.yaml<a class="anchor" aria-label="anchor" href="#function-r-yaml"></a>
</h5>
<div class="section level6">
<h6 id="preformatted">preformatted<a class="anchor" aria-label="anchor" href="#preformatted"></a>
</h6>
<p>Using ‚Äúpreformatted‚Äù result element I get a markdown table output. Is
there a way to somehow render/convert this output to html version. Or
should I go with <a href="https://dev.jamovi.org/api_table.html" class="external-link uri">https://dev.jamovi.org/api_table.html</a> table api?</p>
<p>so you‚Äôre best to make use of the table api ‚Ä¶ the table API has a lot
more features than an md table.</p>
</div>
<div class="section level6">
<h6 id="p-value-format">p-value format<a class="anchor" aria-label="anchor" href="#p-value-format"></a>
</h6>
<div class="sourceCode" id="cb66"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="at">     </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> p</span></span>
<span id="cb66-2"><a href="#cb66-2" tabindex="-1"></a><span class="at">       </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"p"</span></span>
<span id="cb66-3"><a href="#cb66-3" tabindex="-1"></a><span class="at">       </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb66-4"><a href="#cb66-4" tabindex="-1"></a><span class="at">       </span><span class="fu">format</span><span class="kw">:</span><span class="at"> zto,pvalue</span></span></code></pre></div>
</div>
</div>
<div class="section level5">
<h5 id="function-u-yaml">function.u.yaml<a class="anchor" aria-label="anchor" href="#function-u-yaml"></a>
</h5>
<div class="section level6">
<h6 id="levelselector">LevelSelector<a class="anchor" aria-label="anchor" href="#levelselector"></a>
</h6>
<pre><code> i have added the property allowNone to the LevelSelector control. This will allow the user to select None from the listbox.</code></pre>
</div>
<div class="section level6">
<h6 id="maxitemcount-1">maxItemCount: 1<a class="anchor" aria-label="anchor" href="#maxitemcount-1"></a>
</h6>
</div>
</div>
<div class="section level5">
<h5 id="yaml">0000.yaml<a class="anchor" aria-label="anchor" href="#yaml"></a>
</h5>
</div>
<div class="section level5">
<h5 id="refs-yaml">00refs.yaml<a class="anchor" aria-label="anchor" href="#refs-yaml"></a>
</h5>
<p>prepare a 00refs.yaml like this: <a href="https://github.com/jamovi/jmv/blob/master/jamovi/00refs.yaml" class="external-link uri">https://github.com/jamovi/jmv/blob/master/jamovi/00refs.yaml</a></p>
<p>attach references to objects in the .r.yaml file like this:</p>
<p><a href="https://github.com/jamovi/jmv/blob/master/jamovi/ancova.r.yaml#L174" class="external-link uri">https://github.com/jamovi/jmv/blob/master/jamovi/ancova.r.yaml#L174</a></p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="tables">Tables<a class="anchor" aria-label="anchor" href="#tables"></a>
</h3>
<p>I want a long table. I tried to use following but got error.</p>
<p>Below is my current .r.yaml - name: irrtable title: Interrater
Reliability type: Table rows: 1 columns: - name: method title: ‚ÄòMethod‚Äô
type: text - name: subjects title: ‚ÄòSubjects‚Äô type: integer - name:
raters title: ‚ÄòRaters‚Äô type: integer - name: peragree title: ‚ÄòAgreement
%‚Äô type: number - name: kappa title: ‚ÄòKappa‚Äô type: number - name: z
title: ‚Äòz‚Äô type: number - name: p title: ‚Äòp-value‚Äô type: number format:
zto,pvalue</p>
<ul>
<li>try setting swapRowsColumns to true.</li>
<li>alternatively, you can name your columns like this method[a],
method[b], this will cause the row to be ‚Äòfolded‚Äô where the value in
method[b] appears below the value in method[a] . an example of this is
the t-test: <a href="https://github.com/jamovi/jmv/blob/master/jamovi/ttestis.r.yaml#L20" class="external-link uri">https://github.com/jamovi/jmv/blob/master/jamovi/ttestis.r.yaml#L20</a>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="plots">Plots<a class="anchor" aria-label="anchor" href="#plots"></a>
</h3>
</div>
<div class="section level3">
<h3 id="build-folder">
<code>build</code> folder<a class="anchor" aria-label="anchor" href="#build-folder"></a>
</h3>
<div class="section level4">
<h4 id="js-folder">
<code>js</code> folder<a class="anchor" aria-label="anchor" href="#js-folder"></a>
</h4>
<div class="section level5">
<h5 id="event-js">event.js<a class="anchor" aria-label="anchor" href="#event-js"></a>
</h5>
</div>
</div>
<div class="section level4">
<h4 id="r3-6-3-macos">R3.6.3-macos<a class="anchor" aria-label="anchor" href="#r3-6-3-macos"></a>
</h4>
</div>
</div>
<div class="section level3">
<h3 id="installing">Installing<a class="anchor" aria-label="anchor" href="#installing"></a>
</h3>
<div class="section level4">
<h4 id="jmvtoolsinstall">
<code>jmvtools::install</code><a class="anchor" aria-label="anchor" href="#jmvtoolsinstall"></a>
</h4>
</div>
<div class="section level4">
<h4 id="devtoolsinstall">
<code>devtools::install</code><a class="anchor" aria-label="anchor" href="#devtoolsinstall"></a>
</h4>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/install.html" class="external-link">install</a></span><span class="op">(</span>upgrade <span class="op">=</span> <span class="cn">FALSE</span>, quick <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="init">.init()<a class="anchor" aria-label="anchor" href="#init"></a>
</h3>
<pre><code>so the principle seems right. you initialise the table in the .init() phase (you add rows and columns), and then you populate the table in the .run() phase. however, i notice your .init() function calls .initcTable() which doesn‚Äôt actually do anything.
most of the time, .init() isn‚Äôt necessary, because the .r.yaml file can take care of it, but sometimes the rows/columns the table should have is a more complex calculation than the .r.yaml allows (and example of this might be the ANOVA table in jmv ‚Ä¶ there‚Äôs not a simple relationship between the number of variables in the option, i.e. dose, supp, and the number of rows in the ANOVA table dose, supp, supp * dose, residuals. so we can‚Äôt achieve this with the .r.yaml, and so we set it up in the .init() phase.
finally, there are times where you can‚Äôt even determine the number of rows/columns in the .init() phase. you can only decide how many rows/columns are appropriate after you‚Äôve run the analysis. an example of this might be a cluster analysis, where there‚Äôs a row for each cluster, but you only know how many rows you need after the analysis has been run. this is the least desireable, because it does lead to the growing and shrinking of the table, but sometimes that‚Äôs unavoidable.
so that‚Äôs your order of preference. preferably in the .r.yaml, if that can‚Äôt work, then do it in the .init(), and as a last resort, you can do it in the .run()</code></pre>
</div>
<div class="section level3">
<h3 id="output-variables-in-jamovi-1-6-16">Output variables in jamovi 1.6.16<a class="anchor" aria-label="anchor" href="#output-variables-in-jamovi-1-6-16"></a>
</h3>
<pre><code>hi, we‚Äôve added ‚Äúoutput variables‚Äù to version 1.6.16 of jamovi. this allows analyses to save data from the analyses, back to the spreadsheet (for example, residuals). there‚Äôs nothing in the 1.6.16 which indicates to users that this functionality is there, and it will only appear when an analysis implements these features. the idea is that we won‚Äôt actually release any modules with these features publicly, until an upcoming jamovi 1.8, or 2.0, or whatever. we‚Äôve added these to the 1.6.16 so you can begin developing for the upcoming release.
you begin by specifying an output option in your .a.yaml file, i.e.

                # - name: resids
                # title: Residuals
                # type: Output
                # and then add an entry into your .r.yaml file, with a matching name:
                #     - name: resids
                # title: Residuals
                # type: Output
                # varTitle: '`Residuals - ${ dep }`'
                # varDescription: Residuals from ANCOVA
                # clearWith:
                #     - dep
                # - factors
                # - covs
                # - modelTerms
                # in this case you‚Äôll see that i‚Äôm specifying a formatted string, where the name of the column produced is generated from the dep variable, or dependent variable.
                # you can populate the output column with:
                #     if (self$options$resids &amp;&amp; self$results$resids$isNotFilled()) {
                #         self$results$resids$setValues(aVector)
                #     }
                # sometimes your dataset will have gaps in it, either from filters, or from you calling na.omit() on it, and so if you simply send the residuals from your linear model to $setValues() they won‚Äôt be placed in the correct rows. there are two ways to solve this.
                call self$results$resids$setRowNums(...) . conveniently, you can simply take the rownames() from your data set (after calling na.omit()) on it, and pass this in here. i.e.
                # cleanData &lt;- na.omit(self$data)
                # ...
                # rowNums &lt;- rownames(cleanData)
                # self$results$resids$setRowNums(rowNums)
                # alternatively, you can turn your residuals into a data frame, attach the row numbers to that:
                #     residuals &lt;- ...
                # residuals &lt;- data.frame(residuals=residuals, row.names=rownames(cleanData))
                # self$results$setValues(residuals)
                # if you want to provide multiple output columns, for example, perhaps in the previous example we want a ‚Äúpredicted values‚Äù column as well, we‚Äôd add additional entries to the .a.yaml and the .r.yaml. each entry in the .a.yaml will result in one checkbox.
                # if you want to provide multiple columns with a single checkbox/option, then you can use the items property.
                # - name: predInt
                # title: Prediction intervals
                # varTitle: Pred interval
                # type: Output
                # items: 2
                # then you can go:
                #     self$results$predInt$setValues(index=i, values)
                # or you could wrap both columns of values in a data frame, and go:
                #     self$results$predInt$setValues(valuesinadataframe)
                # you can use data bindings with items too. i.e.
                # - name: resids
                # title: Residuals
                # type: Output
                # varTitle: 'Residuals - $key'
                # items: (vars)
                # this will create an output column for each variable assigned to vars. these can be set:
                #     self$results$resids$setValues(key=key, values)

</code></pre>
</div>
<div class="section level3">
<h3 id="other-tips">Other Tips<a class="anchor" aria-label="anchor" href="#other-tips"></a>
</h3>
<div class="section level4">
<h4 id="code-search-in-github">Code Search in GitHub<a class="anchor" aria-label="anchor" href="#code-search-in-github"></a>
</h4>
<p><a href="https://github.com/search/advanced?q=select+repo%3Ajamovi%2Fjmv+filename%3A.b.R+language%3AR&amp;type=Code" class="external-link uri">https://github.com/search/advanced?q=select+repo%3Ajamovi%2Fjmv+filename%3A.b.R+language%3AR&amp;type=Code</a></p>
<p><a href="https://github.com/search?l=&amp;q=select+repo%3Ajamovi%2Fjmv+filename%3A.b.R+language%3AR&amp;type=Code" class="external-link uri">https://github.com/search?l=&amp;q=select+repo%3Ajamovi%2Fjmv+filename%3A.b.R+language%3AR&amp;type=Code</a></p>
<pre><code>select repo:jamovi/jmv filename:.b.R language:R</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" tabindex="-1"></a>generate advanced search <span class="cf">for</span> all jamovi library</span>
<span id="cb72-2"><a href="#cb72-2" tabindex="-1"></a>jamovi_library_names <span class="ot">&lt;-</span> <span class="fu">readLines</span>(<span class="st">"https://raw.githubusercontent.com/jonathon-love/jamovi-library/master/modules.yaml"</span>)</span>
<span id="cb72-3"><a href="#cb72-3" tabindex="-1"></a></span>
<span id="cb72-4"><a href="#cb72-4" tabindex="-1"></a>jamovi_library_names <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_extract</span>(</span>
<span id="cb72-5"><a href="#cb72-5" tabindex="-1"></a>  <span class="at">string =</span> jamovi_library_names,</span>
<span id="cb72-6"><a href="#cb72-6" tabindex="-1"></a>  <span class="at">pattern =</span> <span class="st">"github.com/(.*).git"</span>)</span>
<span id="cb72-7"><a href="#cb72-7" tabindex="-1"></a></span>
<span id="cb72-8"><a href="#cb72-8" tabindex="-1"></a>jamovi_library_names <span class="ot">&lt;-</span> jamovi_library_names[<span class="sc">!</span><span class="fu">is.na</span>(jamovi_library_names)]</span>
<span id="cb72-9"><a href="#cb72-9" tabindex="-1"></a></span>
<span id="cb72-10"><a href="#cb72-10" tabindex="-1"></a>jamovi_library_names <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">"github.com/|.git"</span>,</span>
<span id="cb72-11"><a href="#cb72-11" tabindex="-1"></a>                             <span class="at">replacement =</span> <span class="st">""</span>,</span>
<span id="cb72-12"><a href="#cb72-12" tabindex="-1"></a>                             <span class="at">x =</span> jamovi_library_names)</span>
<span id="cb72-13"><a href="#cb72-13" tabindex="-1"></a></span>
<span id="cb72-14"><a href="#cb72-14" tabindex="-1"></a>jamovi_library_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"jamovi/jmv"</span>, jamovi_library_names)</span>
<span id="cb72-15"><a href="#cb72-15" tabindex="-1"></a></span>
<span id="cb72-16"><a href="#cb72-16" tabindex="-1"></a>jamovi_library_names <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">"/"</span>,</span>
<span id="cb72-17"><a href="#cb72-17" tabindex="-1"></a>                              <span class="at">replacement =</span> <span class="st">"%2F"</span>,</span>
<span id="cb72-18"><a href="#cb72-18" tabindex="-1"></a>                              <span class="at">x =</span> jamovi_library_names)</span>
<span id="cb72-19"><a href="#cb72-19" tabindex="-1"></a></span>
<span id="cb72-20"><a href="#cb72-20" tabindex="-1"></a>query <span class="ot">&lt;-</span> <span class="st">"type: Level"</span></span>
<span id="cb72-21"><a href="#cb72-21" tabindex="-1"></a></span>
<span id="cb72-22"><a href="#cb72-22" tabindex="-1"></a>repos <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"repo%3A"</span>,jamovi_library_names,<span class="st">"+"</span>)</span>
<span id="cb72-23"><a href="#cb72-23" tabindex="-1"></a></span>
<span id="cb72-24"><a href="#cb72-24" tabindex="-1"></a>repos <span class="ot">&lt;-</span> <span class="fu">paste0</span>(repos, <span class="at">collapse =</span> <span class="st">""</span>)</span>
<span id="cb72-25"><a href="#cb72-25" tabindex="-1"></a></span>
<span id="cb72-26"><a href="#cb72-26" tabindex="-1"></a>repos <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">+$"</span>,</span>
<span id="cb72-27"><a href="#cb72-27" tabindex="-1"></a>              <span class="at">replacement =</span> <span class="st">""</span>,</span>
<span id="cb72-28"><a href="#cb72-28" tabindex="-1"></a>              <span class="at">x =</span> repos)</span>
<span id="cb72-29"><a href="#cb72-29" tabindex="-1"></a></span>
<span id="cb72-30"><a href="#cb72-30" tabindex="-1"></a>github_search <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://github.com/search?q="</span>,</span>
<span id="cb72-31"><a href="#cb72-31" tabindex="-1"></a>                        query,</span>
<span id="cb72-32"><a href="#cb72-32" tabindex="-1"></a>                        <span class="st">"+"</span>,</span>
<span id="cb72-33"><a href="#cb72-33" tabindex="-1"></a>                        repos,</span>
<span id="cb72-34"><a href="#cb72-34" tabindex="-1"></a>                        <span class="st">"&amp;type=Code&amp;ref=advsearch&amp;l=&amp;l="</span>)</span>
<span id="cb72-35"><a href="#cb72-35" tabindex="-1"></a></span>
<span id="cb72-36"><a href="#cb72-36" tabindex="-1"></a><span class="fu">cat</span>(github_search)</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="library-development-status">Library Development Status<a class="anchor" aria-label="anchor" href="#library-development-status"></a>
</h4>
<p><a href="https://ci.appveyor.com/project/jonathon-love/jamovi-library/history" class="external-link uri">https://ci.appveyor.com/project/jonathon-love/jamovi-library/history</a></p>
</div>
<div class="section level4">
<h4 id="yaml-1">YAML<a class="anchor" aria-label="anchor" href="#yaml-1"></a>
</h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/cdLNKUoMc6c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
<div class="section level4">
<h4 id="rstudio-options">RStudio options<a class="anchor" aria-label="anchor" href="#rstudio-options"></a>
</h4>
<div class="section level5">
<h5 id="gitignore">.gitignore<a class="anchor" aria-label="anchor" href="#gitignore"></a>
</h5>
<p>add following to .gitignore file</p>
<pre><code># jamovi
/build/
/build-*/
*.jmo</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="r-version">R version<a class="anchor" aria-label="anchor" href="#r-version"></a>
</h4>
<p>Try to use compatible packages with the jamovi‚Äôs R version.</p>
<p>Use: <strong>R 4.0.5</strong> <a href="https://cran.r-project.org/bin/macosx/R-4.0.5.pkg" class="external-link uri">https://cran.r-project.org/bin/macosx/R-4.0.5.pkg</a></p>
<p>Use packages from mran:</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>repos <span class="op">=</span> <span class="st">"https://cran.microsoft.com/snapshot/2021-04-01"</span></span>
<span>                <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="base-r-packages-within-jamovi">Base R packages within jamovi<a class="anchor" aria-label="anchor" href="#base-r-packages-within-jamovi"></a>
</h4>
<pre><code>jamovi.app/Contents/Resources/modules/base/R

this folder contains base R packages used for jamovi.

jmvtools::install() prevent the packages already installed in base/R from being installed into your module. 

(jmvtools is an R package which is a thin wrapper around the jamovi-compiler. The jamovi-compiler is written in javascript)

That cause problems if you are using different package versions. So it is best to keep up with suggested 'mran' version. </code></pre>
</div>
<div class="section level4">
<h4 id="electron">Electron<a class="anchor" aria-label="anchor" href="#electron"></a>
</h4>
<p>jamovi is electron based. See R, shiny, and electron based
application development here: <a href="https://github.com/sbalci/clinicopathological#deploying-a-shiny-app-as-a-desktop-application-with-electron" class="external-link">Deploying
a Shiny app as a desktop application with Electron</a></p>
</div>
<div class="section level4">
<h4 id="project-structure">Project Structure<a class="anchor" aria-label="anchor" href="#project-structure"></a>
</h4>
<p><a href="https://dev.jamovi.org/info_project-structure.html" class="external-link uri">https://dev.jamovi.org/info_project-structure.html</a></p>
<p><a href="https://forum.jamovi.org/viewtopic.php?f=12&amp;t=1253&amp;p=4251&amp;hilit=npm#p4251" class="external-link uri">https://forum.jamovi.org/viewtopic.php?f=12&amp;t=1253&amp;p=4251&amp;hilit=npm#p4251</a></p>
<blockquote>
<p>the easiest way to build jamovi on macOS is to use our dev bundle. <a href="https://www.jamovi.org/downloads/jamovi-dev.zip" class="external-link uri">https://www.jamovi.org/downloads/jamovi-dev.zip</a> if you
navigate to the <code>jamovi.app/Contents/Resources</code> folder,
you‚Äôll find a package.json which contains a bunch of different build
commands. you can issue commands like: npm run build:client npm run
build:server npm run build:analyses:jmv depending on which component
you‚Äôre wanting to build.</p>
</blockquote>
</div>
</div>
<div class="section level3">
<h3 id="other-codes">Other Codes<a class="anchor" aria-label="anchor" href="#other-codes"></a>
</h3>
</div>
<div class="section level3">
<h3 id="add-datasets">Add Datasets<a class="anchor" aria-label="anchor" href="#add-datasets"></a>
</h3>
<pre><code>make a data folder (same as with an R package), and then you put entries in your 0000.yaml file:
https://github.com/gamlj/gamlj/blob/master/jamovi/0000.yaml#L47-L108
jamovi/0000.yaml:47-108
datasets:
  - name: qsport
    path: qsport.csv
    description: Training hours
    tags:</code></pre>
<p>.omv and .csv allowed. excel is also allowed but user does not see if
it is csv or excel file.</p>
</div>
<div class="section level3">
<h3 id="error-messages">Error messages<a class="anchor" aria-label="anchor" href="#error-messages"></a>
</h3>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>outcome<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="cn">NA</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span> <span class="op">!</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">outcome</span><span class="op">)</span> <span class="op">||</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">outcome</span> <span class="op">!=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">outcome</span> <span class="op">!=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">'Outcome variable must only contains 1s and 0s'</span><span class="op">)</span></span></code></pre></div>
<p>it‚Äôs good to test lots of different data sets that a user may have ‚Ä¶
include missing values, really large values, etc. etc. and make sure
your analyses always handle them, and provide useful error messages for
why an analysis doesn‚Äôt work. you don‚Äôt want to leave the user uncertain
why something isn‚Äôt working ‚Ä¶ otherwise they just give up.</p>
<p>part of our philosophy is that people shouldn‚Äôt have to set their
data up if they can‚Äôt be bothered ‚Ä¶ because with large data sets it can
take a lot of time. so i‚Äôd encourage you to treat whatever the user
provides you with as continuous, by converting it with toNumeric() ‚Ä¶
more on our data philosophy here: <a href="https://dev.jamovi.org/tuts0202-handling-data.html" class="external-link uri">https://dev.jamovi.org/tuts0202-handling-data.html</a></p>
<p><a href="https://youtu.be/oWZrrWc6e74" class="external-link uri">https://youtu.be/oWZrrWc6e74</a></p>
<p>in the options, you‚Äôve got Survival Curve, and in the results, it‚Äôs
Survival Plot ‚Ä¶ i‚Äôd encourage you to make these consistent. also, if the
Survival Curve is unchecked, i‚Äôd hide the Surival plot, rather than
leaving all that vacant space there.</p>
<p>visible: (optionName) <a href="https://github.com/jamovi/jmv/blob/master/jamovi/ttestis.r.yaml#L408-L416" class="external-link uri">https://github.com/jamovi/jmv/blob/master/jamovi/ttestis.r.yaml#L408-L416</a>
jamovi/ttestis.r.yaml:408-416 - name: qq type: Image description: Q-Q
plot width: 350 height: 300</p>
<p>is there a variable type for dates in jamovi? Can I force a user to
add only a date to a VariablesListBox? I tried to get info from a
self<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi><mi>p</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">options</annotation></semantics></math>var
via lubridate::is.Date and is.na.POSIXlt but it did not work hi, we
don‚Äôt have a date data type at this time ‚Ä¶ only integer, numeric, and
character ‚Ä¶ you could have people enter dates as character, and parse
them yourself, but i appreciate that‚Äôs a bit of a hack</p>
<p>Thank you. Dates are always a problem in my routine practice. I work
with many international colleagues and always date column is a mess, and
people calculate survival time very differently. I want to have raw
dates so that I can calculate survival time. I will try somehow going
around.</p>
<p>learn YAML syntax</p>
<p>it‚Äôs a pretty straightforward syntax ‚Ä¶ you‚Äôve basically got ‚Äòobjects‚Äô
where each of the elements have names, and you‚Äôve got arrays, where each
of the objects have an index. and that‚Äôs more-or-less all there is to
it. you can take a look at jmv for examples: <a href="https://github.com/jamovi/jmv/tree/master/jamovi" class="external-link uri">https://github.com/jamovi/jmv/tree/master/jamovi</a></p>
<p>I don‚Äôt think we‚Äôve got a list of allowed parameters anywhere.
Probably your best bet is to browse through the .yaml files in jmv. I
think you‚Äôll find there‚Äôs not that many parameter names.</p>
<p>as a work-around, once it‚Äôs installed the package from the Remotes,
you can remove it from the DESCRIPTION and it won‚Äôt keep installing it
over and over</p>
<p>Hi, there are scarce sources for pairwise chi-square tests. I have
found rmngb::pairwise.chisq.test() and rmngb::pairwise.fisher.test() but
that package has been removed from CRAN. Would you consider implementing
this feature? I also thought to add these functions in a module, but I
want to ask your policy about removed packages as well. 4 replies</p>
<p>jonathon:whale2: 18 days ago provided the module can be built with an
entry in REMOTES, we don‚Äôt care if it‚Äôs not on CRAN</p>
<p>jonathon:whale2: 18 days ago ‚Ä¶ but you‚Äôre obviously taking a risk
using something which isn‚Äôt maintained</p>
<p>Serdar Balci 18 days ago Thanks. Maybe just copying that function
with appropriate reference may solve maintenance issue. I will think
about it.</p>
<p>jonathon:whale2: 18 days ago oh yup</p>
<hr>
<p>I have a question. I want to user to enter cut points in a box and
then evaluate it as a vector. the function is this: summary(km_fit,
times = c(12,36,60) I want user to define times vector. I have tried the
following: utimes &lt;-
jmvcore::decomposeTerms(self<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi><mi>p</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">options</annotation></semantics></math>cutp)
utimes &lt;- as.vector(utimes) summary(km_fit, times = utimes a.yaml is
as follows: - name: cutp title: Define at least two cutpoints (in
months) for survival table type: String default: ‚Äò12, 36, 60‚Äô Would you
please guide me to convert input into a vector. (edited) 3 replies</p>
<p>Serdar Balci 13 hours ago I think this seems to work: utimes &lt;-
self<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi><mi>p</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">options</annotation></semantics></math>cutp
utimes &lt;- strsplit(utimes, ‚Äú,‚Äù) utimes &lt;- purrr::reduce(utimes,
as.vector) utimes &lt;- as.numeric(utimes) (edited)</p>
<p>jonathon:whale2: 5 hours ago yup, this will do it too:
as.numeric(strsplit(utimes, ‚Äò,‚Äô)[[1]]) (it‚Äôs better if you can avoid
using purrr, because it‚Äôs not really necessary, and you‚Äôre better off
reducing the amount of dependencies you use)</p>
<p>Serdar Balci 5 hours ago thank you. :+1:</p>
<hr>
<p>so wrt width/height, you can set that in the .r.yaml like so: <a href="https://github.com/kylehamilton/MAJOR/blob/master/jamovi/bayesmetacorr.r.yaml#L46-L49" class="external-link uri">https://github.com/kylehamilton/MAJOR/blob/master/jamovi/bayesmetacorr.r.yaml#L46-L49</a>
it‚Äôs possible to do it programmatically, with ‚Ä¶ image$setSize()</p>
<hr>
<pre><code>Serdar Balci  4:48 PM
 I think I am getting familiar with the codes :)
QuickTime Movie
JamoviModule.mov
4 MB QuickTime Movie‚Äî Click to download</code></pre>
<pre><code>Serdar Balci Nov 29th, 2019 at 12:39 PM
Module names now have R version and OS in them. Does it mean that this will not work in windows Installing ClinicoPath_0.0.1-macos-R3.3.0.jmo

4 replies

jonathon:whale2:  3 months ago
It depends on whether there are any native R packages in your modules dependencies. Most modules do, but some don't. (You'll notice there's a "uses native" property there now too ... my intention is to use that to determine if a module can be used cross platform or not)

jonathon:whale2:  3 months ago
If there's native dependencies, then the module needs to be built separately for each os.

jonathon:whale2:  3 months ago
But I can take care of building it for different oses

Serdar Balci  3 months ago
Oh, I see. Thank you :slightly_smiling_face:</code></pre>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="develop">Develop<a class="anchor" aria-label="anchor" href="#develop"></a>
</h2>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" tabindex="-1"></a>library, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb80-2"><a href="#cb80-2" tabindex="-1"></a><span class="co"># install.packages('jmvtools', repos=c('https://repo.jamovi.org', 'https://cran.r-project.org'))</span></span>
<span id="cb80-3"><a href="#cb80-3" tabindex="-1"></a></span>
<span id="cb80-4"><a href="#cb80-4" tabindex="-1"></a><span class="co"># jmvtools::check("C://Program Files//jamovi//bin")</span></span>
<span id="cb80-5"><a href="#cb80-5" tabindex="-1"></a></span>
<span id="cb80-6"><a href="#cb80-6" tabindex="-1"></a><span class="co"># jmvtools::install(home = "C://Program Files//jamovi//bin")</span></span>
<span id="cb80-7"><a href="#cb80-7" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb80-8"><a href="#cb80-8" tabindex="-1"></a><span class="co"># devtools::build(path = "C:\\ClinicoPathOutput")</span></span>
<span id="cb80-9"><a href="#cb80-9" tabindex="-1"></a></span>
<span id="cb80-10"><a href="#cb80-10" tabindex="-1"></a><span class="co"># .libPaths(new = "C:\\ClinicoPathLibrary")</span></span>
<span id="cb80-11"><a href="#cb80-11" tabindex="-1"></a></span>
<span id="cb80-12"><a href="#cb80-12" tabindex="-1"></a><span class="co"># devtools::build(path = "C:\\ClinicoPathOutput", binary = TRUE, args = c('--preclean'))</span></span>
<span id="cb80-13"><a href="#cb80-13" tabindex="-1"></a></span>
<span id="cb80-14"><a href="#cb80-14" tabindex="-1"></a><span class="fu">Sys.setenv</span>(<span class="at">TZ=</span><span class="st">"Europe/Istanbul"</span>)</span>
<span id="cb80-15"><a href="#cb80-15" tabindex="-1"></a></span>
<span id="cb80-16"><a href="#cb80-16" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"jmvtools"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" tabindex="-1"></a></span>
<span id="cb81-2"><a href="#cb81-2" tabindex="-1"></a>check, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb81-3"><a href="#cb81-3" tabindex="-1"></a></span>
<span id="cb81-4"><a href="#cb81-4" tabindex="-1"></a>jmvtools<span class="sc">::</span><span class="fu">check</span>()</span>
<span id="cb81-5"><a href="#cb81-5" tabindex="-1"></a></span>
<span id="cb81-6"><a href="#cb81-6" tabindex="-1"></a><span class="co"># rhub::check_on_macos()</span></span>
<span id="cb81-7"><a href="#cb81-7" tabindex="-1"></a></span>
<span id="cb81-8"><a href="#cb81-8" tabindex="-1"></a><span class="co"># rhub::check_for_cran()</span></span>
<span id="cb81-9"><a href="#cb81-9" tabindex="-1"></a></span>
<span id="cb81-10"><a href="#cb81-10" tabindex="-1"></a><span class="co"># codemetar::write_codemeta()</span></span>
<span id="cb81-11"><a href="#cb81-11" tabindex="-1"></a></span>
<span id="cb81-12"><a href="#cb81-12" tabindex="-1"></a></span>
<span id="cb81-13"><a href="#cb81-13" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">check</span>()</span></code></pre></div>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" tabindex="-1"></a>pkgdown build, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb82-2"><a href="#cb82-2" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(<span class="st">'/Users/serdarbalciold/histopathRprojects/ClinicoPath/README.Rmd'</span>,  <span class="at">encoding =</span> <span class="st">'UTF-8'</span>, <span class="at">knit_root_dir =</span> <span class="st">'~/histopathRprojects/ClinicoPath'</span>, <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb82-3"><a href="#cb82-3" tabindex="-1"></a></span>
<span id="cb82-4"><a href="#cb82-4" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">document</span>()</span>
<span id="cb82-5"><a href="#cb82-5" tabindex="-1"></a></span>
<span id="cb82-6"><a href="#cb82-6" tabindex="-1"></a>pkgdown<span class="sc">::</span><span class="fu">build_site</span>()</span></code></pre></div>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" tabindex="-1"></a>git force push, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb83-2"><a href="#cb83-2" tabindex="-1"></a><span class="co"># gitUpdateCommitPush</span></span>
<span id="cb83-3"><a href="#cb83-3" tabindex="-1"></a>CommitMessage <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"updated on "</span>, <span class="fu">Sys.time</span>(), <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb83-4"><a href="#cb83-4" tabindex="-1"></a>wd <span class="ot">&lt;-</span> <span class="fu">getwd</span>()</span>
<span id="cb83-5"><a href="#cb83-5" tabindex="-1"></a>gitCommand <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"cd "</span>, wd, <span class="st">" </span><span class="sc">\n</span><span class="st"> git add . </span><span class="sc">\n</span><span class="st"> git commit --message '"</span>, CommitMessage, <span class="st">"' </span><span class="sc">\n</span><span class="st"> git push origin master </span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb83-6"><a href="#cb83-6" tabindex="-1"></a><span class="co"># gitCommand &lt;- paste("cd ", wd, " \n git add . \n git commit --no-verify --message '", CommitMessage, "' \n git push origin master \n", sep = "")</span></span>
<span id="cb83-7"><a href="#cb83-7" tabindex="-1"></a><span class="fu">system</span>(<span class="at">command =</span> gitCommand, <span class="at">intern =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" tabindex="-1"></a>add analysis, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb84-2"><a href="#cb84-2" tabindex="-1"></a></span>
<span id="cb84-3"><a href="#cb84-3" tabindex="-1"></a><span class="co"># jmvtools::install()</span></span>
<span id="cb84-4"><a href="#cb84-4" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb84-5"><a href="#cb84-5" tabindex="-1"></a><span class="co"># jmvtools::create('SuperAwesome')</span></span>
<span id="cb84-6"><a href="#cb84-6" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb84-7"><a href="#cb84-7" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='ttest', title='Independent Samples T-Test')</span></span>
<span id="cb84-8"><a href="#cb84-8" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb84-9"><a href="#cb84-9" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='survival', title='survival')</span></span>
<span id="cb84-10"><a href="#cb84-10" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb84-11"><a href="#cb84-11" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='correlation', title='correlation')</span></span>
<span id="cb84-12"><a href="#cb84-12" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb84-13"><a href="#cb84-13" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='tableone', title='TableOne')</span></span>
<span id="cb84-14"><a href="#cb84-14" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb84-15"><a href="#cb84-15" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='crosstable', title='CrossTable')</span></span>
<span id="cb84-16"><a href="#cb84-16" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb84-17"><a href="#cb84-17" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb84-18"><a href="#cb84-18" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='writesummary', title='WriteSummary')</span></span>
<span id="cb84-19"><a href="#cb84-19" tabindex="-1"></a></span>
<span id="cb84-20"><a href="#cb84-20" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='finalfit', title='FinalFit')</span></span>
<span id="cb84-21"><a href="#cb84-21" tabindex="-1"></a></span>
<span id="cb84-22"><a href="#cb84-22" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='multisurvival', title='FinalFit Multivariate Survival')</span></span>
<span id="cb84-23"><a href="#cb84-23" tabindex="-1"></a></span>
<span id="cb84-24"><a href="#cb84-24" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='report', title='Report General Features')</span></span>
<span id="cb84-25"><a href="#cb84-25" tabindex="-1"></a></span>
<span id="cb84-26"><a href="#cb84-26" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='frequencies', title='Frequencies')</span></span>
<span id="cb84-27"><a href="#cb84-27" tabindex="-1"></a></span>
<span id="cb84-28"><a href="#cb84-28" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='statsplot', title='GGStatsPlot')</span></span>
<span id="cb84-29"><a href="#cb84-29" tabindex="-1"></a></span>
<span id="cb84-30"><a href="#cb84-30" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='statsplot2', title='GGStatsPlot2')</span></span>
<span id="cb84-31"><a href="#cb84-31" tabindex="-1"></a></span>
<span id="cb84-32"><a href="#cb84-32" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='scat2', title='scat2')</span></span>
<span id="cb84-33"><a href="#cb84-33" tabindex="-1"></a></span>
<span id="cb84-34"><a href="#cb84-34" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='decisioncalculator', title='Decision Calculator')</span></span>
<span id="cb84-35"><a href="#cb84-35" tabindex="-1"></a></span>
<span id="cb84-36"><a href="#cb84-36" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='agreement', title='Interrater Intrarater Reliability')</span></span>
<span id="cb84-37"><a href="#cb84-37" tabindex="-1"></a></span>
<span id="cb84-38"><a href="#cb84-38" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='cluster', title='Cluster Analysis')</span></span>
<span id="cb84-39"><a href="#cb84-39" tabindex="-1"></a></span>
<span id="cb84-40"><a href="#cb84-40" tabindex="-1"></a><span class="co"># jmvtools::addAnalysis(name='tree', title='Decision Tree')</span></span></code></pre></div>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" tabindex="-1"></a>devtools install, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb85-2"><a href="#cb85-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install</span>()</span></code></pre></div>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" tabindex="-1"></a>jmvtools install, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb86-2"><a href="#cb86-2" tabindex="-1"></a><span class="co"># jmvtools::check()</span></span>
<span id="cb86-3"><a href="#cb86-3" tabindex="-1"></a>jmvtools<span class="sc">::</span><span class="fu">install</span>()</span></code></pre></div>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" tabindex="-1"></a>construct, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb87-2"><a href="#cb87-2" tabindex="-1"></a>formula <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>), <span class="at">dep =</span> <span class="st">"D"</span>)</span>
<span id="cb87-3"><a href="#cb87-3" tabindex="-1"></a></span>
<span id="cb87-4"><a href="#cb87-4" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">list</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="fu">c</span>(<span class="st">"C"</span>, <span class="st">"D"</span>)), <span class="at">dep =</span> <span class="st">"E"</span>)</span>
<span id="cb87-5"><a href="#cb87-5" tabindex="-1"></a></span>
<span id="cb87-6"><a href="#cb87-6" tabindex="-1"></a></span>
<span id="cb87-7"><a href="#cb87-7" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">list</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span>
<span id="cb87-8"><a href="#cb87-8" tabindex="-1"></a></span>
<span id="cb87-9"><a href="#cb87-9" tabindex="-1"></a>vars <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">decomposeFormula</span>(<span class="at">formula =</span> formula)</span>
<span id="cb87-10"><a href="#cb87-10" tabindex="-1"></a></span>
<span id="cb87-11"><a href="#cb87-11" tabindex="-1"></a><span class="fu">unlist</span>(vars)</span>
<span id="cb87-12"><a href="#cb87-12" tabindex="-1"></a></span>
<span id="cb87-13"><a href="#cb87-13" tabindex="-1"></a>cformula <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(<span class="at">components =</span> formula)</span>
<span id="cb87-14"><a href="#cb87-14" tabindex="-1"></a></span>
<span id="cb87-15"><a href="#cb87-15" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(<span class="st">"A"</span>)</span>
<span id="cb87-16"><a href="#cb87-16" tabindex="-1"></a></span>
<span id="cb87-17"><a href="#cb87-17" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(<span class="at">components =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span>
<span id="cb87-18"><a href="#cb87-18" tabindex="-1"></a></span>
<span id="cb87-19"><a href="#cb87-19" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">decomposeTerm</span>(<span class="at">term =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span>
<span id="cb87-20"><a href="#cb87-20" tabindex="-1"></a></span>
<span id="cb87-21"><a href="#cb87-21" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">decomposeTerm</span>(<span class="at">term =</span> formula)</span>
<span id="cb87-22"><a href="#cb87-22" tabindex="-1"></a></span>
<span id="cb87-23"><a href="#cb87-23" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">decomposeTerm</span>(<span class="at">term =</span> cformula)</span>
<span id="cb87-24"><a href="#cb87-24" tabindex="-1"></a></span>
<span id="cb87-25"><a href="#cb87-25" tabindex="-1"></a></span>
<span id="cb87-26"><a href="#cb87-26" tabindex="-1"></a></span>
<span id="cb87-27"><a href="#cb87-27" tabindex="-1"></a>composeTerm <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(<span class="at">components =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span>
<span id="cb87-28"><a href="#cb87-28" tabindex="-1"></a></span>
<span id="cb87-29"><a href="#cb87-29" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">decomposeTerm</span>(<span class="at">term =</span> composeTerm)</span>
<span id="cb87-30"><a href="#cb87-30" tabindex="-1"></a></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" tabindex="-1"></a>read data, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb88-2"><a href="#cb88-2" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span></code></pre></div>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" tabindex="-1"></a>writesummary, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb89-2"><a href="#cb89-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install</span>(<span class="at">upgrade =</span> <span class="cn">FALSE</span>, <span class="at">quick =</span> <span class="cn">TRUE</span>)</span>
<span id="cb89-3"><a href="#cb89-3" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb89-4"><a href="#cb89-4" tabindex="-1"></a></span>
<span id="cb89-5"><a href="#cb89-5" tabindex="-1"></a><span class="co"># library("ClinicoPath")</span></span>
<span id="cb89-6"><a href="#cb89-6" tabindex="-1"></a></span>
<span id="cb89-7"><a href="#cb89-7" tabindex="-1"></a>deneme<span class="sc">$</span>Age <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(deneme<span class="sc">$</span>Age))</span>
<span id="cb89-8"><a href="#cb89-8" tabindex="-1"></a></span>
<span id="cb89-9"><a href="#cb89-9" tabindex="-1"></a>ClinicoPath<span class="sc">::</span><span class="fu">writesummary</span>(<span class="at">data =</span> deneme, <span class="at">vars =</span> Age)</span>
<span id="cb89-10"><a href="#cb89-10" tabindex="-1"></a></span>
<span id="cb89-11"><a href="#cb89-11" tabindex="-1"></a>ggstatsplot<span class="sc">::</span><span class="fu">normality_message</span>(deneme<span class="sc">$</span>Age, <span class="st">"Age"</span>)</span>
<span id="cb89-12"><a href="#cb89-12" tabindex="-1"></a></span>
<span id="cb89-13"><a href="#cb89-13" tabindex="-1"></a></span>
<span id="cb89-14"><a href="#cb89-14" tabindex="-1"></a>ClinicoPath<span class="sc">::</span><span class="fu">writesummary</span>(</span>
<span id="cb89-15"><a href="#cb89-15" tabindex="-1"></a>    <span class="at">data =</span> deneme,</span>
<span id="cb89-16"><a href="#cb89-16" tabindex="-1"></a>    <span class="at">vars =</span> Age)</span>
<span id="cb89-17"><a href="#cb89-17" tabindex="-1"></a></span></code></pre></div>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" tabindex="-1"></a>finalfit, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb90-2"><a href="#cb90-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install</span>(<span class="at">upgrade =</span> <span class="cn">FALSE</span>, <span class="at">quick =</span> <span class="cn">TRUE</span>)</span>
<span id="cb90-3"><a href="#cb90-3" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb90-4"><a href="#cb90-4" tabindex="-1"></a><span class="fu">library</span>(survival)</span>
<span id="cb90-5"><a href="#cb90-5" tabindex="-1"></a><span class="fu">library</span>(finalfit)</span>
<span id="cb90-6"><a href="#cb90-6" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb90-7"><a href="#cb90-7" tabindex="-1"></a>ClinicoPath<span class="sc">::</span><span class="fu">finalfit</span>(<span class="at">data =</span> deneme,</span>
<span id="cb90-8"><a href="#cb90-8" tabindex="-1"></a>                      <span class="at">explanatory =</span> Sex,</span>
<span id="cb90-9"><a href="#cb90-9" tabindex="-1"></a>                      <span class="at">outcome =</span> Outcome,</span>
<span id="cb90-10"><a href="#cb90-10" tabindex="-1"></a>                      <span class="at">overalltime =</span> OverallTime)</span></code></pre></div>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" tabindex="-1"></a>decision, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb91-2"><a href="#cb91-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install</span>(<span class="at">upgrade =</span> <span class="cn">FALSE</span>, <span class="at">quick =</span> <span class="cn">TRUE</span>)</span>
<span id="cb91-3"><a href="#cb91-3" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb91-4"><a href="#cb91-4" tabindex="-1"></a></span>
<span id="cb91-5"><a href="#cb91-5" tabindex="-1"></a>ClinicoPath<span class="sc">::</span><span class="fu">decision</span>(</span>
<span id="cb91-6"><a href="#cb91-6" tabindex="-1"></a>    <span class="at">data =</span> deneme,</span>
<span id="cb91-7"><a href="#cb91-7" tabindex="-1"></a>    <span class="at">gold =</span> Outcome,</span>
<span id="cb91-8"><a href="#cb91-8" tabindex="-1"></a>    <span class="at">goldPositive =</span> <span class="st">"1"</span>,</span>
<span id="cb91-9"><a href="#cb91-9" tabindex="-1"></a>    <span class="at">newtest =</span> Smoker,</span>
<span id="cb91-10"><a href="#cb91-10" tabindex="-1"></a>    <span class="at">testPositive =</span> <span class="st">"TRUE"</span>)</span>
<span id="cb91-11"><a href="#cb91-11" tabindex="-1"></a></span>
<span id="cb91-12"><a href="#cb91-12" tabindex="-1"></a>ClinicoPath<span class="sc">::</span><span class="fu">decision</span>(</span>
<span id="cb91-13"><a href="#cb91-13" tabindex="-1"></a>    <span class="at">data =</span> deneme,</span>
<span id="cb91-14"><a href="#cb91-14" tabindex="-1"></a>    <span class="at">gold =</span> LVI,</span>
<span id="cb91-15"><a href="#cb91-15" tabindex="-1"></a>    <span class="at">goldPositive =</span> <span class="st">"Present"</span>,</span>
<span id="cb91-16"><a href="#cb91-16" tabindex="-1"></a>    <span class="at">newtest =</span> PNI,</span>
<span id="cb91-17"><a href="#cb91-17" tabindex="-1"></a>    <span class="at">testPositive =</span> <span class="st">"Present"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" tabindex="-1"></a>eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb92-2"><a href="#cb92-2" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb92-3"><a href="#cb92-3" tabindex="-1"></a>ggstatsplot<span class="sc">::</span><span class="fu">ggbetweenstats</span>(<span class="at">data =</span> deneme,</span>
<span id="cb92-4"><a href="#cb92-4" tabindex="-1"></a>                            <span class="at">x =</span> LVI,</span>
<span id="cb92-5"><a href="#cb92-5" tabindex="-1"></a>                            <span class="at">y =</span> Age)</span></code></pre></div>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" tabindex="-1"></a>statsplot, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb93-2"><a href="#cb93-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install</span>(<span class="at">upgrade =</span> <span class="cn">FALSE</span>, <span class="at">quick =</span> <span class="cn">TRUE</span>)</span>
<span id="cb93-3"><a href="#cb93-3" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb93-4"><a href="#cb93-4" tabindex="-1"></a>ClinicoPath<span class="sc">::</span><span class="fu">statsplot</span>(</span>
<span id="cb93-5"><a href="#cb93-5" tabindex="-1"></a>    <span class="at">data =</span> deneme,</span>
<span id="cb93-6"><a href="#cb93-6" tabindex="-1"></a>    <span class="at">dep =</span> Age,</span>
<span id="cb93-7"><a href="#cb93-7" tabindex="-1"></a>    <span class="at">group =</span> Smoker)</span></code></pre></div>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" tabindex="-1"></a>decision <span class="dv">2</span>, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb94-2"><a href="#cb94-2" tabindex="-1"></a>mytable <span class="ot">&lt;-</span> <span class="fu">table</span>(deneme<span class="sc">$</span>Outcome, deneme<span class="sc">$</span>Smoker)</span>
<span id="cb94-3"><a href="#cb94-3" tabindex="-1"></a></span>
<span id="cb94-4"><a href="#cb94-4" tabindex="-1"></a>caret<span class="sc">::</span><span class="fu">confusionMatrix</span>(mytable)</span>
<span id="cb94-5"><a href="#cb94-5" tabindex="-1"></a><span class="fu">confusionMatrix</span>(pred, truth)</span>
<span id="cb94-6"><a href="#cb94-6" tabindex="-1"></a><span class="fu">confusionMatrix</span>(xtab, <span class="at">prevalence =</span> <span class="fl">0.25</span>)</span>
<span id="cb94-7"><a href="#cb94-7" tabindex="-1"></a></span>
<span id="cb94-8"><a href="#cb94-8" tabindex="-1"></a><span class="fu">levels</span>(deneme<span class="sc">$</span>Outcome)</span>
<span id="cb94-9"><a href="#cb94-9" tabindex="-1"></a></span>
<span id="cb94-10"><a href="#cb94-10" tabindex="-1"></a>mytable[<span class="dv">1</span>,<span class="dv">2</span>]</span>
<span id="cb94-11"><a href="#cb94-11" tabindex="-1"></a></span>
<span id="cb94-12"><a href="#cb94-12" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="st">"0"</span></span>
<span id="cb94-13"><a href="#cb94-13" tabindex="-1"></a></span>
<span id="cb94-14"><a href="#cb94-14" tabindex="-1"></a>mytable[d, <span class="st">"FALSE"</span>]</span>
<span id="cb94-15"><a href="#cb94-15" tabindex="-1"></a></span>
<span id="cb94-16"><a href="#cb94-16" tabindex="-1"></a>mytable[[<span class="dv">0</span>]]</span></code></pre></div>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" tabindex="-1"></a>construct formula, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb95-2"><a href="#cb95-2" tabindex="-1"></a>formula <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span>
<span id="cb95-3"><a href="#cb95-3" tabindex="-1"></a></span>
<span id="cb95-4"><a href="#cb95-4" tabindex="-1"></a>jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">list</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span>
<span id="cb95-5"><a href="#cb95-5" tabindex="-1"></a></span>
<span id="cb95-6"><a href="#cb95-6" tabindex="-1"></a>vars <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">decomposeFormula</span>(<span class="at">formula =</span> formula)</span>
<span id="cb95-7"><a href="#cb95-7" tabindex="-1"></a></span>
<span id="cb95-8"><a href="#cb95-8" tabindex="-1"></a>vars <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">decomposeTerms</span>(vars)</span>
<span id="cb95-9"><a href="#cb95-9" tabindex="-1"></a></span>
<span id="cb95-10"><a href="#cb95-10" tabindex="-1"></a></span>
<span id="cb95-11"><a href="#cb95-11" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">unlist</span>(vars)</span>
<span id="cb95-12"><a href="#cb95-12" tabindex="-1"></a></span>
<span id="cb95-13"><a href="#cb95-13" tabindex="-1"></a>formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(formula)</span>
<span id="cb95-14"><a href="#cb95-14" tabindex="-1"></a></span>
<span id="cb95-15"><a href="#cb95-15" tabindex="-1"></a></span>
<span id="cb95-16"><a href="#cb95-16" tabindex="-1"></a>my_group <span class="ot">&lt;-</span> <span class="st">"lvi"</span></span>
<span id="cb95-17"><a href="#cb95-17" tabindex="-1"></a>my_dep <span class="ot">&lt;-</span> <span class="st">"age"</span></span>
<span id="cb95-18"><a href="#cb95-18" tabindex="-1"></a></span>
<span id="cb95-19"><a href="#cb95-19" tabindex="-1"></a>formula <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">'x = '</span>, group, <span class="st">'y = '</span>, dep)</span>
<span id="cb95-20"><a href="#cb95-20" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(formula)</span>
<span id="cb95-21"><a href="#cb95-21" tabindex="-1"></a></span>
<span id="cb95-22"><a href="#cb95-22" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> glueformula<span class="sc">::</span><span class="fu">gf</span>(my_group, my_dep)</span>
<span id="cb95-23"><a href="#cb95-23" tabindex="-1"></a></span>
<span id="cb95-24"><a href="#cb95-24" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> glue<span class="sc">::</span><span class="fu">glue</span>( <span class="st">'x = '</span> , my_group, <span class="st">', y = '</span> , my_dep)</span>
<span id="cb95-25"><a href="#cb95-25" tabindex="-1"></a></span>
<span id="cb95-26"><a href="#cb95-26" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(myformula)</span>
<span id="cb95-27"><a href="#cb95-27" tabindex="-1"></a></span></code></pre></div>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" tabindex="-1"></a>eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb96-2"><a href="#cb96-2" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb96-3"><a href="#cb96-3" tabindex="-1"></a></span>
<span id="cb96-4"><a href="#cb96-4" tabindex="-1"></a><span class="fu">library</span>(survival)</span>
<span id="cb96-5"><a href="#cb96-5" tabindex="-1"></a>km_fit <span class="ot">&lt;-</span> <span class="fu">survfit</span>(<span class="fu">Surv</span>(OverallTime, Outcome) <span class="sc">~</span> LVI, <span class="at">data =</span> deneme)</span>
<span id="cb96-6"><a href="#cb96-6" tabindex="-1"></a></span>
<span id="cb96-7"><a href="#cb96-7" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb96-8"><a href="#cb96-8" tabindex="-1"></a>km_fit_median_df <span class="ot">&lt;-</span> <span class="fu">summary</span>(km_fit)</span>
<span id="cb96-9"><a href="#cb96-9" tabindex="-1"></a>km_fit_median_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(km_fit_median_df<span class="sc">$</span>table) <span class="sc">%&gt;%</span></span>
<span id="cb96-10"><a href="#cb96-10" tabindex="-1"></a>                janitor<span class="sc">::</span><span class="fu">clean_names</span>(<span class="at">dat =</span> ., <span class="at">case =</span> <span class="st">"snake"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb96-11"><a href="#cb96-11" tabindex="-1"></a>                tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">.data =</span> ., <span class="at">var =</span> <span class="st">"LVI"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" tabindex="-1"></a>construct formula <span class="dv">2</span>, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb97-2"><a href="#cb97-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb97-3"><a href="#cb97-3" tabindex="-1"></a><span class="fu">library</span>(survival)</span>
<span id="cb97-4"><a href="#cb97-4" tabindex="-1"></a></span>
<span id="cb97-5"><a href="#cb97-5" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb97-6"><a href="#cb97-6" tabindex="-1"></a></span>
<span id="cb97-7"><a href="#cb97-7" tabindex="-1"></a>myoveralltime <span class="ot">&lt;-</span> deneme<span class="sc">$</span>OverallTime</span>
<span id="cb97-8"><a href="#cb97-8" tabindex="-1"></a>myoutcome <span class="ot">&lt;-</span> deneme<span class="sc">$</span>Outcome</span>
<span id="cb97-9"><a href="#cb97-9" tabindex="-1"></a>myexplanatory <span class="ot">&lt;-</span> deneme<span class="sc">$</span>LVI</span>
<span id="cb97-10"><a href="#cb97-10" tabindex="-1"></a></span>
<span id="cb97-11"><a href="#cb97-11" tabindex="-1"></a><span class="fu">class</span>(myoveralltime)</span>
<span id="cb97-12"><a href="#cb97-12" tabindex="-1"></a><span class="fu">class</span>(myoutcome)</span>
<span id="cb97-13"><a href="#cb97-13" tabindex="-1"></a><span class="fu">typeof</span>(myexplanatory)</span>
<span id="cb97-14"><a href="#cb97-14" tabindex="-1"></a></span>
<span id="cb97-15"><a href="#cb97-15" tabindex="-1"></a><span class="fu">is.ordered</span>(myexplanatory)</span>
<span id="cb97-16"><a href="#cb97-16" tabindex="-1"></a></span>
<span id="cb97-17"><a href="#cb97-17" tabindex="-1"></a>formula2 <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"myexplanatory"</span>)</span>
<span id="cb97-18"><a href="#cb97-18" tabindex="-1"></a><span class="co"># formula2 &lt;- jmvcore::decomposeFormula(formula = formula2)</span></span>
<span id="cb97-19"><a href="#cb97-19" tabindex="-1"></a><span class="co"># formula2 &lt;- paste("", formula2)</span></span>
<span id="cb97-20"><a href="#cb97-20" tabindex="-1"></a><span class="co"># formula2 &lt;- as.formula(formula2)</span></span>
<span id="cb97-21"><a href="#cb97-21" tabindex="-1"></a>formula2 <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(formula2)</span>
<span id="cb97-22"><a href="#cb97-22" tabindex="-1"></a></span>
<span id="cb97-23"><a href="#cb97-23" tabindex="-1"></a></span>
<span id="cb97-24"><a href="#cb97-24" tabindex="-1"></a>formulaL <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"myoveralltime"</span>)</span>
<span id="cb97-25"><a href="#cb97-25" tabindex="-1"></a><span class="co"># formulaL &lt;- jmvcore::decomposeFormula(formula = formulaL)</span></span>
<span id="cb97-26"><a href="#cb97-26" tabindex="-1"></a></span>
<span id="cb97-27"><a href="#cb97-27" tabindex="-1"></a>formulaR <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"myoutcome"</span>)</span>
<span id="cb97-28"><a href="#cb97-28" tabindex="-1"></a><span class="co"># formulaR &lt;- jmvcore::decomposeFormula(formula = formulaR)</span></span>
<span id="cb97-29"><a href="#cb97-29" tabindex="-1"></a></span>
<span id="cb97-30"><a href="#cb97-30" tabindex="-1"></a>formula <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Surv("</span>, formulaL, <span class="st">","</span>, formulaR, <span class="st">")"</span>)</span>
<span id="cb97-31"><a href="#cb97-31" tabindex="-1"></a><span class="co"># formula &lt;- jmvcore::composeTerm(formula)</span></span>
<span id="cb97-32"><a href="#cb97-32" tabindex="-1"></a><span class="co"># formula &lt;- as.formula(formula)</span></span>
<span id="cb97-33"><a href="#cb97-33" tabindex="-1"></a><span class="co"># jmvcore::constructFormula(terms = c(formula, formula2))</span></span>
<span id="cb97-34"><a href="#cb97-34" tabindex="-1"></a></span>
<span id="cb97-35"><a href="#cb97-35" tabindex="-1"></a>deneme <span class="sc">%&gt;%</span></span>
<span id="cb97-36"><a href="#cb97-36" tabindex="-1"></a>  finalfit<span class="sc">::</span><span class="fu">finalfit</span>(formula, formula2) <span class="ot">-&gt;</span> tUni</span>
<span id="cb97-37"><a href="#cb97-37" tabindex="-1"></a></span>
<span id="cb97-38"><a href="#cb97-38" tabindex="-1"></a>tUni</span></code></pre></div>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" tabindex="-1"></a>eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb98-2"><a href="#cb98-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb98-3"><a href="#cb98-3" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb98-4"><a href="#cb98-4" tabindex="-1"></a></span>
<span id="cb98-5"><a href="#cb98-5" tabindex="-1"></a>results <span class="ot">&lt;-</span> deneme <span class="sc">%&gt;%</span></span>
<span id="cb98-6"><a href="#cb98-6" tabindex="-1"></a>                ggstatsplot<span class="sc">::</span><span class="fu">ggbetweenstats</span>(LVI, Age)</span>
<span id="cb98-7"><a href="#cb98-7" tabindex="-1"></a>results</span>
<span id="cb98-8"><a href="#cb98-8" tabindex="-1"></a></span>
<span id="cb98-9"><a href="#cb98-9" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> deneme<span class="sc">$</span>Age</span>
<span id="cb98-10"><a href="#cb98-10" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> deneme<span class="sc">$</span>LVI</span>
<span id="cb98-11"><a href="#cb98-11" tabindex="-1"></a></span>
<span id="cb98-12"><a href="#cb98-12" tabindex="-1"></a></span>
<span id="cb98-13"><a href="#cb98-13" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"mygroup"</span>)</span>
<span id="cb98-14"><a href="#cb98-14" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(mygroup)</span>
<span id="cb98-15"><a href="#cb98-15" tabindex="-1"></a></span>
<span id="cb98-16"><a href="#cb98-16" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"mydep"</span>)</span>
<span id="cb98-17"><a href="#cb98-17" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(mydep)</span>
<span id="cb98-18"><a href="#cb98-18" tabindex="-1"></a></span>
<span id="cb98-19"><a href="#cb98-19" tabindex="-1"></a></span>
<span id="cb98-20"><a href="#cb98-20" tabindex="-1"></a><span class="co"># not working</span></span>
<span id="cb98-21"><a href="#cb98-21" tabindex="-1"></a><span class="co"># eval(mygroup)</span></span>
<span id="cb98-22"><a href="#cb98-22" tabindex="-1"></a><span class="co"># rlang::eval_tidy(mygroup)</span></span>
<span id="cb98-23"><a href="#cb98-23" tabindex="-1"></a><span class="co"># !!mygroup</span></span>
<span id="cb98-24"><a href="#cb98-24" tabindex="-1"></a><span class="co"># mygroup</span></span>
<span id="cb98-25"><a href="#cb98-25" tabindex="-1"></a><span class="co"># sym(mygroup)</span></span>
<span id="cb98-26"><a href="#cb98-26" tabindex="-1"></a><span class="co"># quote(mygroup)</span></span>
<span id="cb98-27"><a href="#cb98-27" tabindex="-1"></a><span class="co"># enexpr(mygroup)</span></span>
<span id="cb98-28"><a href="#cb98-28" tabindex="-1"></a></span>
<span id="cb98-29"><a href="#cb98-29" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"mygroup"</span>)</span>
<span id="cb98-30"><a href="#cb98-30" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"mydep"</span>)</span>
<span id="cb98-31"><a href="#cb98-31" tabindex="-1"></a></span>
<span id="cb98-32"><a href="#cb98-32" tabindex="-1"></a>formula1 <span class="ot">&lt;-</span> <span class="fu">paste</span>(mydep)</span>
<span id="cb98-33"><a href="#cb98-33" tabindex="-1"></a>formula1 <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(formula1)</span>
<span id="cb98-34"><a href="#cb98-34" tabindex="-1"></a></span>
<span id="cb98-35"><a href="#cb98-35" tabindex="-1"></a></span>
<span id="cb98-36"><a href="#cb98-36" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> <span class="fu">paste</span>(mygroup)</span>
<span id="cb98-37"><a href="#cb98-37" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(mygroup)</span>
<span id="cb98-38"><a href="#cb98-38" tabindex="-1"></a></span>
<span id="cb98-39"><a href="#cb98-39" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> deneme<span class="sc">$</span>Age</span>
<span id="cb98-40"><a href="#cb98-40" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> deneme<span class="sc">$</span>LVI</span>
<span id="cb98-41"><a href="#cb98-41" tabindex="-1"></a></span>
<span id="cb98-42"><a href="#cb98-42" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">resolveQuo</span>(jmvcore<span class="sc">::</span><span class="fu">enquo</span>(mydep))</span>
<span id="cb98-43"><a href="#cb98-43" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">resolveQuo</span>(jmvcore<span class="sc">::</span><span class="fu">enquo</span>(mygroup))</span>
<span id="cb98-44"><a href="#cb98-44" tabindex="-1"></a></span>
<span id="cb98-45"><a href="#cb98-45" tabindex="-1"></a>mydata2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">mygroup=</span>mygroup, <span class="at">mydep=</span>mydep)</span>
<span id="cb98-46"><a href="#cb98-46" tabindex="-1"></a></span>
<span id="cb98-47"><a href="#cb98-47" tabindex="-1"></a>results <span class="ot">&lt;-</span> mydata2 <span class="sc">%&gt;%</span></span>
<span id="cb98-48"><a href="#cb98-48" tabindex="-1"></a>                ggstatsplot<span class="sc">::</span><span class="fu">ggbetweenstats</span>(</span>
<span id="cb98-49"><a href="#cb98-49" tabindex="-1"></a><span class="at">x =</span> mygroup, <span class="at">y =</span> mydep  )</span>
<span id="cb98-50"><a href="#cb98-50" tabindex="-1"></a></span>
<span id="cb98-51"><a href="#cb98-51" tabindex="-1"></a>results</span>
<span id="cb98-52"><a href="#cb98-52" tabindex="-1"></a></span>
<span id="cb98-53"><a href="#cb98-53" tabindex="-1"></a></span>
<span id="cb98-54"><a href="#cb98-54" tabindex="-1"></a></span>
<span id="cb98-55"><a href="#cb98-55" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">'x = '</span>, mygroup, <span class="st">', y = '</span> , mydep)</span>
<span id="cb98-56"><a href="#cb98-56" tabindex="-1"></a></span>
<span id="cb98-57"><a href="#cb98-57" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">composeTerm</span>(myformula)</span>
<span id="cb98-58"><a href="#cb98-58" tabindex="-1"></a></span>
<span id="cb98-59"><a href="#cb98-59" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(myformula)</span>
<span id="cb98-60"><a href="#cb98-60" tabindex="-1"></a></span>
<span id="cb98-61"><a href="#cb98-61" tabindex="-1"></a></span>
<span id="cb98-62"><a href="#cb98-62" tabindex="-1"></a>mydep2 <span class="ot">&lt;-</span> <span class="fu">quote</span>(mydep)</span>
<span id="cb98-63"><a href="#cb98-63" tabindex="-1"></a>mygroup2 <span class="ot">&lt;-</span> <span class="fu">quote</span>(mygroup)</span>
<span id="cb98-64"><a href="#cb98-64" tabindex="-1"></a></span>
<span id="cb98-65"><a href="#cb98-65" tabindex="-1"></a></span>
<span id="cb98-66"><a href="#cb98-66" tabindex="-1"></a>results <span class="ot">&lt;-</span> deneme <span class="sc">%&gt;%</span></span>
<span id="cb98-67"><a href="#cb98-67" tabindex="-1"></a>                ggstatsplot<span class="sc">::</span><span class="fu">ggbetweenstats</span>(<span class="sc">!!</span>mygroup2, <span class="sc">!!</span>mydep2)</span>
<span id="cb98-68"><a href="#cb98-68" tabindex="-1"></a>results</span></code></pre></div>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" tabindex="-1"></a>construct formula <span class="dv">3</span>, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb99-2"><a href="#cb99-2" tabindex="-1"></a>formula <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"myoveralltime"</span>, <span class="st">"myoutcome"</span>))</span>
<span id="cb99-3"><a href="#cb99-3" tabindex="-1"></a></span>
<span id="cb99-4"><a href="#cb99-4" tabindex="-1"></a>vars <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">decomposeFormula</span>(<span class="at">formula =</span> formula)</span>
<span id="cb99-5"><a href="#cb99-5" tabindex="-1"></a></span>
<span id="cb99-6"><a href="#cb99-6" tabindex="-1"></a></span>
<span id="cb99-7"><a href="#cb99-7" tabindex="-1"></a>explanatory <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"explanatory"</span>))</span>
<span id="cb99-8"><a href="#cb99-8" tabindex="-1"></a></span>
<span id="cb99-9"><a href="#cb99-9" tabindex="-1"></a>explanatory <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">decomposeFormula</span>(<span class="at">formula =</span> explanatory)</span>
<span id="cb99-10"><a href="#cb99-10" tabindex="-1"></a></span>
<span id="cb99-11"><a href="#cb99-11" tabindex="-1"></a>explanatory <span class="ot">&lt;-</span> <span class="fu">unlist</span>(explanatory)</span>
<span id="cb99-12"><a href="#cb99-12" tabindex="-1"></a></span>
<span id="cb99-13"><a href="#cb99-13" tabindex="-1"></a>myformula <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Surv("</span>, vars[<span class="dv">1</span>], <span class="st">", "</span>, vars[<span class="dv">2</span>], <span class="st">")"</span>)</span>
<span id="cb99-14"><a href="#cb99-14" tabindex="-1"></a></span>
<span id="cb99-15"><a href="#cb99-15" tabindex="-1"></a></span>
<span id="cb99-16"><a href="#cb99-16" tabindex="-1"></a></span>
<span id="cb99-17"><a href="#cb99-17" tabindex="-1"></a>deneme <span class="sc">%&gt;%</span></span>
<span id="cb99-18"><a href="#cb99-18" tabindex="-1"></a>finalfit<span class="sc">::</span><span class="fu">finalfit</span>(myformula, explanatory) <span class="ot">-&gt;</span> tUni</span></code></pre></div>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" tabindex="-1"></a>table tangram, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb100-2"><a href="#cb100-2" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb100-3"><a href="#cb100-3" tabindex="-1"></a></span>
<span id="cb100-4"><a href="#cb100-4" tabindex="-1"></a></span>
<span id="cb100-5"><a href="#cb100-5" tabindex="-1"></a>table3 <span class="ot">&lt;-</span></span>
<span id="cb100-6"><a href="#cb100-6" tabindex="-1"></a>  tangram<span class="sc">::</span><span class="fu">html5</span>(</span>
<span id="cb100-7"><a href="#cb100-7" tabindex="-1"></a>    tangram<span class="sc">::</span><span class="fu">tangram</span>(</span>
<span id="cb100-8"><a href="#cb100-8" tabindex="-1"></a>      <span class="st">"Death ~ LVI + PNI + Age"</span>, deneme),</span>
<span id="cb100-9"><a href="#cb100-9" tabindex="-1"></a>    <span class="at">fragment=</span><span class="cn">TRUE</span>,</span>
<span id="cb100-10"><a href="#cb100-10" tabindex="-1"></a>    <span class="at">inline=</span><span class="st">"nejm.css"</span>,</span>
<span id="cb100-11"><a href="#cb100-11" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"HTML5 Table NEJM Style"</span>,</span>
<span id="cb100-12"><a href="#cb100-12" tabindex="-1"></a>    <span class="at">id=</span><span class="st">"tbl3"</span>)</span>
<span id="cb100-13"><a href="#cb100-13" tabindex="-1"></a></span>
<span id="cb100-14"><a href="#cb100-14" tabindex="-1"></a>table3</span>
<span id="cb100-15"><a href="#cb100-15" tabindex="-1"></a></span>
<span id="cb100-16"><a href="#cb100-16" tabindex="-1"></a>mydep <span class="ot">&lt;-</span> deneme<span class="sc">$</span>Age</span>
<span id="cb100-17"><a href="#cb100-17" tabindex="-1"></a>mygroup <span class="ot">&lt;-</span> deneme<span class="sc">$</span>Death</span>
<span id="cb100-18"><a href="#cb100-18" tabindex="-1"></a></span>
<span id="cb100-19"><a href="#cb100-19" tabindex="-1"></a></span>
<span id="cb100-20"><a href="#cb100-20" tabindex="-1"></a>formulaR <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span>  <span class="fu">c</span>(<span class="st">"LVI"</span>, <span class="st">"PNI"</span>, <span class="st">"Age"</span>))</span>
<span id="cb100-21"><a href="#cb100-21" tabindex="-1"></a></span>
<span id="cb100-22"><a href="#cb100-22" tabindex="-1"></a>formulaL <span class="ot">&lt;-</span> jmvcore<span class="sc">::</span><span class="fu">constructFormula</span>(<span class="at">terms =</span> <span class="st">"Death"</span>)</span>
<span id="cb100-23"><a href="#cb100-23" tabindex="-1"></a></span>
<span id="cb100-24"><a href="#cb100-24" tabindex="-1"></a>formula <span class="ot">&lt;-</span> <span class="fu">paste</span>(formulaL, <span class="st">'~'</span>, formulaR)</span>
<span id="cb100-25"><a href="#cb100-25" tabindex="-1"></a></span>
<span id="cb100-26"><a href="#cb100-26" tabindex="-1"></a>formula <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(formula)</span>
<span id="cb100-27"><a href="#cb100-27" tabindex="-1"></a></span>
<span id="cb100-28"><a href="#cb100-28" tabindex="-1"></a></span>
<span id="cb100-29"><a href="#cb100-29" tabindex="-1"></a>table <span class="ot">&lt;-</span> tangram<span class="sc">::</span><span class="fu">html5</span>(</span>
<span id="cb100-30"><a href="#cb100-30" tabindex="-1"></a>    tangram<span class="sc">::</span><span class="fu">tangram</span>(formula, deneme</span>
<span id="cb100-31"><a href="#cb100-31" tabindex="-1"></a>                     ))</span>
<span id="cb100-32"><a href="#cb100-32" tabindex="-1"></a></span>
<span id="cb100-33"><a href="#cb100-33" tabindex="-1"></a>table</span>
<span id="cb100-34"><a href="#cb100-34" tabindex="-1"></a></span></code></pre></div>
<hr>
<div class="section level3">
<h3 id="arsenal">arsenal<a class="anchor" aria-label="anchor" href="#arsenal"></a>
</h3>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" tabindex="-1"></a>arsenal, results<span class="ot">=</span><span class="st">'asis'</span>, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb101-2"><a href="#cb101-2" tabindex="-1"></a></span>
<span id="cb101-3"><a href="#cb101-3" tabindex="-1"></a>tab1 <span class="ot">&lt;-</span> arsenal<span class="sc">::</span><span class="fu">tableby</span>(<span class="sc">~</span> Age <span class="sc">+</span> Sex, <span class="at">data =</span> deneme)</span>
<span id="cb101-4"><a href="#cb101-4" tabindex="-1"></a></span>
<span id="cb101-5"><a href="#cb101-5" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">summary</span>(tab1)</span>
<span id="cb101-6"><a href="#cb101-6" tabindex="-1"></a></span>
<span id="cb101-7"><a href="#cb101-7" tabindex="-1"></a></span>
<span id="cb101-8"><a href="#cb101-8" tabindex="-1"></a><span class="co"># results$object</span></span>
<span id="cb101-9"><a href="#cb101-9" tabindex="-1"></a><span class="co"># results$control</span></span>
<span id="cb101-10"><a href="#cb101-10" tabindex="-1"></a><span class="co"># results$totals</span></span>
<span id="cb101-11"><a href="#cb101-11" tabindex="-1"></a><span class="co"># results$hasStrata</span></span>
<span id="cb101-12"><a href="#cb101-12" tabindex="-1"></a><span class="co"># results$text</span></span>
<span id="cb101-13"><a href="#cb101-13" tabindex="-1"></a><span class="co"># results$pfootnote</span></span>
<span id="cb101-14"><a href="#cb101-14" tabindex="-1"></a><span class="co"># results$term.name</span></span>
<span id="cb101-15"><a href="#cb101-15" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb101-16"><a href="#cb101-16" tabindex="-1"></a><span class="co"># tab1$Call</span></span>
<span id="cb101-17"><a href="#cb101-17" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb101-18"><a href="#cb101-18" tabindex="-1"></a><span class="co"># tab1$control</span></span>
<span id="cb101-19"><a href="#cb101-19" tabindex="-1"></a></span>
<span id="cb101-20"><a href="#cb101-20" tabindex="-1"></a>tab1<span class="sc">$</span>tables <span class="co"># this is where results lie</span></span>
<span id="cb101-21"><a href="#cb101-21" tabindex="-1"></a></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="define-survival-time">define survival time<a class="anchor" aria-label="anchor" href="#define-survival-time"></a>
</h3>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" tabindex="-1"></a>define survival time, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb102-2"><a href="#cb102-2" tabindex="-1"></a>mydata<span class="sc">$</span>int <span class="ot">&lt;-</span> lubridate<span class="sc">::</span><span class="fu">interval</span>(</span>
<span id="cb102-3"><a href="#cb102-3" tabindex="-1"></a>  lubridate<span class="sc">::</span><span class="fu">ymd</span>(mydata<span class="sc">$</span>SurgeryDate),</span>
<span id="cb102-4"><a href="#cb102-4" tabindex="-1"></a>  lubridate<span class="sc">::</span><span class="fu">ymd</span>(mydata<span class="sc">$</span>LastFollowUpDate)</span>
<span id="cb102-5"><a href="#cb102-5" tabindex="-1"></a>  )</span>
<span id="cb102-6"><a href="#cb102-6" tabindex="-1"></a>mydata<span class="sc">$</span>OverallTime <span class="ot">&lt;-</span> lubridate<span class="sc">::</span><span class="fu">time_length</span>(mydata<span class="sc">$</span>int, <span class="st">"month"</span>)</span>
<span id="cb102-7"><a href="#cb102-7" tabindex="-1"></a>mydata<span class="sc">$</span>OverallTime <span class="ot">&lt;-</span> <span class="fu">round</span>(mydata<span class="sc">$</span>OverallTime, <span class="at">digits =</span> <span class="dv">1</span>)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multivariate-analysis-survival">Multivariate Analysis Survival<a class="anchor" aria-label="anchor" href="#multivariate-analysis-survival"></a>
</h3>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" tabindex="-1"></a>Multivariate Analysis, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb103-2"><a href="#cb103-2" tabindex="-1"></a><span class="fu">library</span>(finalfit)</span>
<span id="cb103-3"><a href="#cb103-3" tabindex="-1"></a><span class="fu">library</span>(survival)</span>
<span id="cb103-4"><a href="#cb103-4" tabindex="-1"></a>explanatoryMultivariate <span class="ot">&lt;-</span> explanatoryKM</span>
<span id="cb103-5"><a href="#cb103-5" tabindex="-1"></a>dependentMultivariate <span class="ot">&lt;-</span> dependentKM</span>
<span id="cb103-6"><a href="#cb103-6" tabindex="-1"></a></span>
<span id="cb103-7"><a href="#cb103-7" tabindex="-1"></a>mydata <span class="sc">%&gt;%</span></span>
<span id="cb103-8"><a href="#cb103-8" tabindex="-1"></a>  <span class="fu">finalfit</span>(dependentMultivariate, explanatoryMultivariate) <span class="ot">-&gt;</span> tMultivariate</span>
<span id="cb103-9"><a href="#cb103-9" tabindex="-1"></a></span>
<span id="cb103-10"><a href="#cb103-10" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(tMultivariate, <span class="at">row.names=</span><span class="cn">FALSE</span>, <span class="at">align=</span><span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"l"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>))</span></code></pre></div>
<hr>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" tabindex="-1"></a>eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb104-2"><a href="#cb104-2" tabindex="-1"></a><span class="co"># Find arguments in yaml</span></span>
<span id="cb104-3"><a href="#cb104-3" tabindex="-1"></a></span>
<span id="cb104-4"><a href="#cb104-4" tabindex="-1"></a>list_of_yaml <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb104-5"><a href="#cb104-5" tabindex="-1"></a>    <span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">"~/histopathRprojects/ClinicoPath-Jamovi--prep/jmv"</span>,</span>
<span id="cb104-6"><a href="#cb104-6" tabindex="-1"></a>               <span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">.yaml$"</span>,</span>
<span id="cb104-7"><a href="#cb104-7" tabindex="-1"></a>               <span class="at">full.names =</span> <span class="cn">TRUE</span>,</span>
<span id="cb104-8"><a href="#cb104-8" tabindex="-1"></a>               <span class="at">all.files =</span> <span class="cn">TRUE</span>,</span>
<span id="cb104-9"><a href="#cb104-9" tabindex="-1"></a>               <span class="at">include.dirs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb104-10"><a href="#cb104-10" tabindex="-1"></a>               <span class="at">recursive =</span> <span class="cn">TRUE</span></span>
<span id="cb104-11"><a href="#cb104-11" tabindex="-1"></a>    )</span>
<span id="cb104-12"><a href="#cb104-12" tabindex="-1"></a>)</span>
<span id="cb104-13"><a href="#cb104-13" tabindex="-1"></a></span>
<span id="cb104-14"><a href="#cb104-14" tabindex="-1"></a></span>
<span id="cb104-15"><a href="#cb104-15" tabindex="-1"></a>text_of_yaml_yml <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map</span>(</span>
<span id="cb104-16"><a href="#cb104-16" tabindex="-1"></a>    <span class="at">.x =</span> list_of_yaml,</span>
<span id="cb104-17"><a href="#cb104-17" tabindex="-1"></a>    <span class="at">.f =</span> readLines</span>
<span id="cb104-18"><a href="#cb104-18" tabindex="-1"></a>)</span>
<span id="cb104-19"><a href="#cb104-19" tabindex="-1"></a></span>
<span id="cb104-20"><a href="#cb104-20" tabindex="-1"></a>text_of_yaml_yml <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(<span class="fu">unlist</span>(text_of_yaml_yml))</span>
<span id="cb104-21"><a href="#cb104-21" tabindex="-1"></a></span>
<span id="cb104-22"><a href="#cb104-22" tabindex="-1"></a>arglist <span class="ot">&lt;-</span></span>
<span id="cb104-23"><a href="#cb104-23" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_extract</span>(</span>
<span id="cb104-24"><a href="#cb104-24" tabindex="-1"></a>        <span class="at">string =</span> text_of_yaml_yml,</span>
<span id="cb104-25"><a href="#cb104-25" tabindex="-1"></a>        <span class="at">pattern =</span></span>
<span id="cb104-26"><a href="#cb104-26" tabindex="-1"></a>            <span class="st">"([[:alnum:]]*):"</span></span>
<span id="cb104-27"><a href="#cb104-27" tabindex="-1"></a>    )</span>
<span id="cb104-28"><a href="#cb104-28" tabindex="-1"></a></span>
<span id="cb104-29"><a href="#cb104-29" tabindex="-1"></a>arglist <span class="ot">&lt;-</span> arglist[<span class="sc">!</span><span class="fu">is.na</span>(arglist)]</span>
<span id="cb104-30"><a href="#cb104-30" tabindex="-1"></a>arglist <span class="ot">&lt;-</span> <span class="fu">unique</span>(arglist)</span>
<span id="cb104-31"><a href="#cb104-31" tabindex="-1"></a>arglist <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">":"</span>, <span class="co"># remove some characters</span></span>
<span id="cb104-32"><a href="#cb104-32" tabindex="-1"></a>                    <span class="at">replacement =</span> <span class="st">""</span>,</span>
<span id="cb104-33"><a href="#cb104-33" tabindex="-1"></a>                    <span class="at">x =</span> arglist)</span>
<span id="cb104-34"><a href="#cb104-34" tabindex="-1"></a>arglist <span class="ot">&lt;-</span> <span class="fu">trimws</span>(arglist) <span class="co"># remove whitespace</span></span>
<span id="cb104-35"><a href="#cb104-35" tabindex="-1"></a></span>
<span id="cb104-36"><a href="#cb104-36" tabindex="-1"></a><span class="fu">cat</span>(arglist, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#</span></span>
<span><span class="co">#                 # tUni_df_descr &lt;- paste0("When ",</span></span>
<span><span class="co">#                 #                         tUni_df$dependent_surv_overall_time_outcome[1],</span></span>
<span><span class="co">#                 #                         " is ",</span></span>
<span><span class="co">#                 #                         tUni_df$x[2],</span></span>
<span><span class="co">#                 #                         ", there is ",</span></span>
<span><span class="co">#                 #                         tUni_df$hr_univariable[2],</span></span>
<span><span class="co">#                 #                         " times risk than ",</span></span>
<span><span class="co">#                 #                         "when ",</span></span>
<span><span class="co">#                 #                         tUni_df$dependent_surv_overall_time_outcome[1],</span></span>
<span><span class="co">#                 #                         " is ",</span></span>
<span><span class="co">#                 #                         tUni_df$x[1],</span></span>
<span><span class="co">#                 #                         "."</span></span>
<span><span class="co">#                 # )</span></span>
<span><span class="co">#</span></span>
<span><span class="co">#                 # results5 &lt;- tUni_df_descr</span></span></code></pre></div>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" tabindex="-1"></a>eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb106-2"><a href="#cb106-2" tabindex="-1"></a>boot<span class="sc">::</span>melanoma</span>
<span id="cb106-3"><a href="#cb106-3" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(<span class="at">x =</span> boot<span class="sc">::</span>melanoma, <span class="at">file =</span> <span class="st">"data/melanoma.csv"</span>)</span>
<span id="cb106-4"><a href="#cb106-4" tabindex="-1"></a></span>
<span id="cb106-5"><a href="#cb106-5" tabindex="-1"></a>survival<span class="sc">::</span>colon</span>
<span id="cb106-6"><a href="#cb106-6" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(<span class="at">x =</span> survival<span class="sc">::</span>colon, <span class="at">file =</span> <span class="st">"data/colon.csv"</span>)</span>
<span id="cb106-7"><a href="#cb106-7" tabindex="-1"></a></span>
<span id="cb106-8"><a href="#cb106-8" tabindex="-1"></a><span class="co"># BreastCancerData &lt;- "https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data"</span></span>
<span id="cb106-9"><a href="#cb106-9" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb106-10"><a href="#cb106-10" tabindex="-1"></a><span class="co"># BreastCancerNames &lt;- "https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.names"</span></span>
<span id="cb106-11"><a href="#cb106-11" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb106-12"><a href="#cb106-12" tabindex="-1"></a><span class="co"># BreastCancerData &lt;- read.csv(file = BreastCancerData, header = FALSE,</span></span>
<span id="cb106-13"><a href="#cb106-13" tabindex="-1"></a><span class="co">#                 col.names = c("id","CT", "UCSize", "UCShape", "MA", "SECS", "BN", "BC", "NN","M", "diagnosis") )</span></span>
<span id="cb106-14"><a href="#cb106-14" tabindex="-1"></a></span>
<span id="cb106-15"><a href="#cb106-15" tabindex="-1"></a><span class="fu">library</span>(mlbench)</span>
<span id="cb106-16"><a href="#cb106-16" tabindex="-1"></a></span>
<span id="cb106-17"><a href="#cb106-17" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"BreastCancer"</span>)</span>
<span id="cb106-18"><a href="#cb106-18" tabindex="-1"></a>BreastCancer</span>
<span id="cb106-19"><a href="#cb106-19" tabindex="-1"></a></span>
<span id="cb106-20"><a href="#cb106-20" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(<span class="at">x =</span> BreastCancer, <span class="at">file =</span> <span class="st">"data/BreastCancer.csv"</span>)</span></code></pre></div>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" tabindex="-1"></a>pairwise, eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb107-2"><a href="#cb107-2" tabindex="-1"></a>deneme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="at">path =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_tododata"</span>, <span class="st">"histopathology-template2019-11-25.xlsx"</span>))</span>
<span id="cb107-3"><a href="#cb107-3" tabindex="-1"></a><span class="co"># names(deneme)</span></span>
<span id="cb107-4"><a href="#cb107-4" tabindex="-1"></a></span>
<span id="cb107-5"><a href="#cb107-5" tabindex="-1"></a>mypairwise <span class="ot">&lt;-</span>  survminer<span class="sc">::</span><span class="fu">pairwise_survdiff</span>(</span>
<span id="cb107-6"><a href="#cb107-6" tabindex="-1"></a>                            <span class="at">formula =</span> survival<span class="sc">::</span><span class="fu">Surv</span>(OverallTime, Outcome) <span class="sc">~</span> TStage,</span>
<span id="cb107-7"><a href="#cb107-7" tabindex="-1"></a>                            <span class="at">data =</span> deneme,</span>
<span id="cb107-8"><a href="#cb107-8" tabindex="-1"></a>                            <span class="at">p.adjust.method =</span> <span class="st">"BH"</span></span>
<span id="cb107-9"><a href="#cb107-9" tabindex="-1"></a>                            )</span>
<span id="cb107-10"><a href="#cb107-10" tabindex="-1"></a></span>
<span id="cb107-11"><a href="#cb107-11" tabindex="-1"></a></span>
<span id="cb107-12"><a href="#cb107-12" tabindex="-1"></a>mypairwise2 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(mypairwise[[<span class="st">"p.value"</span>]]) <span class="sc">%&gt;%</span></span>
<span id="cb107-13"><a href="#cb107-13" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>()</span>
<span id="cb107-14"><a href="#cb107-14" tabindex="-1"></a></span>
<span id="cb107-15"><a href="#cb107-15" tabindex="-1"></a>mypairwise2 <span class="sc">%&gt;%</span></span>
<span id="cb107-16"><a href="#cb107-16" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>rowname) <span class="sc">%&gt;%</span></span>
<span id="cb107-17"><a href="#cb107-17" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">complete.cases</span>(.)) <span class="sc">%&gt;%</span></span>
<span id="cb107-18"><a href="#cb107-18" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">description =</span></span>
<span id="cb107-19"><a href="#cb107-19" tabindex="-1"></a>                            glue<span class="sc">::</span><span class="fu">glue</span>(</span>
<span id="cb107-20"><a href="#cb107-20" tabindex="-1"></a>                                <span class="st">"The comparison between rowname and name has a p-value of round(value, 2)."</span></span>
<span id="cb107-21"><a href="#cb107-21" tabindex="-1"></a>                            )</span>
<span id="cb107-22"><a href="#cb107-22" tabindex="-1"></a>                    ) <span class="sc">%&gt;%</span></span>
<span id="cb107-23"><a href="#cb107-23" tabindex="-1"></a>                    dplyr<span class="sc">::</span><span class="fu">select</span>(description) <span class="sc">%&gt;%</span></span>
<span id="cb107-24"><a href="#cb107-24" tabindex="-1"></a>                    dplyr<span class="sc">::</span><span class="fu">pull</span>() <span class="ot">-&gt;</span> mypairwisedescription</span>
<span id="cb107-25"><a href="#cb107-25" tabindex="-1"></a></span>
<span id="cb107-26"><a href="#cb107-26" tabindex="-1"></a>mypairwisedescription <span class="ot">&lt;-</span> <span class="fu">unlist</span>(mypairwisedescription)</span>
<span id="cb107-27"><a href="#cb107-27" tabindex="-1"></a></span>
<span id="cb107-28"><a href="#cb107-28" tabindex="-1"></a>mypairwisedescription <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb107-29"><a href="#cb107-29" tabindex="-1"></a><span class="st">"In the pairwise comparison of"</span>,</span>
<span id="cb107-30"><a href="#cb107-30" tabindex="-1"></a>mypairwisedescription)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="deep-dive--a-yaml-analysis-definition-architecture">üìä Deep Dive: .a.yaml Analysis Definition Architecture<a class="anchor" aria-label="anchor" href="#deep-dive--a-yaml-analysis-definition-architecture"></a>
</h3>
<p>The <code>.a.yaml</code> files define the analysis options and
parameters for jamovi modules. They serve as the configuration blueprint
that controls what options users see and how they interact with your
analysis.</p>
<div class="section level4">
<h4 id="complete--a-yaml-anatomy">Complete .a.yaml Anatomy<a class="anchor" aria-label="anchor" href="#complete--a-yaml-anatomy"></a>
</h4>
<div class="sourceCode" id="cb108"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb108-1"><a href="#cb108-1" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb108-2"><a href="#cb108-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> jjbarstats</span><span class="co">                    # Function identifier (must match .b.R class)</span></span>
<span id="cb108-3"><a href="#cb108-3" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Bar Charts</span><span class="co">                  # Display name in jamovi menu</span></span>
<span id="cb108-4"><a href="#cb108-4" tabindex="-1"></a><span class="fu">menuGroup</span><span class="kw">:</span><span class="at"> JJStatsPlotD</span><span class="co">            # Top-level menu category</span></span>
<span id="cb108-5"><a href="#cb108-5" tabindex="-1"></a><span class="fu">menuSubgroup</span><span class="kw">:</span><span class="at"> </span><span class="st">'Categorical vs Categorical'</span><span class="co">  # Sub-menu organization</span></span>
<span id="cb108-6"><a href="#cb108-6" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">'0.0.3'</span><span class="co">                   # Module version</span></span>
<span id="cb108-7"><a href="#cb108-7" tabindex="-1"></a><span class="fu">jas</span><span class="kw">:</span><span class="at"> </span><span class="st">'1.2'</span><span class="co">                         # jamovi Analysis Specification version</span></span>
<span id="cb108-8"><a href="#cb108-8" tabindex="-1"></a></span>
<span id="cb108-9"><a href="#cb108-9" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb108-10"><a href="#cb108-10" tabindex="-1"></a><span class="fu">    main</span><span class="kw">: </span><span class="ch">|</span><span class="co">                        # Main description for help system</span></span>
<span id="cb108-11"><a href="#cb108-11" tabindex="-1"></a>        'Wrapper Function for ggstatsplot::ggbarstats...'</span>
<span id="cb108-12"><a href="#cb108-12" tabindex="-1"></a><span class="at">    </span><span class="fu">R</span><span class="kw">:</span><span class="co">                             # R-specific documentation</span></span>
<span id="cb108-13"><a href="#cb108-13" tabindex="-1"></a><span class="at">        </span><span class="fu">dontrun</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">              # Skip examples in R CMD check</span></span>
<span id="cb108-14"><a href="#cb108-14" tabindex="-1"></a><span class="fu">        usage</span><span class="kw">: </span><span class="ch">|</span><span class="co">                   # Example usage code</span></span>
<span id="cb108-15"><a href="#cb108-15" tabindex="-1"></a>            # example will be added</span>
<span id="cb108-16"><a href="#cb108-16" tabindex="-1"></a></span>
<span id="cb108-17"><a href="#cb108-17" tabindex="-1"></a><span class="fu">options</span><span class="kw">:</span><span class="co">                           # Core configuration section</span></span>
<span id="cb108-18"><a href="#cb108-18" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> data</span><span class="co">                   # Required data parameter</span></span>
<span id="cb108-19"><a href="#cb108-19" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Data</span></span>
<span id="cb108-20"><a href="#cb108-20" tabindex="-1"></a><span class="at">      </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb108-21"><a href="#cb108-21" tabindex="-1"></a><span class="fu">          R</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb108-22"><a href="#cb108-22" tabindex="-1"></a>            The data as a data frame.</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="core-option-types-and-patterns">Core Option Types and Patterns<a class="anchor" aria-label="anchor" href="#core-option-types-and-patterns"></a>
</h4>
<div class="section level5">
<h5 id="variable-selection-options-1">1. <strong>Variable Selection Options</strong><a class="anchor" aria-label="anchor" href="#variable-selection-options-1"></a>
</h5>
<p><strong>Single Variable</strong>:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb109-1"><a href="#cb109-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> explanatory</span></span>
<span id="cb109-2"><a href="#cb109-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Explanatory Variable</span></span>
<span id="cb109-3"><a href="#cb109-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span><span class="co">                   # Single variable selection</span></span>
<span id="cb109-4"><a href="#cb109-4" tabindex="-1"></a><span class="at">  </span><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> ordinal</span><span class="kw">,</span><span class="at"> nominal </span><span class="kw">]</span><span class="co">  # Preferred variable types</span></span>
<span id="cb109-5"><a href="#cb109-5" tabindex="-1"></a><span class="at">  </span><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> factor </span><span class="kw">]</span><span class="co">            # Allowed variable types</span></span>
<span id="cb109-6"><a href="#cb109-6" tabindex="-1"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb109-7"><a href="#cb109-7" tabindex="-1"></a><span class="fu">      R</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb109-8"><a href="#cb109-8" tabindex="-1"></a>        The explanatory variable for group comparison.</span></code></pre></div>
<p><strong>Multiple Variables</strong>:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb110-1"><a href="#cb110-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> vars</span></span>
<span id="cb110-2"><a href="#cb110-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Dependent Variable(s)</span></span>
<span id="cb110-3"><a href="#cb110-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variables</span><span class="co">                  # Multiple variable selection</span></span>
<span id="cb110-4"><a href="#cb110-4" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb110-5"><a href="#cb110-5" tabindex="-1"></a>        The variable(s) that will appear as rows in the cross table.</span></code></pre></div>
<p><strong>Optional Variables with NULL Default</strong>:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb111-1"><a href="#cb111-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> grvar</span></span>
<span id="cb111-2"><a href="#cb111-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Split By (Optional)'</span></span>
<span id="cb111-3"><a href="#cb111-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span></span>
<span id="cb111-4"><a href="#cb111-4" tabindex="-1"></a><span class="at">  </span><span class="fu">suggested</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> ordinal</span><span class="kw">,</span><span class="at"> nominal </span><span class="kw">]</span></span>
<span id="cb111-5"><a href="#cb111-5" tabindex="-1"></a><span class="at">  </span><span class="fu">permitted</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> factor </span><span class="kw">]</span></span>
<span id="cb111-6"><a href="#cb111-6" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">NULL</span><span class="co">                    # Explicitly set NULL for optional params</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="level-selection-for-categorical-variables">2. <strong>Level Selection for Categorical Variables</strong><a class="anchor" aria-label="anchor" href="#level-selection-for-categorical-variables"></a>
</h5>
<div class="sourceCode" id="cb112"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb112-1"><a href="#cb112-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeLevel</span></span>
<span id="cb112-2"><a href="#cb112-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Event Level</span></span>
<span id="cb112-3"><a href="#cb112-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span><span class="co">                      # Level selector for categorical var</span></span>
<span id="cb112-4"><a href="#cb112-4" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (outcome)</span><span class="co">              # References another option</span></span>
<span id="cb112-5"><a href="#cb112-5" tabindex="-1"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb112-6"><a href="#cb112-6" tabindex="-1"></a><span class="fu">      R</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb112-7"><a href="#cb112-7" tabindex="-1"></a>        The level of the outcome variable that will be used as the event level.</span>
<span id="cb112-8"><a href="#cb112-8" tabindex="-1"></a></span>
<span id="cb112-9"><a href="#cb112-9" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dod</span></span>
<span id="cb112-10"><a href="#cb112-10" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Dead of Disease</span></span>
<span id="cb112-11"><a href="#cb112-11" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb112-12"><a href="#cb112-12" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (outcome)</span></span>
<span id="cb112-13"><a href="#cb112-13" tabindex="-1"></a><span class="at">  </span><span class="fu">allowNone</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">                  # Allow no selection</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="boolean-options-1">3. <strong>Boolean Options</strong><a class="anchor" aria-label="anchor" href="#boolean-options-1"></a>
</h5>
<div class="sourceCode" id="cb113"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb113-1"><a href="#cb113-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> excl</span></span>
<span id="cb113-2"><a href="#cb113-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Exclude Missing (NA)</span></span>
<span id="cb113-3"><a href="#cb113-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb113-4"><a href="#cb113-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">                    # Clear default value</span></span>
<span id="cb113-5"><a href="#cb113-5" tabindex="-1"></a></span>
<span id="cb113-6"><a href="#cb113-6" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pairwisecomparisons</span></span>
<span id="cb113-7"><a href="#cb113-7" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Pairwise Comparisons</span></span>
<span id="cb113-8"><a href="#cb113-8" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb113-9"><a href="#cb113-9" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="listdropdown-options-1">4. <strong>List/Dropdown Options</strong><a class="anchor" aria-label="anchor" href="#listdropdown-options-1"></a>
</h5>
<div class="sourceCode" id="cb114"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb114-1"><a href="#cb114-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> typestatistics</span></span>
<span id="cb114-2"><a href="#cb114-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Type of Statistic'</span></span>
<span id="cb114-3"><a href="#cb114-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb114-4"><a href="#cb114-4" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb114-5"><a href="#cb114-5" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Parametric</span><span class="co">             # User-friendly display name</span></span>
<span id="cb114-6"><a href="#cb114-6" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> parametric</span><span class="co">              # Internal value</span></span>
<span id="cb114-7"><a href="#cb114-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Nonparametric</span></span>
<span id="cb114-8"><a href="#cb114-8" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> nonparametric</span></span>
<span id="cb114-9"><a href="#cb114-9" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Robust</span></span>
<span id="cb114-10"><a href="#cb114-10" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> robust</span></span>
<span id="cb114-11"><a href="#cb114-11" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Bayes</span></span>
<span id="cb114-12"><a href="#cb114-12" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> bayes</span></span>
<span id="cb114-13"><a href="#cb114-13" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> parametric</span><span class="co">               # Must match one of the 'name' values</span></span>
<span id="cb114-14"><a href="#cb114-14" tabindex="-1"></a></span>
<span id="cb114-15"><a href="#cb114-15" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> analysistype</span></span>
<span id="cb114-16"><a href="#cb114-16" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Survival Type'</span></span>
<span id="cb114-17"><a href="#cb114-17" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb114-18"><a href="#cb114-18" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb114-19"><a href="#cb114-19" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Overall</span></span>
<span id="cb114-20"><a href="#cb114-20" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> overall</span></span>
<span id="cb114-21"><a href="#cb114-21" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Cause Specific</span></span>
<span id="cb114-22"><a href="#cb114-22" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cause</span></span>
<span id="cb114-23"><a href="#cb114-23" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Competing Risk</span></span>
<span id="cb114-24"><a href="#cb114-24" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> compete</span></span>
<span id="cb114-25"><a href="#cb114-25" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> overall</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="numeric-input-options-1">5. <strong>Numeric Input Options</strong><a class="anchor" aria-label="anchor" href="#numeric-input-options-1"></a>
</h5>
<div class="sourceCode" id="cb115"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb115-1"><a href="#cb115-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> endplot</span></span>
<span id="cb115-2"><a href="#cb115-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Plot End Time</span></span>
<span id="cb115-3"><a href="#cb115-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Integer</span><span class="co">                    # Whole numbers only</span></span>
<span id="cb115-4"><a href="#cb115-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="dv">60</span></span>
<span id="cb115-5"><a href="#cb115-5" tabindex="-1"></a></span>
<span id="cb115-6"><a href="#cb115-6" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> ybegin_plot</span></span>
<span id="cb115-7"><a href="#cb115-7" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Start y-axis</span></span>
<span id="cb115-8"><a href="#cb115-8" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Number</span><span class="co">                     # Decimal numbers allowed</span></span>
<span id="cb115-9"><a href="#cb115-9" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.00</span></span>
<span id="cb115-10"><a href="#cb115-10" tabindex="-1"></a><span class="at">  </span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.00</span><span class="co">                        # Optional constraints</span></span>
<span id="cb115-11"><a href="#cb115-11" tabindex="-1"></a><span class="at">  </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.00</span></span>
<span id="cb115-12"><a href="#cb115-12" tabindex="-1"></a></span>
<span id="cb115-13"><a href="#cb115-13" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> rate_multiplier</span></span>
<span id="cb115-14"><a href="#cb115-14" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Rate Multiplier"</span></span>
<span id="cb115-15"><a href="#cb115-15" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Integer</span></span>
<span id="cb115-16"><a href="#cb115-16" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="dv">100</span></span>
<span id="cb115-17"><a href="#cb115-17" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb115-18"><a href="#cb115-18" tabindex="-1"></a>    Specify the multiplier for incidence rates (e.g., 100 for rates per 100 person-years).</span></code></pre></div>
</div>
<div class="section level5">
<h5 id="string-input-options-1">6. <strong>String Input Options</strong><a class="anchor" aria-label="anchor" href="#string-input-options-1"></a>
</h5>
<div class="sourceCode" id="cb116"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb116-1"><a href="#cb116-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cutp</span></span>
<span id="cb116-2"><a href="#cb116-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Cutpoints</span></span>
<span id="cb116-3"><a href="#cb116-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> String</span></span>
<span id="cb116-4"><a href="#cb116-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="st">'12, 36, 60'</span><span class="co">           # Default as string</span></span>
<span id="cb116-5"><a href="#cb116-5" tabindex="-1"></a></span>
<span id="cb116-6"><a href="#cb116-6" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> time_intervals</span></span>
<span id="cb116-7"><a href="#cb116-7" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Time Interval Stratification"</span></span>
<span id="cb116-8"><a href="#cb116-8" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> String</span></span>
<span id="cb116-9"><a href="#cb116-9" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="st">'12, 36, 60'</span></span>
<span id="cb116-10"><a href="#cb116-10" tabindex="-1"></a><span class="fu">  description</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb116-11"><a href="#cb116-11" tabindex="-1"></a>    Specify time intervals for stratified analysis. Enter a </span>
<span id="cb116-12"><a href="#cb116-12" tabindex="-1"></a>    comma-separated list of time points.</span></code></pre></div>
</div>
<div class="section level5">
<h5 id="output-options">7. <strong>Output Options</strong><a class="anchor" aria-label="anchor" href="#output-options"></a>
</h5>
<div class="sourceCode" id="cb117"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb117-1"><a href="#cb117-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> calculatedtime</span></span>
<span id="cb117-2"><a href="#cb117-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Add Calculated Time to Data</span></span>
<span id="cb117-3"><a href="#cb117-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Output</span><span class="co">                     # For computed variables</span></span>
<span id="cb117-4"><a href="#cb117-4" tabindex="-1"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb117-5"><a href="#cb117-5" tabindex="-1"></a><span class="fu">      R</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb117-6"><a href="#cb117-6" tabindex="-1"></a>        Calculated time will be added to the data frame.</span>
<span id="cb117-7"><a href="#cb117-7" tabindex="-1"></a></span>
<span id="cb117-8"><a href="#cb117-8" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeredefined</span></span>
<span id="cb117-9"><a href="#cb117-9" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Add Redefined Outcome to Data</span></span>
<span id="cb117-10"><a href="#cb117-10" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Output</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="real-world-complex-examples">Real-World Complex Examples<a class="anchor" aria-label="anchor" href="#real-world-complex-examples"></a>
</h4>
<div class="section level5">
<h5 id="example-1-survival-analysis-configuration">Example 1: Survival Analysis Configuration<a class="anchor" aria-label="anchor" href="#example-1-survival-analysis-configuration"></a>
</h5>
<div class="sourceCode" id="cb118"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb118-1"><a href="#cb118-1" tabindex="-1"></a><span class="co"># From survival.a.yaml - Advanced survival analysis options</span></span>
<span id="cb118-2"><a href="#cb118-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> tint</span></span>
<span id="cb118-3"><a href="#cb118-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Using Dates to Calculate Survival Time</span></span>
<span id="cb118-4"><a href="#cb118-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Bool</span></span>
<span id="cb118-5"><a href="#cb118-5" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb118-6"><a href="#cb118-6" tabindex="-1"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb118-7"><a href="#cb118-7" tabindex="-1"></a><span class="fu">      R</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb118-8"><a href="#cb118-8" tabindex="-1"></a>        If the time is in date format, select this option to calculate survival time.</span>
<span id="cb118-9"><a href="#cb118-9" tabindex="-1"></a></span>
<span id="cb118-10"><a href="#cb118-10" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dxdate</span></span>
<span id="cb118-11"><a href="#cb118-11" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Diagnosis Date'</span></span>
<span id="cb118-12"><a href="#cb118-12" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span></span>
<span id="cb118-13"><a href="#cb118-13" tabindex="-1"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb118-14"><a href="#cb118-14" tabindex="-1"></a><span class="fu">      R</span><span class="kw">: </span><span class="ch">&gt;</span></span>
<span id="cb118-15"><a href="#cb118-15" tabindex="-1"></a>        The date of diagnosis for time calculation.</span>
<span id="cb118-16"><a href="#cb118-16" tabindex="-1"></a></span>
<span id="cb118-17"><a href="#cb118-17" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> timetypedata</span></span>
<span id="cb118-18"><a href="#cb118-18" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Time Type in Data (e.g., YYYY-MM-DD)'</span></span>
<span id="cb118-19"><a href="#cb118-19" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb118-20"><a href="#cb118-20" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb118-21"><a href="#cb118-21" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> ymdhms</span></span>
<span id="cb118-22"><a href="#cb118-22" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> ymdhms</span></span>
<span id="cb118-23"><a href="#cb118-23" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> ymd</span></span>
<span id="cb118-24"><a href="#cb118-24" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> ymd</span></span>
<span id="cb118-25"><a href="#cb118-25" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> dmy</span></span>
<span id="cb118-26"><a href="#cb118-26" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dmy</span></span>
<span id="cb118-27"><a href="#cb118-27" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> ymd</span></span>
<span id="cb118-28"><a href="#cb118-28" tabindex="-1"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb118-29"><a href="#cb118-29" tabindex="-1"></a><span class="at">      </span><span class="fu">R</span><span class="kw">:</span><span class="at"> select the time type in data</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="example-2-statistical-test-configuration-1">Example 2: Statistical Test Configuration<a class="anchor" aria-label="anchor" href="#example-2-statistical-test-configuration-1"></a>
</h5>
<div class="sourceCode" id="cb119"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb119-1"><a href="#cb119-1" tabindex="-1"></a><span class="co"># From jjbarstats.a.yaml - Statistical test options</span></span>
<span id="cb119-2"><a href="#cb119-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> padjustmethod</span></span>
<span id="cb119-3"><a href="#cb119-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Adjustment Method'</span></span>
<span id="cb119-4"><a href="#cb119-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb119-5"><a href="#cb119-5" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb119-6"><a href="#cb119-6" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> holm</span></span>
<span id="cb119-7"><a href="#cb119-7" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> holm</span></span>
<span id="cb119-8"><a href="#cb119-8" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> bonferroni</span></span>
<span id="cb119-9"><a href="#cb119-9" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> bonferroni</span></span>
<span id="cb119-10"><a href="#cb119-10" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> BH</span></span>
<span id="cb119-11"><a href="#cb119-11" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> BH</span></span>
<span id="cb119-12"><a href="#cb119-12" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> fdr</span></span>
<span id="cb119-13"><a href="#cb119-13" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> fdr</span></span>
<span id="cb119-14"><a href="#cb119-14" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> none</span></span>
<span id="cb119-15"><a href="#cb119-15" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> none</span></span>
<span id="cb119-16"><a href="#cb119-16" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> holm</span></span>
<span id="cb119-17"><a href="#cb119-17" tabindex="-1"></a></span>
<span id="cb119-18"><a href="#cb119-18" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pairwisedisplay</span></span>
<span id="cb119-19"><a href="#cb119-19" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Pairwise Display'</span></span>
<span id="cb119-20"><a href="#cb119-20" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb119-21"><a href="#cb119-21" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb119-22"><a href="#cb119-22" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> significant</span></span>
<span id="cb119-23"><a href="#cb119-23" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> significant</span></span>
<span id="cb119-24"><a href="#cb119-24" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> non-significant</span></span>
<span id="cb119-25"><a href="#cb119-25" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> non-significant</span></span>
<span id="cb119-26"><a href="#cb119-26" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> everything</span></span>
<span id="cb119-27"><a href="#cb119-27" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> everything</span></span>
<span id="cb119-28"><a href="#cb119-28" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> significant</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="best-practices-for--a-yaml-development">Best Practices for .a.yaml Development<a class="anchor" aria-label="anchor" href="#best-practices-for--a-yaml-development"></a>
</h4>
<div class="section level5">
<h5 id="variable-type-guidelines">1. <strong>Variable Type Guidelines</strong><a class="anchor" aria-label="anchor" href="#variable-type-guidelines"></a>
</h5>
<ul>
<li>Use <code>suggested</code> to guide users toward appropriate
variable types</li>
<li>Use <code>permitted</code> to enforce data type requirements</li>
<li>Always specify both for Variable and Variables types</li>
</ul>
</div>
<div class="section level5">
<h5 id="default-value-strategy">2. <strong>Default Value Strategy</strong><a class="anchor" aria-label="anchor" href="#default-value-strategy"></a>
</h5>
<ul>
<li>Set <code>default: NULL</code> for optional parameters</li>
<li>Provide sensible defaults for required parameters</li>
<li>Use <code>allowNone: true</code> for optional Level parameters</li>
</ul>
</div>
<div class="section level5">
<h5 id="option-naming-conventions">3. <strong>Option Naming Conventions</strong><a class="anchor" aria-label="anchor" href="#option-naming-conventions"></a>
</h5>
<ul>
<li>Use descriptive, clear <code>title</code> fields for user
display</li>
<li>Keep <code>name</code> fields concise and programmatically
friendly</li>
<li>Follow camelCase or snake_case consistently</li>
</ul>
</div>
<div class="section level5">
<h5 id="documentation-standards">4. <strong>Documentation Standards</strong><a class="anchor" aria-label="anchor" href="#documentation-standards"></a>
</h5>
<div class="sourceCode" id="cb120"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb120-1"><a href="#cb120-1" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb120-2"><a href="#cb120-2" tabindex="-1"></a><span class="fu">    R</span><span class="kw">: </span><span class="ch">&gt;</span><span class="co">                           # Use &gt; for multi-line descriptions</span></span>
<span id="cb120-3"><a href="#cb120-3" tabindex="-1"></a>      Clear, comprehensive description of what this option does</span>
<span id="cb120-4"><a href="#cb120-4" tabindex="-1"></a>      and how it affects the analysis.</span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="advanced-patterns">Advanced Patterns<a class="anchor" aria-label="anchor" href="#advanced-patterns"></a>
</h4>
<div class="section level5">
<h5 id="conditional-visibility">1. <strong>Conditional Visibility</strong><a class="anchor" aria-label="anchor" href="#conditional-visibility"></a>
</h5>
<div class="sourceCode" id="cb121"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb121-1"><a href="#cb121-1" tabindex="-1"></a><span class="co"># Option only appears when another option is selected</span></span>
<span id="cb121-2"><a href="#cb121-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> landmark</span></span>
<span id="cb121-3"><a href="#cb121-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Landmark Time</span></span>
<span id="cb121-4"><a href="#cb121-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Integer</span></span>
<span id="cb121-5"><a href="#cb121-5" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="dv">3</span></span>
<span id="cb121-6"><a href="#cb121-6" tabindex="-1"></a><span class="co">  # Note: Conditional visibility typically handled in .b.R via setVisible()</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="dynamic-ui-updates-1">2. <strong>Dynamic UI Updates</strong><a class="anchor" aria-label="anchor" href="#dynamic-ui-updates-1"></a>
</h5>
<div class="sourceCode" id="cb122"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb122-1"><a href="#cb122-1" tabindex="-1"></a><span class="co"># Level options that update based on variable selection</span></span>
<span id="cb122-2"><a href="#cb122-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeLevel</span></span>
<span id="cb122-3"><a href="#cb122-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Event Level</span></span>
<span id="cb122-4"><a href="#cb122-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb122-5"><a href="#cb122-5" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (outcome)</span><span class="co">              # Parentheses reference another option</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="complex-data-relationships">3. <strong>Complex Data Relationships</strong><a class="anchor" aria-label="anchor" href="#complex-data-relationships"></a>
</h5>
<div class="sourceCode" id="cb123"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb123-1"><a href="#cb123-1" tabindex="-1"></a><span class="co"># Multiple outcome levels for competing risks analysis</span></span>
<span id="cb123-2"><a href="#cb123-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dod</span></span>
<span id="cb123-3"><a href="#cb123-3" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Dead of Disease</span></span>
<span id="cb123-4"><a href="#cb123-4" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb123-5"><a href="#cb123-5" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (outcome)</span></span>
<span id="cb123-6"><a href="#cb123-6" tabindex="-1"></a><span class="at">  </span><span class="fu">allowNone</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb123-7"><a href="#cb123-7" tabindex="-1"></a></span>
<span id="cb123-8"><a href="#cb123-8" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dooc</span></span>
<span id="cb123-9"><a href="#cb123-9" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Dead of Other</span></span>
<span id="cb123-10"><a href="#cb123-10" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb123-11"><a href="#cb123-11" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (outcome)</span></span>
<span id="cb123-12"><a href="#cb123-12" tabindex="-1"></a><span class="at">  </span><span class="fu">allowNone</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="integration-with-clinicopath-module-system">Integration with ClinicoPath Module System<a class="anchor" aria-label="anchor" href="#integration-with-clinicopath-module-system"></a>
</h4>
<div class="section level5">
<h5 id="menugroup-organization">1. <strong>MenuGroup Organization</strong><a class="anchor" aria-label="anchor" href="#menugroup-organization"></a>
</h5>
<div class="sourceCode" id="cb124"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb124-1"><a href="#cb124-1" tabindex="-1"></a><span class="fu">menuGroup</span><span class="kw">:</span><span class="at"> SurvivalD</span><span class="co">              # Maps to survival analysis section</span></span>
<span id="cb124-2"><a href="#cb124-2" tabindex="-1"></a><span class="fu">menuSubgroup</span><span class="kw">:</span><span class="at"> ClinicoPath Survival</span></span>
<span id="cb124-3"><a href="#cb124-3" tabindex="-1"></a><span class="fu">menuSubtitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'Univariate Survival Analysis, Cox, Kaplan-Meier'</span></span></code></pre></div>
<p>Available MenuGroups in ClinicoPath: - <code>ExplorationD</code>:
Descriptive analysis and data exploration - <code>SurvivalD</code>:
Survival analysis and time-to-event modeling -
<code>JJStatsPlotD</code>: Statistical plots and visualizations -
<code>meddecideD</code>: Medical decision analysis and ROC curves</p>
</div>
<div class="section level5">
<h5 id="version-management">2. <strong>Version Management</strong><a class="anchor" aria-label="anchor" href="#version-management"></a>
</h5>
<div class="sourceCode" id="cb125"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb125-1"><a href="#cb125-1" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">'0.0.3'</span><span class="co">                  # Module version - update with changes</span></span>
<span id="cb125-2"><a href="#cb125-2" tabindex="-1"></a><span class="fu">jas</span><span class="kw">:</span><span class="at"> </span><span class="st">'1.2'</span><span class="co">                        # jamovi Analysis Specification version</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="common-pitfalls-and-solutions">Common Pitfalls and Solutions<a class="anchor" aria-label="anchor" href="#common-pitfalls-and-solutions"></a>
</h4>
<div class="section level5">
<h5 id="default-value-mismatches">1. <strong>Default Value Mismatches</strong><a class="anchor" aria-label="anchor" href="#default-value-mismatches"></a>
</h5>
<p>‚ùå <strong>Wrong</strong>:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb126-1"><a href="#cb126-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> method</span></span>
<span id="cb126-2"><a href="#cb126-2" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb126-3"><a href="#cb126-3" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb126-4"><a href="#cb126-4" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Method A</span></span>
<span id="cb126-5"><a href="#cb126-5" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> methodA</span></span>
<span id="cb126-6"><a href="#cb126-6" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> Method A</span><span class="co">               # Should be 'methodA', not 'Method A'</span></span></code></pre></div>
<p>‚úÖ <strong>Correct</strong>:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb127-1"><a href="#cb127-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> method</span></span>
<span id="cb127-2"><a href="#cb127-2" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> List</span></span>
<span id="cb127-3"><a href="#cb127-3" tabindex="-1"></a><span class="at">  </span><span class="fu">options</span><span class="kw">:</span></span>
<span id="cb127-4"><a href="#cb127-4" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Method A</span></span>
<span id="cb127-5"><a href="#cb127-5" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> methodA</span></span>
<span id="cb127-6"><a href="#cb127-6" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> methodA</span><span class="co">               # Matches the 'name', not 'title'</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="missing-null-defaults">2. <strong>Missing NULL Defaults</strong><a class="anchor" aria-label="anchor" href="#missing-null-defaults"></a>
</h5>
<p>‚ùå <strong>Wrong</strong>:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb128-1"><a href="#cb128-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> grvar</span></span>
<span id="cb128-2"><a href="#cb128-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Split By (Optional)'</span></span>
<span id="cb128-3"><a href="#cb128-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span></span>
<span id="cb128-4"><a href="#cb128-4" tabindex="-1"></a><span class="co">  # Missing default: NULL</span></span></code></pre></div>
<p>‚úÖ <strong>Correct</strong>:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb129-1"><a href="#cb129-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> grvar</span></span>
<span id="cb129-2"><a href="#cb129-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Split By (Optional)'</span></span>
<span id="cb129-3"><a href="#cb129-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Variable</span></span>
<span id="cb129-4"><a href="#cb129-4" tabindex="-1"></a><span class="at">  </span><span class="fu">default</span><span class="kw">:</span><span class="at"> </span><span class="ch">NULL</span><span class="co">                  # Explicit NULL for optional parameters</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="variable-reference-syntax">3. <strong>Variable Reference Syntax</strong><a class="anchor" aria-label="anchor" href="#variable-reference-syntax"></a>
</h5>
<p>‚ùå <strong>Wrong</strong>:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb130-1"><a href="#cb130-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeLevel</span></span>
<span id="cb130-2"><a href="#cb130-2" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb130-3"><a href="#cb130-3" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> outcome</span><span class="co">              # Missing parentheses</span></span></code></pre></div>
<p>‚úÖ <strong>Correct</strong>:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb131-1"><a href="#cb131-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeLevel</span></span>
<span id="cb131-2"><a href="#cb131-2" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Level</span></span>
<span id="cb131-3"><a href="#cb131-3" tabindex="-1"></a><span class="at">  </span><span class="fu">variable</span><span class="kw">:</span><span class="at"> (outcome)</span><span class="co">            # Parentheses required for references</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="testing-your--a-yaml-files">Testing Your .a.yaml Files<a class="anchor" aria-label="anchor" href="#testing-your--a-yaml-files"></a>
</h4>
<div class="sourceCode" id="cb132"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Always test compilation after .a.yaml changes</span></span>
<span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">prepare</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Test in jamovi interface</span></span>
<span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The <code>.a.yaml</code> files are the foundation of user interaction
in jamovi modules. They must be precise, well-documented, and thoroughly
tested to ensure a smooth user experience and proper integration with
the underlying R analysis code.</p>
</div>
</div>
<div class="section level3">
<h3 id="deep-dive--r-yaml-results-definition-architecture">üìã Deep Dive: .r.yaml Results Definition Architecture<a class="anchor" aria-label="anchor" href="#deep-dive--r-yaml-results-definition-architecture"></a>
</h3>
<p>The <code>.r.yaml</code> files define the output structure and
presentation for jamovi modules. They specify what results users will
see, how they‚Äôre organized, and how they‚Äôre displayed. This is where you
define tables, plots, and text outputs that will be generated by your
analysis.</p>
<div class="section level4">
<h4 id="complete--r-yaml-anatomy">Complete .r.yaml Anatomy<a class="anchor" aria-label="anchor" href="#complete--r-yaml-anatomy"></a>
</h4>
<div class="sourceCode" id="cb133"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb133-1"><a href="#cb133-1" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb133-2"><a href="#cb133-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> survival</span><span class="co">                     # Must match .a.yaml and .b.R</span></span>
<span id="cb133-3"><a href="#cb133-3" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Survival Analysis</span><span class="co">          # Display title for results panel</span></span>
<span id="cb133-4"><a href="#cb133-4" tabindex="-1"></a><span class="fu">jrs</span><span class="kw">:</span><span class="at"> </span><span class="st">'1.1'</span><span class="co">                       # jamovi Results Specification version</span></span>
<span id="cb133-5"><a href="#cb133-5" tabindex="-1"></a></span>
<span id="cb133-6"><a href="#cb133-6" tabindex="-1"></a><span class="co"># Global clear conditions (optional)</span></span>
<span id="cb133-7"><a href="#cb133-7" tabindex="-1"></a><span class="fu">clearWith</span><span class="kw">:</span></span>
<span id="cb133-8"><a href="#cb133-8" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> dep</span></span>
<span id="cb133-9"><a href="#cb133-9" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> group</span></span>
<span id="cb133-10"><a href="#cb133-10" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> grvar</span></span>
<span id="cb133-11"><a href="#cb133-11" tabindex="-1"></a></span>
<span id="cb133-12"><a href="#cb133-12" tabindex="-1"></a><span class="fu">items</span><span class="kw">:</span><span class="co">                           # Core results structure</span></span>
<span id="cb133-13"><a href="#cb133-13" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> subtitle</span></span>
<span id="cb133-14"><a href="#cb133-14" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Survival Analysis - ${explanatory}`'</span></span>
<span id="cb133-15"><a href="#cb133-15" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Preformatted</span></span>
<span id="cb133-16"><a href="#cb133-16" tabindex="-1"></a><span class="at">      </span></span>
<span id="cb133-17"><a href="#cb133-17" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> medianTable</span></span>
<span id="cb133-18"><a href="#cb133-18" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Median Survival Table: Levels for ${explanatory}`'</span></span>
<span id="cb133-19"><a href="#cb133-19" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb133-20"><a href="#cb133-20" tabindex="-1"></a><span class="co">      # ... table definition</span></span>
<span id="cb133-21"><a href="#cb133-21" tabindex="-1"></a><span class="at">      </span></span>
<span id="cb133-22"><a href="#cb133-22" tabindex="-1"></a><span class="fu">refs</span><span class="kw">:</span><span class="co">                           # References section</span></span>
<span id="cb133-23"><a href="#cb133-23" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> finalfit</span></span>
<span id="cb133-24"><a href="#cb133-24" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> survival</span></span>
<span id="cb133-25"><a href="#cb133-25" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> survminer</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="core-result-types-and-patterns">Core Result Types and Patterns<a class="anchor" aria-label="anchor" href="#core-result-types-and-patterns"></a>
</h4>
<div class="section level5">
<h5 id="text-and-preformatted-output">1. <strong>Text and Preformatted Output</strong><a class="anchor" aria-label="anchor" href="#text-and-preformatted-output"></a>
</h5>
<p><strong>Simple Preformatted Text</strong>:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb134-1"><a href="#cb134-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> medianSummary</span></span>
<span id="cb134-2"><a href="#cb134-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Median Survival Summary and Table - ${explanatory}`'</span></span>
<span id="cb134-3"><a href="#cb134-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Preformatted</span></span>
<span id="cb134-4"><a href="#cb134-4" tabindex="-1"></a><span class="at">  </span><span class="fu">clearWith</span><span class="kw">:</span></span>
<span id="cb134-5"><a href="#cb134-5" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> explanatory</span></span>
<span id="cb134-6"><a href="#cb134-6" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> outcome</span></span>
<span id="cb134-7"><a href="#cb134-7" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> outcomeLevel</span></span></code></pre></div>
<p><strong>HTML Output</strong>:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb135-1"><a href="#cb135-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> todo</span></span>
<span id="cb135-2"><a href="#cb135-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> To Do</span></span>
<span id="cb135-3"><a href="#cb135-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Html</span></span>
<span id="cb135-4"><a href="#cb135-4" tabindex="-1"></a><span class="at">  </span><span class="fu">clearWith</span><span class="kw">:</span></span>
<span id="cb135-5"><a href="#cb135-5" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> explanatory</span></span>
<span id="cb135-6"><a href="#cb135-6" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> outcome</span></span>
<span id="cb135-7"><a href="#cb135-7" tabindex="-1"></a></span>
<span id="cb135-8"><a href="#cb135-8" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> tablestyle2</span></span>
<span id="cb135-9"><a href="#cb135-9" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Cross Table - ${group}`'</span></span>
<span id="cb135-10"><a href="#cb135-10" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Html</span></span>
<span id="cb135-11"><a href="#cb135-11" tabindex="-1"></a><span class="at">  </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (sty:finalfit)</span><span class="co">        # Conditional visibility</span></span>
<span id="cb135-12"><a href="#cb135-12" tabindex="-1"></a><span class="at">  </span><span class="fu">refs</span><span class="kw">:</span><span class="at"> finalfit</span><span class="co">                 # Package reference</span></span></code></pre></div>
<p><strong>Dynamic Titles with Variable Interpolation</strong>:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb136-1"><a href="#cb136-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> subtitle</span></span>
<span id="cb136-2"><a href="#cb136-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Survival Analysis - ${explanatory}`'</span><span class="co">  # Variable substitution</span></span>
<span id="cb136-3"><a href="#cb136-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Preformatted</span></span>
<span id="cb136-4"><a href="#cb136-4" tabindex="-1"></a></span>
<span id="cb136-5"><a href="#cb136-5" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> calculatedtime</span></span>
<span id="cb136-6"><a href="#cb136-6" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Add Calculated Time to Data</span></span>
<span id="cb136-7"><a href="#cb136-7" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Output</span></span>
<span id="cb136-8"><a href="#cb136-8" tabindex="-1"></a><span class="at">  </span><span class="fu">varTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Calculated Time - from ${ dxdate } to { fudate }`'</span></span>
<span id="cb136-9"><a href="#cb136-9" tabindex="-1"></a><span class="at">  </span><span class="fu">varDescription</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Calculated Time from Given Dates`'</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="table-definitions">2. <strong>Table Definitions</strong><a class="anchor" aria-label="anchor" href="#table-definitions"></a>
</h5>
<p><strong>Basic Table Structure</strong>:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb137-1"><a href="#cb137-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> medianTable</span></span>
<span id="cb137-2"><a href="#cb137-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Median Survival Table: Levels for ${explanatory}`'</span></span>
<span id="cb137-3"><a href="#cb137-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb137-4"><a href="#cb137-4" tabindex="-1"></a><span class="at">  </span><span class="fu">rows</span><span class="kw">:</span><span class="at"> </span><span class="dv">0</span><span class="co">                        # Dynamic row count</span></span>
<span id="cb137-5"><a href="#cb137-5" tabindex="-1"></a><span class="at">  </span><span class="fu">columns</span><span class="kw">:</span></span>
<span id="cb137-6"><a href="#cb137-6" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> factor</span></span>
<span id="cb137-7"><a href="#cb137-7" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Levels"</span></span>
<span id="cb137-8"><a href="#cb137-8" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> text</span></span>
<span id="cb137-9"><a href="#cb137-9" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> records</span></span>
<span id="cb137-10"><a href="#cb137-10" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Records"</span></span>
<span id="cb137-11"><a href="#cb137-11" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> integer</span></span>
<span id="cb137-12"><a href="#cb137-12" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> median</span></span>
<span id="cb137-13"><a href="#cb137-13" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Median"</span></span>
<span id="cb137-14"><a href="#cb137-14" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span></code></pre></div>
<p><strong>Advanced Table with Formatting</strong>:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb138-1"><a href="#cb138-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> survTable</span></span>
<span id="cb138-2"><a href="#cb138-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`1, 3, 5 year Survival - ${explanatory}`'</span></span>
<span id="cb138-3"><a href="#cb138-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb138-4"><a href="#cb138-4" tabindex="-1"></a><span class="at">  </span><span class="fu">rows</span><span class="kw">:</span><span class="at"> </span><span class="dv">0</span></span>
<span id="cb138-5"><a href="#cb138-5" tabindex="-1"></a><span class="at">  </span><span class="fu">columns</span><span class="kw">:</span></span>
<span id="cb138-6"><a href="#cb138-6" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> surv</span></span>
<span id="cb138-7"><a href="#cb138-7" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Survival"</span></span>
<span id="cb138-8"><a href="#cb138-8" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb138-9"><a href="#cb138-9" tabindex="-1"></a><span class="at">      </span><span class="fu">format</span><span class="kw">:</span><span class="at"> pc</span><span class="co">                 # Percentage formatting</span></span>
<span id="cb138-10"><a href="#cb138-10" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> lower</span></span>
<span id="cb138-11"><a href="#cb138-11" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Lower"</span></span>
<span id="cb138-12"><a href="#cb138-12" tabindex="-1"></a><span class="at">      </span><span class="fu">superTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'95% Confidence Interval'</span><span class="co">  # Column grouping</span></span>
<span id="cb138-13"><a href="#cb138-13" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb138-14"><a href="#cb138-14" tabindex="-1"></a><span class="at">      </span><span class="fu">format</span><span class="kw">:</span><span class="at"> pc</span></span>
<span id="cb138-15"><a href="#cb138-15" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> upper</span></span>
<span id="cb138-16"><a href="#cb138-16" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Upper"</span></span>
<span id="cb138-17"><a href="#cb138-17" tabindex="-1"></a><span class="at">      </span><span class="fu">superTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'95% Confidence Interval'</span></span>
<span id="cb138-18"><a href="#cb138-18" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb138-19"><a href="#cb138-19" tabindex="-1"></a><span class="at">      </span><span class="fu">format</span><span class="kw">:</span><span class="at"> pc</span></span></code></pre></div>
<p><strong>Transposed Table</strong>:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb139-1"><a href="#cb139-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> nTable</span></span>
<span id="cb139-2"><a href="#cb139-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'n'</span></span>
<span id="cb139-3"><a href="#cb139-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb139-4"><a href="#cb139-4" tabindex="-1"></a><span class="at">  </span><span class="fu">swapRowsColumns</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">          # Transpose rows and columns</span></span>
<span id="cb139-5"><a href="#cb139-5" tabindex="-1"></a><span class="at">  </span><span class="fu">rows</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb139-6"><a href="#cb139-6" tabindex="-1"></a><span class="at">  </span><span class="fu">columns</span><span class="kw">:</span></span>
<span id="cb139-7"><a href="#cb139-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> TotalPop</span></span>
<span id="cb139-8"><a href="#cb139-8" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Total'</span></span>
<span id="cb139-9"><a href="#cb139-9" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb139-10"><a href="#cb139-10" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> DiseaseP</span></span>
<span id="cb139-11"><a href="#cb139-11" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Diseased'</span></span>
<span id="cb139-12"><a href="#cb139-12" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="imageplot-outputs">3. <strong>Image/Plot Outputs</strong><a class="anchor" aria-label="anchor" href="#imageplot-outputs"></a>
</h5>
<p><strong>Basic Plot Definition</strong>:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb140-1"><a href="#cb140-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> plot</span></span>
<span id="cb140-2"><a href="#cb140-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Survival Plot - ${explanatory}`'</span></span>
<span id="cb140-3"><a href="#cb140-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Image</span></span>
<span id="cb140-4"><a href="#cb140-4" tabindex="-1"></a><span class="at">  </span><span class="fu">width</span><span class="kw">:</span><span class="at"> </span><span class="dv">600</span></span>
<span id="cb140-5"><a href="#cb140-5" tabindex="-1"></a><span class="at">  </span><span class="fu">height</span><span class="kw">:</span><span class="at"> </span><span class="dv">450</span></span>
<span id="cb140-6"><a href="#cb140-6" tabindex="-1"></a><span class="at">  </span><span class="fu">renderFun</span><span class="kw">:</span><span class="at"> .plot</span><span class="co">               # Function name in .b.R</span></span>
<span id="cb140-7"><a href="#cb140-7" tabindex="-1"></a><span class="at">  </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (sc)</span><span class="co">                  # Conditional visibility</span></span>
<span id="cb140-8"><a href="#cb140-8" tabindex="-1"></a><span class="at">  </span><span class="fu">requiresData</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
<p><strong>Plot with Comprehensive Clear Conditions</strong>:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb141-1"><a href="#cb141-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> plot8</span></span>
<span id="cb141-2"><a href="#cb141-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Proportional Hazards Assumption - ${explanatory}`'</span></span>
<span id="cb141-3"><a href="#cb141-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Image</span></span>
<span id="cb141-4"><a href="#cb141-4" tabindex="-1"></a><span class="at">  </span><span class="fu">width</span><span class="kw">:</span><span class="at"> </span><span class="dv">600</span></span>
<span id="cb141-5"><a href="#cb141-5" tabindex="-1"></a><span class="at">  </span><span class="fu">height</span><span class="kw">:</span><span class="at"> </span><span class="dv">450</span></span>
<span id="cb141-6"><a href="#cb141-6" tabindex="-1"></a><span class="at">  </span><span class="fu">renderFun</span><span class="kw">:</span><span class="at"> .plot8</span></span>
<span id="cb141-7"><a href="#cb141-7" tabindex="-1"></a><span class="at">  </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (ph_cox)</span></span>
<span id="cb141-8"><a href="#cb141-8" tabindex="-1"></a><span class="at">  </span><span class="fu">requiresData</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb141-9"><a href="#cb141-9" tabindex="-1"></a><span class="at">  </span><span class="fu">clearWith</span><span class="kw">:</span></span>
<span id="cb141-10"><a href="#cb141-10" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ph_cox</span></span>
<span id="cb141-11"><a href="#cb141-11" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> endplot</span></span>
<span id="cb141-12"><a href="#cb141-12" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> byplot</span></span>
<span id="cb141-13"><a href="#cb141-13" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> explanatory</span></span>
<span id="cb141-14"><a href="#cb141-14" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> outcome</span></span>
<span id="cb141-15"><a href="#cb141-15" tabindex="-1"></a><span class="at">  </span><span class="fu">refs</span><span class="kw">:</span></span>
<span id="cb141-16"><a href="#cb141-16" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> KMunicate</span></span>
<span id="cb141-17"><a href="#cb141-17" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> KMunicate2</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="output-variables-data-addition">4. <strong>Output Variables (Data Addition)</strong><a class="anchor" aria-label="anchor" href="#output-variables-data-addition"></a>
</h5>
<div class="sourceCode" id="cb142"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb142-1"><a href="#cb142-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> calculatedtime</span></span>
<span id="cb142-2"><a href="#cb142-2" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Add Calculated Time to Data</span></span>
<span id="cb142-3"><a href="#cb142-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Output</span></span>
<span id="cb142-4"><a href="#cb142-4" tabindex="-1"></a><span class="at">  </span><span class="fu">varTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Calculated Time - from ${ dxdate } to { fudate }`'</span></span>
<span id="cb142-5"><a href="#cb142-5" tabindex="-1"></a><span class="at">  </span><span class="fu">varDescription</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Calculated Time from Given Dates`'</span></span>
<span id="cb142-6"><a href="#cb142-6" tabindex="-1"></a><span class="at">  </span><span class="fu">measureType</span><span class="kw">:</span><span class="at"> continuous</span></span>
<span id="cb142-7"><a href="#cb142-7" tabindex="-1"></a><span class="at">  </span><span class="fu">clearWith</span><span class="kw">:</span></span>
<span id="cb142-8"><a href="#cb142-8" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> tint</span></span>
<span id="cb142-9"><a href="#cb142-9" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> dxdate</span></span>
<span id="cb142-10"><a href="#cb142-10" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> fudate</span></span>
<span id="cb142-11"><a href="#cb142-11" tabindex="-1"></a></span>
<span id="cb142-12"><a href="#cb142-12" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeredefined</span></span>
<span id="cb142-13"><a href="#cb142-13" tabindex="-1"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Add Redefined Outcome to Data</span></span>
<span id="cb142-14"><a href="#cb142-14" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Output</span></span>
<span id="cb142-15"><a href="#cb142-15" tabindex="-1"></a><span class="at">  </span><span class="fu">varTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Redefined Outcome - from ${ outcome }`'</span></span>
<span id="cb142-16"><a href="#cb142-16" tabindex="-1"></a><span class="at">  </span><span class="fu">varDescription</span><span class="kw">:</span><span class="at"> Redefined Outcome from Analysis Type</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="real-world-complex-examples-1">Real-World Complex Examples<a class="anchor" aria-label="anchor" href="#real-world-complex-examples-1"></a>
</h4>
<div class="section level5">
<h5 id="example-1-survival-analysis-results-structure">Example 1: Survival Analysis Results Structure<a class="anchor" aria-label="anchor" href="#example-1-survival-analysis-results-structure"></a>
</h5>
<div class="sourceCode" id="cb143"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb143-1"><a href="#cb143-1" tabindex="-1"></a><span class="co"># From survival.r.yaml - Comprehensive survival analysis outputs</span></span>
<span id="cb143-2"><a href="#cb143-2" tabindex="-1"></a><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb143-3"><a href="#cb143-3" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> medianSummary</span></span>
<span id="cb143-4"><a href="#cb143-4" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Median Survival Summary and Table - ${explanatory}`'</span></span>
<span id="cb143-5"><a href="#cb143-5" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Preformatted</span></span>
<span id="cb143-6"><a href="#cb143-6" tabindex="-1"></a><span class="at">      </span><span class="fu">clearWith</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">explanatory</span><span class="kw">,</span><span class="at"> outcome</span><span class="kw">,</span><span class="at"> outcomeLevel</span><span class="kw">,</span><span class="at"> overalltime</span><span class="kw">]</span></span>
<span id="cb143-7"><a href="#cb143-7" tabindex="-1"></a></span>
<span id="cb143-8"><a href="#cb143-8" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> medianTable</span></span>
<span id="cb143-9"><a href="#cb143-9" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Median Survival Table: Levels for ${explanatory}`'</span></span>
<span id="cb143-10"><a href="#cb143-10" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb143-11"><a href="#cb143-11" tabindex="-1"></a><span class="at">      </span><span class="fu">rows</span><span class="kw">:</span><span class="at"> </span><span class="dv">0</span></span>
<span id="cb143-12"><a href="#cb143-12" tabindex="-1"></a><span class="at">      </span><span class="fu">columns</span><span class="kw">:</span></span>
<span id="cb143-13"><a href="#cb143-13" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> factor</span></span>
<span id="cb143-14"><a href="#cb143-14" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Levels"</span></span>
<span id="cb143-15"><a href="#cb143-15" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> text</span></span>
<span id="cb143-16"><a href="#cb143-16" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> records</span></span>
<span id="cb143-17"><a href="#cb143-17" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Records"</span></span>
<span id="cb143-18"><a href="#cb143-18" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> integer</span></span>
<span id="cb143-19"><a href="#cb143-19" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> events</span></span>
<span id="cb143-20"><a href="#cb143-20" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Events"</span></span>
<span id="cb143-21"><a href="#cb143-21" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> integer</span></span>
<span id="cb143-22"><a href="#cb143-22" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> median</span></span>
<span id="cb143-23"><a href="#cb143-23" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Median"</span></span>
<span id="cb143-24"><a href="#cb143-24" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb143-25"><a href="#cb143-25" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> x0_95lcl</span></span>
<span id="cb143-26"><a href="#cb143-26" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Lower"</span></span>
<span id="cb143-27"><a href="#cb143-27" tabindex="-1"></a><span class="at">          </span><span class="fu">superTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'95% Confidence Interval'</span></span>
<span id="cb143-28"><a href="#cb143-28" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb143-29"><a href="#cb143-29" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> x0_95ucl</span></span>
<span id="cb143-30"><a href="#cb143-30" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Upper"</span></span>
<span id="cb143-31"><a href="#cb143-31" tabindex="-1"></a><span class="at">          </span><span class="fu">superTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'95% Confidence Interval'</span></span>
<span id="cb143-32"><a href="#cb143-32" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb143-33"><a href="#cb143-33" tabindex="-1"></a></span>
<span id="cb143-34"><a href="#cb143-34" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cox_ph</span></span>
<span id="cb143-35"><a href="#cb143-35" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Proportional Hazards Assumption'</span></span>
<span id="cb143-36"><a href="#cb143-36" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Preformatted</span></span>
<span id="cb143-37"><a href="#cb143-37" tabindex="-1"></a><span class="at">      </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (ph_cox)</span><span class="co">                    # Only show when option enabled</span></span>
<span id="cb143-38"><a href="#cb143-38" tabindex="-1"></a></span>
<span id="cb143-39"><a href="#cb143-39" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> plot</span></span>
<span id="cb143-40"><a href="#cb143-40" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Survival Plot - ${explanatory}`'</span></span>
<span id="cb143-41"><a href="#cb143-41" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Image</span></span>
<span id="cb143-42"><a href="#cb143-42" tabindex="-1"></a><span class="at">      </span><span class="fu">width</span><span class="kw">:</span><span class="at"> </span><span class="dv">600</span></span>
<span id="cb143-43"><a href="#cb143-43" tabindex="-1"></a><span class="at">      </span><span class="fu">height</span><span class="kw">:</span><span class="at"> </span><span class="dv">450</span></span>
<span id="cb143-44"><a href="#cb143-44" tabindex="-1"></a><span class="at">      </span><span class="fu">renderFun</span><span class="kw">:</span><span class="at"> .plot</span></span>
<span id="cb143-45"><a href="#cb143-45" tabindex="-1"></a><span class="at">      </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (sc)</span></span>
<span id="cb143-46"><a href="#cb143-46" tabindex="-1"></a><span class="at">      </span><span class="fu">requiresData</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="example-2-medical-decision-analysis-results">Example 2: Medical Decision Analysis Results<a class="anchor" aria-label="anchor" href="#example-2-medical-decision-analysis-results"></a>
</h5>
<div class="sourceCode" id="cb144"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb144-1"><a href="#cb144-1" tabindex="-1"></a><span class="co"># From decision.r.yaml - Decision analysis outputs</span></span>
<span id="cb144-2"><a href="#cb144-2" tabindex="-1"></a><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb144-3"><a href="#cb144-3" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cTable</span></span>
<span id="cb144-4"><a href="#cb144-4" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Recoded Data for Decision Test Statistics'</span></span>
<span id="cb144-5"><a href="#cb144-5" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb144-6"><a href="#cb144-6" tabindex="-1"></a><span class="at">      </span><span class="fu">rows</span><span class="kw">:</span><span class="at"> </span><span class="dv">0</span></span>
<span id="cb144-7"><a href="#cb144-7" tabindex="-1"></a><span class="at">      </span><span class="fu">columns</span><span class="kw">:</span></span>
<span id="cb144-8"><a href="#cb144-8" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> newtest</span></span>
<span id="cb144-9"><a href="#cb144-9" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">''</span></span>
<span id="cb144-10"><a href="#cb144-10" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> text</span></span>
<span id="cb144-11"><a href="#cb144-11" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> GP</span></span>
<span id="cb144-12"><a href="#cb144-12" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Gold Positive'</span></span>
<span id="cb144-13"><a href="#cb144-13" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb144-14"><a href="#cb144-14" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> GN</span></span>
<span id="cb144-15"><a href="#cb144-15" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Gold Negative'</span></span>
<span id="cb144-16"><a href="#cb144-16" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb144-17"><a href="#cb144-17" tabindex="-1"></a></span>
<span id="cb144-18"><a href="#cb144-18" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> ratioTable</span></span>
<span id="cb144-19"><a href="#cb144-19" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">''</span></span>
<span id="cb144-20"><a href="#cb144-20" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb144-21"><a href="#cb144-21" tabindex="-1"></a><span class="at">      </span><span class="fu">swapRowsColumns</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb144-22"><a href="#cb144-22" tabindex="-1"></a><span class="at">      </span><span class="fu">rows</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb144-23"><a href="#cb144-23" tabindex="-1"></a><span class="at">      </span><span class="fu">columns</span><span class="kw">:</span></span>
<span id="cb144-24"><a href="#cb144-24" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Sens</span></span>
<span id="cb144-25"><a href="#cb144-25" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Sensitivity'</span></span>
<span id="cb144-26"><a href="#cb144-26" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb144-27"><a href="#cb144-27" tabindex="-1"></a><span class="at">          </span><span class="fu">format</span><span class="kw">:</span><span class="at"> pc</span></span>
<span id="cb144-28"><a href="#cb144-28" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Spec</span></span>
<span id="cb144-29"><a href="#cb144-29" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Specificity'</span></span>
<span id="cb144-30"><a href="#cb144-30" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb144-31"><a href="#cb144-31" tabindex="-1"></a><span class="at">          </span><span class="fu">format</span><span class="kw">:</span><span class="at"> pc</span></span>
<span id="cb144-32"><a href="#cb144-32" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> PPV</span></span>
<span id="cb144-33"><a href="#cb144-33" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Positive Predictive Value'</span></span>
<span id="cb144-34"><a href="#cb144-34" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb144-35"><a href="#cb144-35" tabindex="-1"></a><span class="at">          </span><span class="fu">format</span><span class="kw">:</span><span class="at"> pc</span></span>
<span id="cb144-36"><a href="#cb144-36" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> LRP</span></span>
<span id="cb144-37"><a href="#cb144-37" tabindex="-1"></a><span class="at">          </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Positive Likelihood Ratio</span></span>
<span id="cb144-38"><a href="#cb144-38" tabindex="-1"></a><span class="at">          </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb144-39"><a href="#cb144-39" tabindex="-1"></a></span>
<span id="cb144-40"><a href="#cb144-40" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> plot1</span></span>
<span id="cb144-41"><a href="#cb144-41" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'Fagan nomogram'</span></span>
<span id="cb144-42"><a href="#cb144-42" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Image</span></span>
<span id="cb144-43"><a href="#cb144-43" tabindex="-1"></a><span class="at">      </span><span class="fu">width</span><span class="kw">:</span><span class="at"> </span><span class="dv">600</span></span>
<span id="cb144-44"><a href="#cb144-44" tabindex="-1"></a><span class="at">      </span><span class="fu">height</span><span class="kw">:</span><span class="at"> </span><span class="dv">450</span></span>
<span id="cb144-45"><a href="#cb144-45" tabindex="-1"></a><span class="at">      </span><span class="fu">renderFun</span><span class="kw">:</span><span class="at"> .plot1</span></span>
<span id="cb144-46"><a href="#cb144-46" tabindex="-1"></a><span class="at">      </span><span class="fu">requiresData</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb144-47"><a href="#cb144-47" tabindex="-1"></a><span class="at">      </span><span class="fu">visible</span><span class="kw">:</span><span class="at"> (fagan)</span></span>
<span id="cb144-48"><a href="#cb144-48" tabindex="-1"></a><span class="at">      </span><span class="fu">refs</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">Fagan</span><span class="kw">,</span><span class="at"> Fagan2</span><span class="kw">]</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="advanced-patterns-and-features">Advanced Patterns and Features<a class="anchor" aria-label="anchor" href="#advanced-patterns-and-features"></a>
</h4>
<div class="section level5">
<h5 id="conditional-visibility-1">1. <strong>Conditional Visibility</strong><a class="anchor" aria-label="anchor" href="#conditional-visibility-1"></a>
</h5>
<div class="sourceCode" id="cb145"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb145-1"><a href="#cb145-1" tabindex="-1"></a><span class="co"># Single condition</span></span>
<span id="cb145-2"><a href="#cb145-2" tabindex="-1"></a><span class="fu">visible</span><span class="kw">:</span><span class="at"> (sc)</span><span class="co">                    # Show when 'sc' option is true</span></span>
<span id="cb145-3"><a href="#cb145-3" tabindex="-1"></a></span>
<span id="cb145-4"><a href="#cb145-4" tabindex="-1"></a><span class="co"># Multiple conditions with OR</span></span>
<span id="cb145-5"><a href="#cb145-5" tabindex="-1"></a><span class="fu">visible</span><span class="kw">:</span><span class="at"> (sty:nejm || sty:lancet || sty:hmisc)</span></span>
<span id="cb145-6"><a href="#cb145-6" tabindex="-1"></a></span>
<span id="cb145-7"><a href="#cb145-7" tabindex="-1"></a><span class="co"># Specific value matching</span></span>
<span id="cb145-8"><a href="#cb145-8" tabindex="-1"></a><span class="fu">visible</span><span class="kw">:</span><span class="at"> (sty:finalfit)</span><span class="co">          # Show when sty equals 'finalfit'</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="dynamic-titles-with-variable-substitution">2. <strong>Dynamic Titles with Variable Substitution</strong><a class="anchor" aria-label="anchor" href="#dynamic-titles-with-variable-substitution"></a>
</h5>
<div class="sourceCode" id="cb146"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb146-1"><a href="#cb146-1" tabindex="-1"></a><span class="co"># Single variable</span></span>
<span id="cb146-2"><a href="#cb146-2" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Survival Plot - ${explanatory}`'</span></span>
<span id="cb146-3"><a href="#cb146-3" tabindex="-1"></a></span>
<span id="cb146-4"><a href="#cb146-4" tabindex="-1"></a><span class="co"># Multiple variables</span></span>
<span id="cb146-5"><a href="#cb146-5" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Bar Chart ${group} - {dep} by {grvar}`'</span></span>
<span id="cb146-6"><a href="#cb146-6" tabindex="-1"></a></span>
<span id="cb146-7"><a href="#cb146-7" tabindex="-1"></a><span class="co"># Complex interpolation</span></span>
<span id="cb146-8"><a href="#cb146-8" tabindex="-1"></a><span class="fu">varTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'`Calculated Time - from ${ dxdate } to { fudate }`'</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="column-formatting-options">3. <strong>Column Formatting Options</strong><a class="anchor" aria-label="anchor" href="#column-formatting-options"></a>
</h5>
<div class="sourceCode" id="cb147"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb147-1"><a href="#cb147-1" tabindex="-1"></a><span class="fu">columns</span><span class="kw">:</span></span>
<span id="cb147-2"><a href="#cb147-2" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pvalue</span></span>
<span id="cb147-3"><a href="#cb147-3" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> p-value</span></span>
<span id="cb147-4"><a href="#cb147-4" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb147-5"><a href="#cb147-5" tabindex="-1"></a><span class="at">      </span><span class="fu">format</span><span class="kw">:</span><span class="at"> zto,pvalue</span><span class="co">         # Zero-to formatting with p-value styling</span></span>
<span id="cb147-6"><a href="#cb147-6" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb147-7"><a href="#cb147-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> percentage</span></span>
<span id="cb147-8"><a href="#cb147-8" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Survival"</span></span>
<span id="cb147-9"><a href="#cb147-9" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb147-10"><a href="#cb147-10" tabindex="-1"></a><span class="at">      </span><span class="fu">format</span><span class="kw">:</span><span class="at"> pc</span><span class="co">                 # Percentage formatting</span></span>
<span id="cb147-11"><a href="#cb147-11" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb147-12"><a href="#cb147-12" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> estimate</span></span>
<span id="cb147-13"><a href="#cb147-13" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Estimate"</span></span>
<span id="cb147-14"><a href="#cb147-14" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb147-15"><a href="#cb147-15" tabindex="-1"></a><span class="at">      </span><span class="fu">format</span><span class="kw">:</span><span class="at"> zto</span><span class="co">                # Zero-to formatting</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="grouped-columns-supertitles">4. <strong>Grouped Columns (SuperTitles)</strong><a class="anchor" aria-label="anchor" href="#grouped-columns-supertitles"></a>
</h5>
<div class="sourceCode" id="cb148"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb148-1"><a href="#cb148-1" tabindex="-1"></a><span class="fu">columns</span><span class="kw">:</span></span>
<span id="cb148-2"><a href="#cb148-2" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> lower</span></span>
<span id="cb148-3"><a href="#cb148-3" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Lower"</span></span>
<span id="cb148-4"><a href="#cb148-4" tabindex="-1"></a><span class="at">      </span><span class="fu">superTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'95% Confidence Interval'</span></span>
<span id="cb148-5"><a href="#cb148-5" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb148-6"><a href="#cb148-6" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> upper</span></span>
<span id="cb148-7"><a href="#cb148-7" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Upper"</span><span class="at">  </span></span>
<span id="cb148-8"><a href="#cb148-8" tabindex="-1"></a><span class="at">      </span><span class="fu">superTitle</span><span class="kw">:</span><span class="at"> </span><span class="st">'95% Confidence Interval'</span></span>
<span id="cb148-9"><a href="#cb148-9" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> number</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="global-vs-local-clear-conditions">Global vs Local Clear Conditions<a class="anchor" aria-label="anchor" href="#global-vs-local-clear-conditions"></a>
</h4>
<div class="section level5">
<h5 id="global-clear-conditions">Global Clear Conditions<a class="anchor" aria-label="anchor" href="#global-clear-conditions"></a>
</h5>
<div class="sourceCode" id="cb149"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb149-1"><a href="#cb149-1" tabindex="-1"></a><span class="co"># At the top level - affects all items</span></span>
<span id="cb149-2"><a href="#cb149-2" tabindex="-1"></a><span class="fu">clearWith</span><span class="kw">:</span></span>
<span id="cb149-3"><a href="#cb149-3" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> dep</span></span>
<span id="cb149-4"><a href="#cb149-4" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> group</span></span>
<span id="cb149-5"><a href="#cb149-5" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> grvar</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="local-clear-conditions">Local Clear Conditions<a class="anchor" aria-label="anchor" href="#local-clear-conditions"></a>
</h5>
<div class="sourceCode" id="cb150"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb150-1"><a href="#cb150-1" tabindex="-1"></a><span class="co"># For specific items</span></span>
<span id="cb150-2"><a href="#cb150-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> medianTable</span></span>
<span id="cb150-3"><a href="#cb150-3" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb150-4"><a href="#cb150-4" tabindex="-1"></a><span class="at">  </span><span class="fu">clearWith</span><span class="kw">:</span></span>
<span id="cb150-5"><a href="#cb150-5" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> explanatory</span></span>
<span id="cb150-6"><a href="#cb150-6" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> outcome</span></span>
<span id="cb150-7"><a href="#cb150-7" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> outcomeLevel</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="integration-with-clinicopath-module-system-1">Integration with ClinicoPath Module System<a class="anchor" aria-label="anchor" href="#integration-with-clinicopath-module-system-1"></a>
</h4>
<div class="section level5">
<h5 id="result-organization">1. <strong>Result Organization</strong><a class="anchor" aria-label="anchor" href="#result-organization"></a>
</h5>
<div class="sourceCode" id="cb151"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb151-1"><a href="#cb151-1" tabindex="-1"></a><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb151-2"><a href="#cb151-2" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> todo</span><span class="co">              # Instructions/guidance</span></span>
<span id="cb151-3"><a href="#cb151-3" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Html</span></span>
<span id="cb151-4"><a href="#cb151-4" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb151-5"><a href="#cb151-5" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> summary</span><span class="co">           # Summary information</span></span>
<span id="cb151-6"><a href="#cb151-6" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Preformatted</span></span>
<span id="cb151-7"><a href="#cb151-7" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb151-8"><a href="#cb151-8" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> mainTable</span><span class="co">         # Primary results table</span></span>
<span id="cb151-9"><a href="#cb151-9" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb151-10"><a href="#cb151-10" tabindex="-1"></a><span class="at">    </span></span>
<span id="cb151-11"><a href="#cb151-11" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> plot</span><span class="co">             # Main visualization</span></span>
<span id="cb151-12"><a href="#cb151-12" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Image</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="reference-management">2. <strong>Reference Management</strong><a class="anchor" aria-label="anchor" href="#reference-management"></a>
</h5>
<div class="sourceCode" id="cb152"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb152-1"><a href="#cb152-1" tabindex="-1"></a><span class="fu">refs</span><span class="kw">:</span></span>
<span id="cb152-2"><a href="#cb152-2" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> finalfit</span><span class="co">               # R packages used</span></span>
<span id="cb152-3"><a href="#cb152-3" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> survival</span></span>
<span id="cb152-4"><a href="#cb152-4" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> survminer</span></span>
<span id="cb152-5"><a href="#cb152-5" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> ClinicoPathJamoviModule</span><span class="co">  # Always include main module</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="common-patterns-by-analysis-type">Common Patterns by Analysis Type<a class="anchor" aria-label="anchor" href="#common-patterns-by-analysis-type"></a>
</h4>
<div class="section level5">
<h5 id="statistical-tests">1. <strong>Statistical Tests</strong><a class="anchor" aria-label="anchor" href="#statistical-tests"></a>
</h5>
<div class="sourceCode" id="cb153"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb153-1"><a href="#cb153-1" tabindex="-1"></a><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb153-2"><a href="#cb153-2" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> instructions</span><span class="co">     # User guidance</span></span>
<span id="cb153-3"><a href="#cb153-3" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Html</span></span>
<span id="cb153-4"><a href="#cb153-4" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> mainTable</span><span class="co">       # Test results</span></span>
<span id="cb153-5"><a href="#cb153-5" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb153-6"><a href="#cb153-6" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> plot</span><span class="co">           # Visualization</span></span>
<span id="cb153-7"><a href="#cb153-7" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Image</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="descriptive-analysis">2. <strong>Descriptive Analysis</strong><a class="anchor" aria-label="anchor" href="#descriptive-analysis"></a>
</h5>
<div class="sourceCode" id="cb154"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb154-1"><a href="#cb154-1" tabindex="-1"></a><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb154-2"><a href="#cb154-2" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> summary</span><span class="co">        # Descriptive summary</span></span>
<span id="cb154-3"><a href="#cb154-3" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Preformatted</span></span>
<span id="cb154-4"><a href="#cb154-4" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> table</span><span class="co">          # Detailed table</span></span>
<span id="cb154-5"><a href="#cb154-5" tabindex="-1"></a><span class="at">      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="complex-analysis-survival">3. <strong>Complex Analysis (Survival)</strong><a class="anchor" aria-label="anchor" href="#complex-analysis-survival"></a>
</h5>
<div class="sourceCode" id="cb155"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb155-1"><a href="#cb155-1" tabindex="-1"></a><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb155-2"><a href="#cb155-2" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> medianSummary</span><span class="co">  # Summary statistics</span></span>
<span id="cb155-3"><a href="#cb155-3" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> medianTable</span><span class="co">    # Median survival table</span></span>
<span id="cb155-4"><a href="#cb155-4" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> coxSummary</span><span class="co">     # Cox regression summary</span></span>
<span id="cb155-5"><a href="#cb155-5" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> coxTable</span><span class="co">       # Cox regression table</span></span>
<span id="cb155-6"><a href="#cb155-6" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> survTable</span><span class="co">      # Time-specific survival</span></span>
<span id="cb155-7"><a href="#cb155-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> plot</span><span class="co">           # Survival curve</span></span>
<span id="cb155-8"><a href="#cb155-8" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> calculatedtime</span><span class="co"> # Output variable</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="best-practices-for--r-yaml-development">Best Practices for .r.yaml Development<a class="anchor" aria-label="anchor" href="#best-practices-for--r-yaml-development"></a>
</h4>
<div class="section level5">
<h5 id="result-organization-1">1. <strong>Result Organization</strong><a class="anchor" aria-label="anchor" href="#result-organization-1"></a>
</h5>
<ul>
<li>Order items logically (instructions ‚Üí summaries ‚Üí tables ‚Üí
plots)</li>
<li>Use descriptive names that reflect the content</li>
<li>Group related outputs together</li>
</ul>
</div>
<div class="section level5">
<h5 id="clear-conditions-strategy">2. <strong>Clear Conditions Strategy</strong><a class="anchor" aria-label="anchor" href="#clear-conditions-strategy"></a>
</h5>
<ul>
<li>Include all relevant options that affect the output</li>
<li>Be comprehensive but not excessive</li>
<li>Test thoroughly to ensure proper clearing</li>
</ul>
</div>
<div class="section level5">
<h5 id="naming-conventions">3. <strong>Naming Conventions</strong><a class="anchor" aria-label="anchor" href="#naming-conventions"></a>
</h5>
<ul>
<li>Use consistent naming patterns across similar analyses</li>
<li>Make names descriptive and meaningful</li>
<li>Follow camelCase or snake_case consistently</li>
</ul>
</div>
<div class="section level5">
<h5 id="visibility-management">4. <strong>Visibility Management</strong><a class="anchor" aria-label="anchor" href="#visibility-management"></a>
</h5>
<div class="sourceCode" id="cb156"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb156-1"><a href="#cb156-1" tabindex="-1"></a><span class="co"># Good: Clear conditional logic</span></span>
<span id="cb156-2"><a href="#cb156-2" tabindex="-1"></a><span class="fu">visible</span><span class="kw">:</span><span class="at"> (ph_cox)</span></span>
<span id="cb156-3"><a href="#cb156-3" tabindex="-1"></a></span>
<span id="cb156-4"><a href="#cb156-4" tabindex="-1"></a><span class="co"># Good: Multiple conditions</span></span>
<span id="cb156-5"><a href="#cb156-5" tabindex="-1"></a><span class="fu">visible</span><span class="kw">:</span><span class="at"> (sty:nejm || sty:lancet)</span></span>
<span id="cb156-6"><a href="#cb156-6" tabindex="-1"></a></span>
<span id="cb156-7"><a href="#cb156-7" tabindex="-1"></a><span class="co"># Avoid: Complex nested conditions that are hard to understand</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="testing-your--r-yaml-files">Testing Your .r.yaml Files<a class="anchor" aria-label="anchor" href="#testing-your--r-yaml-files"></a>
</h4>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Test results generation</span></span>
<span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">prepare</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Test in jamovi interface to verify:</span></span>
<span><span class="co"># - All tables display correctly</span></span>
<span><span class="co"># - Plots render properly</span></span>
<span><span class="co"># - Clear conditions work as expected</span></span>
<span><span class="co"># - Conditional visibility functions properly</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="common-pitfalls-and-solutions-1">Common Pitfalls and Solutions<a class="anchor" aria-label="anchor" href="#common-pitfalls-and-solutions-1"></a>
</h4>
<div class="section level5">
<h5 id="missing-clear-conditions">1. <strong>Missing Clear Conditions</strong><a class="anchor" aria-label="anchor" href="#missing-clear-conditions"></a>
</h5>
<p>‚ùå <strong>Problem</strong>: Results don‚Äôt update when options change
‚úÖ <strong>Solution</strong>: Include all relevant options in
<code>clearWith</code></p>
</div>
<div class="section level5">
<h5 id="incorrect-column-types">2. <strong>Incorrect Column Types</strong><a class="anchor" aria-label="anchor" href="#incorrect-column-types"></a>
</h5>
<p>‚ùå <strong>Problem</strong>: Numbers displayed as text ‚úÖ
<strong>Solution</strong>: Use correct <code>type</code> (number,
integer, text)</p>
</div>
<div class="section level5">
<h5 id="render-function-mismatch">3. <strong>Render Function Mismatch</strong><a class="anchor" aria-label="anchor" href="#render-function-mismatch"></a>
</h5>
<p>‚ùå <strong>Problem</strong>: Plot doesn‚Äôt display ‚úÖ
<strong>Solution</strong>: Ensure <code>renderFun</code> matches
function name in .b.R</p>
<p>The <code>.r.yaml</code> files define the user experience for viewing
results. They must be carefully designed to present information clearly,
update appropriately, and integrate seamlessly with the analysis logic
in the .b.R files.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="deep-dive--u-yaml-user-interface-definition-architecture">üé® Deep Dive: .u.yaml User Interface Definition Architecture<a class="anchor" aria-label="anchor" href="#deep-dive--u-yaml-user-interface-definition-architecture"></a>
</h3>
<p>The <code>.u.yaml</code> files define the user interface layout and
interaction patterns for jamovi modules. They specify how options are
organized, displayed, and interact with each other in the analysis
panel. This is where you create the user experience that researchers
will interact with.</p>
<div class="section level4">
<h4 id="complete--u-yaml-anatomy">Complete .u.yaml Anatomy<a class="anchor" aria-label="anchor" href="#complete--u-yaml-anatomy"></a>
</h4>
<div class="sourceCode" id="cb158"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb158-1"><a href="#cb158-1" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> Survival Analysis</span><span class="co">           # Display title in jamovi menu</span></span>
<span id="cb158-2"><a href="#cb158-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> survival</span><span class="co">                     # Must match .a.yaml, .b.R, .r.yaml</span></span>
<span id="cb158-3"><a href="#cb158-3" tabindex="-1"></a><span class="fu">jus</span><span class="kw">:</span><span class="at"> </span><span class="st">'3.0'</span><span class="co">                        # jamovi UI Specification version</span></span>
<span id="cb158-4"><a href="#cb158-4" tabindex="-1"></a><span class="fu">stage</span><span class="kw">:</span><span class="at"> </span><span class="dv">0</span><span class="co">                          # Development stage (0=development, 1=release)</span></span>
<span id="cb158-5"><a href="#cb158-5" tabindex="-1"></a><span class="fu">compilerMode</span><span class="kw">:</span><span class="at"> tame</span><span class="co">                # Compiler optimization mode</span></span>
<span id="cb158-6"><a href="#cb158-6" tabindex="-1"></a></span>
<span id="cb158-7"><a href="#cb158-7" tabindex="-1"></a><span class="fu">children</span><span class="kw">:</span><span class="co">                         # Root UI container</span></span>
<span id="cb158-8"><a href="#cb158-8" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariableSupplier</span><span class="co">        # Main variable selection area</span></span>
<span id="cb158-9"><a href="#cb158-9" tabindex="-1"></a><span class="at">    </span><span class="fu">persistentItems</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span><span class="co">        # Don't persist selections across datasets</span></span>
<span id="cb158-10"><a href="#cb158-10" tabindex="-1"></a><span class="at">    </span><span class="fu">stretchFactor</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span><span class="co">             # Layout weight</span></span>
<span id="cb158-11"><a href="#cb158-11" tabindex="-1"></a><span class="at">    </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb158-12"><a href="#cb158-12" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TargetLayoutBox</span><span class="co">     # Variable drop zone</span></span>
<span id="cb158-13"><a href="#cb158-13" tabindex="-1"></a><span class="at">        </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Time Elapsed</span></span>
<span id="cb158-14"><a href="#cb158-14" tabindex="-1"></a><span class="at">        </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb158-15"><a href="#cb158-15" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb158-16"><a href="#cb158-16" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> elapsedtime</span><span class="co">     # Must match .a.yaml option name</span></span>
<span id="cb158-17"><a href="#cb158-17" tabindex="-1"></a><span class="at">            </span><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span><span class="co">       # Single variable only</span></span>
<span id="cb158-18"><a href="#cb158-18" tabindex="-1"></a><span class="at">            </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">        # Can receive dropped variables</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="core-ui-component-types-and-patterns">Core UI Component Types and Patterns<a class="anchor" aria-label="anchor" href="#core-ui-component-types-and-patterns"></a>
</h4>
<div class="section level5">
<h5 id="variable-selection-components">1. <strong>Variable Selection Components</strong><a class="anchor" aria-label="anchor" href="#variable-selection-components"></a>
</h5>
<p><strong>Variable Supplier (Main Container)</strong>:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb159-1"><a href="#cb159-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariableSupplier</span></span>
<span id="cb159-2"><a href="#cb159-2" tabindex="-1"></a><span class="at">  </span><span class="fu">persistentItems</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span><span class="co">          # Reset on new dataset</span></span>
<span id="cb159-3"><a href="#cb159-3" tabindex="-1"></a><span class="at">  </span><span class="fu">stretchFactor</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span><span class="co">               # Layout proportion</span></span>
<span id="cb159-4"><a href="#cb159-4" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb159-5"><a href="#cb159-5" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TargetLayoutBox</span><span class="co">      # Variable category container</span></span>
<span id="cb159-6"><a href="#cb159-6" tabindex="-1"></a><span class="at">      </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Dependent Variable</span></span>
<span id="cb159-7"><a href="#cb159-7" tabindex="-1"></a><span class="at">      </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb159-8"><a href="#cb159-8" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span><span class="co"> # Actual variable selector</span></span>
<span id="cb159-9"><a href="#cb159-9" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> vars</span><span class="co">             # Links to .a.yaml option</span></span>
<span id="cb159-10"><a href="#cb159-10" tabindex="-1"></a><span class="at">          </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">         # Accepts dropped variables</span></span>
<span id="cb159-11"><a href="#cb159-11" tabindex="-1"></a><span class="at">          </span><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span><span class="co">        # Single variable limit</span></span></code></pre></div>
<p><strong>Multiple Variables vs Single Variable</strong>:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb160-1"><a href="#cb160-1" tabindex="-1"></a><span class="co"># Multiple variables allowed</span></span>
<span id="cb160-2"><a href="#cb160-2" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb160-3"><a href="#cb160-3" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dep</span></span>
<span id="cb160-4"><a href="#cb160-4" tabindex="-1"></a><span class="at">  </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">                # No maxItemCount = unlimited</span></span>
<span id="cb160-5"><a href="#cb160-5" tabindex="-1"></a></span>
<span id="cb160-6"><a href="#cb160-6" tabindex="-1"></a><span class="co"># Single variable only  </span></span>
<span id="cb160-7"><a href="#cb160-7" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb160-8"><a href="#cb160-8" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> group</span></span>
<span id="cb160-9"><a href="#cb160-9" tabindex="-1"></a><span class="at">  </span><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span><span class="co">              # Restricts to one variable</span></span>
<span id="cb160-10"><a href="#cb160-10" tabindex="-1"></a><span class="at">  </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
<p><strong>Level Selectors for Categorical Variables</strong>:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb161-1"><a href="#cb161-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LevelSelector</span></span>
<span id="cb161-2"><a href="#cb161-2" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeLevel</span></span>
<span id="cb161-3"><a href="#cb161-3" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (outcome &amp;&amp; !multievent)</span><span class="co">  # Conditional enabling</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="organizational-components">2. <strong>Organizational Components</strong><a class="anchor" aria-label="anchor" href="#organizational-components"></a>
</h5>
<p><strong>Collapsible Sections</strong>:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb162-1"><a href="#cb162-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span></span>
<span id="cb162-2"><a href="#cb162-2" tabindex="-1"></a><span class="at">  </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Advanced Elapsed Time Options</span></span>
<span id="cb162-3"><a href="#cb162-3" tabindex="-1"></a><span class="at">  </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">               # Starts collapsed</span></span>
<span id="cb162-4"><a href="#cb162-4" tabindex="-1"></a><span class="at">  </span><span class="fu">stretchFactor</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span><span class="co">             # Layout weight</span></span>
<span id="cb162-5"><a href="#cb162-5" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb162-6"><a href="#cb162-6" tabindex="-1"></a><span class="co">    # ... nested components</span></span></code></pre></div>
<p><strong>Layout Containers</strong>:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb163-1"><a href="#cb163-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LayoutBox</span></span>
<span id="cb163-2"><a href="#cb163-2" tabindex="-1"></a><span class="at">  </span><span class="fu">margin</span><span class="kw">:</span><span class="at"> large</span><span class="co">                 # Spacing around contents</span></span>
<span id="cb163-3"><a href="#cb163-3" tabindex="-1"></a><span class="at">  </span><span class="fu">fitToGrid</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">              # Align to grid</span></span>
<span id="cb163-4"><a href="#cb163-4" tabindex="-1"></a><span class="at">  </span><span class="fu">stretchFactor</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span><span class="co">             # Layout weight</span></span>
<span id="cb163-5"><a href="#cb163-5" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb163-6"><a href="#cb163-6" tabindex="-1"></a><span class="co">    # ... child components</span></span></code></pre></div>
<p><strong>Labels and Groups</strong>:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb164-1"><a href="#cb164-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Label</span></span>
<span id="cb164-2"><a href="#cb164-2" tabindex="-1"></a><span class="at">  </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Time Interval</span></span>
<span id="cb164-3"><a href="#cb164-3" tabindex="-1"></a><span class="at">  </span><span class="fu">fitToGrid</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb164-4"><a href="#cb164-4" tabindex="-1"></a><span class="at">  </span><span class="fu">stretchFactor</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb164-5"><a href="#cb164-5" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb164-6"><a href="#cb164-6" tabindex="-1"></a><span class="co">    # ... components grouped under this label</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="input-controls">3. <strong>Input Controls</strong><a class="anchor" aria-label="anchor" href="#input-controls"></a>
</h5>
<p><strong>Checkboxes</strong>:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb165-1"><a href="#cb165-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CheckBox</span></span>
<span id="cb165-2"><a href="#cb165-2" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> tint</span><span class="co">                    # Links to .a.yaml option</span></span>
<span id="cb165-3"><a href="#cb165-3" tabindex="-1"></a><span class="at">  </span><span class="fu">fitToGrid</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb165-4"><a href="#cb165-4" tabindex="-1"></a></span>
<span id="cb165-5"><a href="#cb165-5" tabindex="-1"></a><span class="co"># Checkbox with nested controls</span></span>
<span id="cb165-6"><a href="#cb165-6" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CheckBox</span></span>
<span id="cb165-7"><a href="#cb165-7" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pairwisecomparisons</span></span>
<span id="cb165-8"><a href="#cb165-8" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb165-9"><a href="#cb165-9" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb165-10"><a href="#cb165-10" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pairwisedisplay</span></span>
<span id="cb165-11"><a href="#cb165-11" tabindex="-1"></a><span class="at">      </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (pairwisecomparisons)</span><span class="co">  # Only enabled when parent checked</span></span></code></pre></div>
<p><strong>Dropdown Menus</strong>:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb166-1"><a href="#cb166-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb166-2"><a href="#cb166-2" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> analysistype</span></span>
<span id="cb166-3"><a href="#cb166-3" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (outcome &amp;&amp; multievent)</span><span class="co">  # Conditional enabling</span></span></code></pre></div>
<p><strong>Text Input Boxes</strong>:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb167-1"><a href="#cb167-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TextBox</span></span>
<span id="cb167-2"><a href="#cb167-2" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> landmark</span></span>
<span id="cb167-3"><a href="#cb167-3" tabindex="-1"></a><span class="at">  </span><span class="fu">format</span><span class="kw">:</span><span class="at"> number</span><span class="co">               # Numeric input only</span></span>
<span id="cb167-4"><a href="#cb167-4" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (uselandmark)</span><span class="co">        # Conditional enabling</span></span>
<span id="cb167-5"><a href="#cb167-5" tabindex="-1"></a></span>
<span id="cb167-6"><a href="#cb167-6" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TextBox</span></span>
<span id="cb167-7"><a href="#cb167-7" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cutp</span></span>
<span id="cb167-8"><a href="#cb167-8" tabindex="-1"></a><span class="at">  </span><span class="fu">format</span><span class="kw">:</span><span class="at"> string</span><span class="co">               # Text input</span></span>
<span id="cb167-9"><a href="#cb167-9" tabindex="-1"></a><span class="at">  </span><span class="fu">width</span><span class="kw">:</span><span class="at"> large</span><span class="co">                 # Wider input box</span></span></code></pre></div>
<p><strong>Output Variables</strong>:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb168-1"><a href="#cb168-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Output</span></span>
<span id="cb168-2"><a href="#cb168-2" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> calculatedtime</span></span>
<span id="cb168-3"><a href="#cb168-3" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (tint)</span><span class="co">               # Only enabled when condition met</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="real-world-complex-examples-2">Real-World Complex Examples<a class="anchor" aria-label="anchor" href="#real-world-complex-examples-2"></a>
</h4>
<div class="section level5">
<h5 id="example-1-survival-analysis-ui-structure">Example 1: Survival Analysis UI Structure<a class="anchor" aria-label="anchor" href="#example-1-survival-analysis-ui-structure"></a>
</h5>
<div class="sourceCode" id="cb169"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb169-1"><a href="#cb169-1" tabindex="-1"></a><span class="co"># From survival.u.yaml - Comprehensive survival analysis interface</span></span>
<span id="cb169-2"><a href="#cb169-2" tabindex="-1"></a><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb169-3"><a href="#cb169-3" tabindex="-1"></a><span class="co">  # Main variable selection area</span></span>
<span id="cb169-4"><a href="#cb169-4" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariableSupplier</span></span>
<span id="cb169-5"><a href="#cb169-5" tabindex="-1"></a><span class="at">    </span><span class="fu">persistentItems</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb169-6"><a href="#cb169-6" tabindex="-1"></a><span class="at">    </span><span class="fu">stretchFactor</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb169-7"><a href="#cb169-7" tabindex="-1"></a><span class="at">    </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb169-8"><a href="#cb169-8" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TargetLayoutBox</span></span>
<span id="cb169-9"><a href="#cb169-9" tabindex="-1"></a><span class="at">        </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Time Elapsed</span></span>
<span id="cb169-10"><a href="#cb169-10" tabindex="-1"></a><span class="at">        </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb169-11"><a href="#cb169-11" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb169-12"><a href="#cb169-12" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> elapsedtime</span></span>
<span id="cb169-13"><a href="#cb169-13" tabindex="-1"></a><span class="at">            </span><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb169-14"><a href="#cb169-14" tabindex="-1"></a><span class="at">            </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb169-15"><a href="#cb169-15" tabindex="-1"></a><span class="at">      </span></span>
<span id="cb169-16"><a href="#cb169-16" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TargetLayoutBox</span></span>
<span id="cb169-17"><a href="#cb169-17" tabindex="-1"></a><span class="at">        </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Outcome</span></span>
<span id="cb169-18"><a href="#cb169-18" tabindex="-1"></a><span class="at">        </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb169-19"><a href="#cb169-19" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb169-20"><a href="#cb169-20" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcome</span></span>
<span id="cb169-21"><a href="#cb169-21" tabindex="-1"></a><span class="at">            </span><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb169-22"><a href="#cb169-22" tabindex="-1"></a><span class="at">            </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb169-23"><a href="#cb169-23" tabindex="-1"></a><span class="at">            </span><span class="fu">fitToGrid</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb169-24"><a href="#cb169-24" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LevelSelector</span></span>
<span id="cb169-25"><a href="#cb169-25" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeLevel</span></span>
<span id="cb169-26"><a href="#cb169-26" tabindex="-1"></a><span class="at">            </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (outcome &amp;&amp; !multievent)</span></span>
<span id="cb169-27"><a href="#cb169-27" tabindex="-1"></a></span>
<span id="cb169-28"><a href="#cb169-28" tabindex="-1"></a><span class="co">  # Advanced options in collapsible sections</span></span>
<span id="cb169-29"><a href="#cb169-29" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span></span>
<span id="cb169-30"><a href="#cb169-30" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Advanced Elapsed Time Options</span></span>
<span id="cb169-31"><a href="#cb169-31" tabindex="-1"></a><span class="at">    </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb169-32"><a href="#cb169-32" tabindex="-1"></a><span class="at">    </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb169-33"><a href="#cb169-33" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CheckBox</span></span>
<span id="cb169-34"><a href="#cb169-34" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> tint</span></span>
<span id="cb169-35"><a href="#cb169-35" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb169-36"><a href="#cb169-36" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> timetypedata</span></span>
<span id="cb169-37"><a href="#cb169-37" tabindex="-1"></a><span class="at">        </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (tint)</span></span>
<span id="cb169-38"><a href="#cb169-38" tabindex="-1"></a><span class="at">      </span></span>
<span id="cb169-39"><a href="#cb169-39" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span></span>
<span id="cb169-40"><a href="#cb169-40" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Analysis with Multiple Outcomes</span></span>
<span id="cb169-41"><a href="#cb169-41" tabindex="-1"></a><span class="at">    </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb169-42"><a href="#cb169-42" tabindex="-1"></a><span class="at">    </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb169-43"><a href="#cb169-43" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CheckBox</span></span>
<span id="cb169-44"><a href="#cb169-44" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> multievent</span></span>
<span id="cb169-45"><a href="#cb169-45" tabindex="-1"></a><span class="at">        </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (outcome)</span></span>
<span id="cb169-46"><a href="#cb169-46" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LevelSelector</span></span>
<span id="cb169-47"><a href="#cb169-47" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dod</span></span>
<span id="cb169-48"><a href="#cb169-48" tabindex="-1"></a><span class="at">        </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (outcome &amp;&amp; multievent)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="example-2-statistical-test-configuration-2">Example 2: Statistical Test Configuration<a class="anchor" aria-label="anchor" href="#example-2-statistical-test-configuration-2"></a>
</h5>
<div class="sourceCode" id="cb170"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb170-1"><a href="#cb170-1" tabindex="-1"></a><span class="co"># From jjbarstats.u.yaml - Bar chart analysis interface</span></span>
<span id="cb170-2"><a href="#cb170-2" tabindex="-1"></a><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb170-3"><a href="#cb170-3" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariableSupplier</span></span>
<span id="cb170-4"><a href="#cb170-4" tabindex="-1"></a><span class="at">    </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb170-5"><a href="#cb170-5" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TargetLayoutBox</span></span>
<span id="cb170-6"><a href="#cb170-6" tabindex="-1"></a><span class="at">        </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Dependent Variable</span></span>
<span id="cb170-7"><a href="#cb170-7" tabindex="-1"></a><span class="at">        </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb170-8"><a href="#cb170-8" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb170-9"><a href="#cb170-9" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dep</span></span>
<span id="cb170-10"><a href="#cb170-10" tabindex="-1"></a><span class="at">            </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb170-11"><a href="#cb170-11" tabindex="-1"></a><span class="at">      </span></span>
<span id="cb170-12"><a href="#cb170-12" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TargetLayoutBox</span></span>
<span id="cb170-13"><a href="#cb170-13" tabindex="-1"></a><span class="at">        </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Split By (Optional)</span></span>
<span id="cb170-14"><a href="#cb170-14" tabindex="-1"></a><span class="at">        </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb170-15"><a href="#cb170-15" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb170-16"><a href="#cb170-16" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> grvar</span></span>
<span id="cb170-17"><a href="#cb170-17" tabindex="-1"></a><span class="at">            </span><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb170-18"><a href="#cb170-18" tabindex="-1"></a><span class="at">            </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb170-19"><a href="#cb170-19" tabindex="-1"></a></span>
<span id="cb170-20"><a href="#cb170-20" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span></span>
<span id="cb170-21"><a href="#cb170-21" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Analysis</span></span>
<span id="cb170-22"><a href="#cb170-22" tabindex="-1"></a><span class="at">    </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span><span class="co">              # Starts expanded</span></span>
<span id="cb170-23"><a href="#cb170-23" tabindex="-1"></a><span class="at">    </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb170-24"><a href="#cb170-24" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb170-25"><a href="#cb170-25" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> typestatistics</span></span>
<span id="cb170-26"><a href="#cb170-26" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CheckBox</span></span>
<span id="cb170-27"><a href="#cb170-27" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pairwisecomparisons</span></span>
<span id="cb170-28"><a href="#cb170-28" tabindex="-1"></a><span class="at">        </span><span class="fu">children</span><span class="kw">:</span><span class="co">                 # Nested controls</span></span>
<span id="cb170-29"><a href="#cb170-29" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb170-30"><a href="#cb170-30" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pairwisedisplay</span></span>
<span id="cb170-31"><a href="#cb170-31" tabindex="-1"></a><span class="at">            </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (pairwisecomparisons)</span></span>
<span id="cb170-32"><a href="#cb170-32" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb170-33"><a href="#cb170-33" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> padjustmethod</span></span>
<span id="cb170-34"><a href="#cb170-34" tabindex="-1"></a><span class="at">            </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (pairwisecomparisons)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="example-3-medical-decision-analysis">Example 3: Medical Decision Analysis<a class="anchor" aria-label="anchor" href="#example-3-medical-decision-analysis"></a>
</h5>
<div class="sourceCode" id="cb171"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb171-1"><a href="#cb171-1" tabindex="-1"></a><span class="co"># From decision.u.yaml - Decision analysis interface</span></span>
<span id="cb171-2"><a href="#cb171-2" tabindex="-1"></a><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb171-3"><a href="#cb171-3" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariableSupplier</span></span>
<span id="cb171-4"><a href="#cb171-4" tabindex="-1"></a><span class="at">    </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb171-5"><a href="#cb171-5" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TargetLayoutBox</span></span>
<span id="cb171-6"><a href="#cb171-6" tabindex="-1"></a><span class="at">        </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Golden Standard</span></span>
<span id="cb171-7"><a href="#cb171-7" tabindex="-1"></a><span class="at">        </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb171-8"><a href="#cb171-8" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb171-9"><a href="#cb171-9" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> gold</span></span>
<span id="cb171-10"><a href="#cb171-10" tabindex="-1"></a><span class="at">            </span><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb171-11"><a href="#cb171-11" tabindex="-1"></a><span class="at">            </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb171-12"><a href="#cb171-12" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LevelSelector</span></span>
<span id="cb171-13"><a href="#cb171-13" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> goldPositive</span></span>
<span id="cb171-14"><a href="#cb171-14" tabindex="-1"></a><span class="at">            </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (gold)</span><span class="co">           # Only enabled when variable selected</span></span>
<span id="cb171-15"><a href="#cb171-15" tabindex="-1"></a><span class="at">      </span></span>
<span id="cb171-16"><a href="#cb171-16" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TargetLayoutBox</span></span>
<span id="cb171-17"><a href="#cb171-17" tabindex="-1"></a><span class="at">        </span><span class="fu">label</span><span class="kw">:</span><span class="at"> New Test</span></span>
<span id="cb171-18"><a href="#cb171-18" tabindex="-1"></a><span class="at">        </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb171-19"><a href="#cb171-19" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb171-20"><a href="#cb171-20" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> newtest</span></span>
<span id="cb171-21"><a href="#cb171-21" tabindex="-1"></a><span class="at">            </span><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb171-22"><a href="#cb171-22" tabindex="-1"></a><span class="at">            </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb171-23"><a href="#cb171-23" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LevelSelector</span></span>
<span id="cb171-24"><a href="#cb171-24" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> testPositive</span></span>
<span id="cb171-25"><a href="#cb171-25" tabindex="-1"></a><span class="at">            </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (newtest)</span></span>
<span id="cb171-26"><a href="#cb171-26" tabindex="-1"></a></span>
<span id="cb171-27"><a href="#cb171-27" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Label</span></span>
<span id="cb171-28"><a href="#cb171-28" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Prior Probability</span></span>
<span id="cb171-29"><a href="#cb171-29" tabindex="-1"></a><span class="at">    </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb171-30"><a href="#cb171-30" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CheckBox</span></span>
<span id="cb171-31"><a href="#cb171-31" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pp</span></span>
<span id="cb171-32"><a href="#cb171-32" tabindex="-1"></a><span class="at">        </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (!ci)</span><span class="co">              # Disabled when ci is checked</span></span>
<span id="cb171-33"><a href="#cb171-33" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TextBox</span></span>
<span id="cb171-34"><a href="#cb171-34" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pprob</span></span>
<span id="cb171-35"><a href="#cb171-35" tabindex="-1"></a><span class="at">        </span><span class="fu">format</span><span class="kw">:</span><span class="at"> number</span></span>
<span id="cb171-36"><a href="#cb171-36" tabindex="-1"></a><span class="at">        </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (!ci &amp;&amp; pp)</span><span class="co">        # Multiple conditions</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="advanced-ui-patterns-and-features">Advanced UI Patterns and Features<a class="anchor" aria-label="anchor" href="#advanced-ui-patterns-and-features"></a>
</h4>
<div class="section level5">
<h5 id="conditional-enabling">1. <strong>Conditional Enabling</strong><a class="anchor" aria-label="anchor" href="#conditional-enabling"></a>
</h5>
<div class="sourceCode" id="cb172"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb172-1"><a href="#cb172-1" tabindex="-1"></a><span class="co"># Simple condition</span></span>
<span id="cb172-2"><a href="#cb172-2" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (outcome)</span><span class="co">                # Enabled when outcome is selected</span></span>
<span id="cb172-3"><a href="#cb172-3" tabindex="-1"></a></span>
<span id="cb172-4"><a href="#cb172-4" tabindex="-1"></a><span class="co"># Multiple conditions with AND</span></span>
<span id="cb172-5"><a href="#cb172-5" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (outcome &amp;&amp; multievent)</span><span class="co">  # Both conditions must be true</span></span>
<span id="cb172-6"><a href="#cb172-6" tabindex="-1"></a></span>
<span id="cb172-7"><a href="#cb172-7" tabindex="-1"></a><span class="co"># Multiple conditions with OR</span></span>
<span id="cb172-8"><a href="#cb172-8" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (sty:finalfit || sty:nejm)</span><span class="co">  # Either condition can be true</span></span>
<span id="cb172-9"><a href="#cb172-9" tabindex="-1"></a></span>
<span id="cb172-10"><a href="#cb172-10" tabindex="-1"></a><span class="co"># Negation</span></span>
<span id="cb172-11"><a href="#cb172-11" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (!ci)</span><span class="co">                    # Enabled when ci is NOT checked</span></span>
<span id="cb172-12"><a href="#cb172-12" tabindex="-1"></a></span>
<span id="cb172-13"><a href="#cb172-13" tabindex="-1"></a><span class="co"># Complex conditions</span></span>
<span id="cb172-14"><a href="#cb172-14" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (!ci &amp;&amp; pp)</span><span class="co">              # NOT ci AND pp is checked</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="nested-component-hierarchies">2. <strong>Nested Component Hierarchies</strong><a class="anchor" aria-label="anchor" href="#nested-component-hierarchies"></a>
</h5>
<div class="sourceCode" id="cb173"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb173-1"><a href="#cb173-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CheckBox</span></span>
<span id="cb173-2"><a href="#cb173-2" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pairwisecomparisons</span></span>
<span id="cb173-3"><a href="#cb173-3" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span><span class="co">                      # Nested under checkbox</span></span>
<span id="cb173-4"><a href="#cb173-4" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb173-5"><a href="#cb173-5" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pairwisedisplay</span></span>
<span id="cb173-6"><a href="#cb173-6" tabindex="-1"></a><span class="at">      </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (pairwisecomparisons)</span></span>
<span id="cb173-7"><a href="#cb173-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb173-8"><a href="#cb173-8" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> padjustmethod</span></span>
<span id="cb173-9"><a href="#cb173-9" tabindex="-1"></a><span class="at">      </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (pairwisecomparisons)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="layout-control-properties">3. <strong>Layout Control Properties</strong><a class="anchor" aria-label="anchor" href="#layout-control-properties"></a>
</h5>
<div class="sourceCode" id="cb174"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb174-1"><a href="#cb174-1" tabindex="-1"></a><span class="co"># Spacing and alignment</span></span>
<span id="cb174-2"><a href="#cb174-2" tabindex="-1"></a><span class="fu">margin</span><span class="kw">:</span><span class="at"> large</span><span class="co">                    # large, medium, small</span></span>
<span id="cb174-3"><a href="#cb174-3" tabindex="-1"></a><span class="fu">fitToGrid</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">                 # Align to layout grid</span></span>
<span id="cb174-4"><a href="#cb174-4" tabindex="-1"></a><span class="fu">stretchFactor</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span><span class="co">                # Relative size weight</span></span>
<span id="cb174-5"><a href="#cb174-5" tabindex="-1"></a></span>
<span id="cb174-6"><a href="#cb174-6" tabindex="-1"></a><span class="co"># Width control for text inputs</span></span>
<span id="cb174-7"><a href="#cb174-7" tabindex="-1"></a><span class="fu">width</span><span class="kw">:</span><span class="at"> large</span><span class="co">                    # large, medium, small</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="variable-list-constraints">4. <strong>Variable List Constraints</strong><a class="anchor" aria-label="anchor" href="#variable-list-constraints"></a>
</h5>
<div class="sourceCode" id="cb175"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb175-1"><a href="#cb175-1" tabindex="-1"></a><span class="co"># Single variable only</span></span>
<span id="cb175-2"><a href="#cb175-2" tabindex="-1"></a><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb175-3"><a href="#cb175-3" tabindex="-1"></a></span>
<span id="cb175-4"><a href="#cb175-4" tabindex="-1"></a><span class="co"># Unlimited variables (default)</span></span>
<span id="cb175-5"><a href="#cb175-5" tabindex="-1"></a><span class="co"># No maxItemCount specified</span></span>
<span id="cb175-6"><a href="#cb175-6" tabindex="-1"></a></span>
<span id="cb175-7"><a href="#cb175-7" tabindex="-1"></a><span class="co"># Variable persistence</span></span>
<span id="cb175-8"><a href="#cb175-8" tabindex="-1"></a><span class="fu">persistentItems</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span><span class="co">          # Reset on dataset change</span></span>
<span id="cb175-9"><a href="#cb175-9" tabindex="-1"></a><span class="fu">persistentItems</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">           # Keep selections</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="ui-organization-patterns-by-analysis-type">UI Organization Patterns by Analysis Type<a class="anchor" aria-label="anchor" href="#ui-organization-patterns-by-analysis-type"></a>
</h4>
<div class="section level5">
<h5 id="simple-statistical-tests">1. <strong>Simple Statistical Tests</strong><a class="anchor" aria-label="anchor" href="#simple-statistical-tests"></a>
</h5>
<div class="sourceCode" id="cb176"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb176-1"><a href="#cb176-1" tabindex="-1"></a><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb176-2"><a href="#cb176-2" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariableSupplier</span><span class="co">      # Variable selection</span></span>
<span id="cb176-3"><a href="#cb176-3" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span><span class="co">           # Data options</span></span>
<span id="cb176-4"><a href="#cb176-4" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Data</span></span>
<span id="cb176-5"><a href="#cb176-5" tabindex="-1"></a><span class="at">    </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb176-6"><a href="#cb176-6" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span><span class="co">           # Analysis options  </span></span>
<span id="cb176-7"><a href="#cb176-7" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Analysis</span></span>
<span id="cb176-8"><a href="#cb176-8" tabindex="-1"></a><span class="at">    </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb176-9"><a href="#cb176-9" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span><span class="co">           # Plot options</span></span>
<span id="cb176-10"><a href="#cb176-10" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Plot</span></span>
<span id="cb176-11"><a href="#cb176-11" tabindex="-1"></a><span class="at">    </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="complex-multi-step-analysis">2. <strong>Complex Multi-Step Analysis</strong><a class="anchor" aria-label="anchor" href="#complex-multi-step-analysis"></a>
</h5>
<div class="sourceCode" id="cb177"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb177-1"><a href="#cb177-1" tabindex="-1"></a><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb177-2"><a href="#cb177-2" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariableSupplier</span><span class="co">      # Main variables</span></span>
<span id="cb177-3"><a href="#cb177-3" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span><span class="co">           # Advanced data options</span></span>
<span id="cb177-4"><a href="#cb177-4" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Advanced Options</span></span>
<span id="cb177-5"><a href="#cb177-5" tabindex="-1"></a><span class="at">    </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb177-6"><a href="#cb177-6" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span><span class="co">           # Multiple outcomes</span></span>
<span id="cb177-7"><a href="#cb177-7" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Multiple Outcomes</span></span>
<span id="cb177-8"><a href="#cb177-8" tabindex="-1"></a><span class="at">    </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb177-9"><a href="#cb177-9" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span><span class="co">           # Pairwise comparisons</span></span>
<span id="cb177-10"><a href="#cb177-10" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Pairwise Comparisons</span></span>
<span id="cb177-11"><a href="#cb177-11" tabindex="-1"></a><span class="at">    </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb177-12"><a href="#cb177-12" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span><span class="co">           # Plots</span></span>
<span id="cb177-13"><a href="#cb177-13" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Plots</span></span>
<span id="cb177-14"><a href="#cb177-14" tabindex="-1"></a><span class="at">    </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="descriptive-analysis-1">3. <strong>Descriptive Analysis</strong><a class="anchor" aria-label="anchor" href="#descriptive-analysis-1"></a>
</h5>
<div class="sourceCode" id="cb178"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb178-1"><a href="#cb178-1" tabindex="-1"></a><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb178-2"><a href="#cb178-2" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariableSupplier</span><span class="co">      # Variable selection</span></span>
<span id="cb178-3"><a href="#cb178-3" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CollapseBox</span><span class="co">           # Options</span></span>
<span id="cb178-4"><a href="#cb178-4" tabindex="-1"></a><span class="at">    </span><span class="fu">label</span><span class="kw">:</span><span class="at"> Options</span></span>
<span id="cb178-5"><a href="#cb178-5" tabindex="-1"></a><span class="at">    </span><span class="fu">collapsed</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="integration-with-clinicopath-module-system-2">Integration with ClinicoPath Module System<a class="anchor" aria-label="anchor" href="#integration-with-clinicopath-module-system-2"></a>
</h4>
<div class="section level5">
<h5 id="standard-layout-patterns">1. <strong>Standard Layout Patterns</strong><a class="anchor" aria-label="anchor" href="#standard-layout-patterns"></a>
</h5>
<ul>
<li>
<strong>Variable Supplier</strong>: Always first, contains main
variable selections</li>
<li>
<strong>Collapsible Sections</strong>: Group related options, start
collapsed for advanced features</li>
<li>
<strong>Logical Grouping</strong>: Data ‚Üí Analysis ‚Üí Visualization ‚Üí
Advanced</li>
</ul>
</div>
<div class="section level5">
<h5 id="naming-conventions-1">2. <strong>Naming Conventions</strong><a class="anchor" aria-label="anchor" href="#naming-conventions-1"></a>
</h5>
<div class="sourceCode" id="cb179"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb179-1"><a href="#cb179-1" tabindex="-1"></a><span class="co"># Variable names must match .a.yaml exactly</span></span>
<span id="cb179-2"><a href="#cb179-2" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> explanatory</span><span class="co">              # Matches .a.yaml option name</span></span>
<span id="cb179-3"><a href="#cb179-3" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeLevel</span><span class="co">             # Matches .a.yaml option name</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="user-experience-principles">3. <strong>User Experience Principles</strong><a class="anchor" aria-label="anchor" href="#user-experience-principles"></a>
</h5>
<ul>
<li>Essential options visible by default</li>
<li>Advanced options in collapsed sections</li>
<li>Clear labeling and logical grouping</li>
<li>Conditional enabling to prevent invalid combinations</li>
</ul>
</div>
</div>
<div class="section level4">
<h4 id="best-practices-for--u-yaml-development">Best Practices for .u.yaml Development<a class="anchor" aria-label="anchor" href="#best-practices-for--u-yaml-development"></a>
</h4>
<div class="section level5">
<h5 id="layout-organization">1. <strong>Layout Organization</strong><a class="anchor" aria-label="anchor" href="#layout-organization"></a>
</h5>
<ul>
<li>Place most important options at the top</li>
<li>Group related options together</li>
<li>Use descriptive labels</li>
<li>Start advanced sections collapsed</li>
</ul>
</div>
<div class="section level5">
<h5 id="conditional-logic">2. <strong>Conditional Logic</strong><a class="anchor" aria-label="anchor" href="#conditional-logic"></a>
</h5>
<div class="sourceCode" id="cb180"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb180-1"><a href="#cb180-1" tabindex="-1"></a><span class="co"># Good: Clear, simple conditions</span></span>
<span id="cb180-2"><a href="#cb180-2" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (outcome)</span></span>
<span id="cb180-3"><a href="#cb180-3" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> (outcome &amp;&amp; multievent)</span></span>
<span id="cb180-4"><a href="#cb180-4" tabindex="-1"></a></span>
<span id="cb180-5"><a href="#cb180-5" tabindex="-1"></a><span class="co"># Avoid: Overly complex conditions</span></span>
<span id="cb180-6"><a href="#cb180-6" tabindex="-1"></a><span class="fu">enable</span><span class="kw">:</span><span class="at"> ((outcome &amp;&amp; multievent) || (singleevent &amp;&amp; !advanced))</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="variable-selection-design">3. <strong>Variable Selection Design</strong><a class="anchor" aria-label="anchor" href="#variable-selection-design"></a>
</h5>
<div class="sourceCode" id="cb181"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb181-1"><a href="#cb181-1" tabindex="-1"></a><span class="co"># Good: Clear constraints</span></span>
<span id="cb181-2"><a href="#cb181-2" tabindex="-1"></a><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span><span class="co">               # When only one variable allowed</span></span>
<span id="cb181-3"><a href="#cb181-3" tabindex="-1"></a><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">               # Always for variable drop zones</span></span>
<span id="cb181-4"><a href="#cb181-4" tabindex="-1"></a></span>
<span id="cb181-5"><a href="#cb181-5" tabindex="-1"></a><span class="co"># Good: Descriptive labels</span></span>
<span id="cb181-6"><a href="#cb181-6" tabindex="-1"></a><span class="fu">label</span><span class="kw">:</span><span class="at"> Dependent Variable</span><span class="co">    # Clear purpose</span></span>
<span id="cb181-7"><a href="#cb181-7" tabindex="-1"></a><span class="fu">label</span><span class="kw">:</span><span class="at"> Split By (Optional)</span><span class="co">   # Indicates optionality</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="responsive-layout">4. <strong>Responsive Layout</strong><a class="anchor" aria-label="anchor" href="#responsive-layout"></a>
</h5>
<div class="sourceCode" id="cb182"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb182-1"><a href="#cb182-1" tabindex="-1"></a><span class="co"># Use stretchFactor for proportional sizing</span></span>
<span id="cb182-2"><a href="#cb182-2" tabindex="-1"></a><span class="fu">stretchFactor</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span><span class="co">             # Equal weight</span></span>
<span id="cb182-3"><a href="#cb182-3" tabindex="-1"></a><span class="fu">stretchFactor</span><span class="kw">:</span><span class="at"> </span><span class="dv">2</span><span class="co">             # Double weight</span></span>
<span id="cb182-4"><a href="#cb182-4" tabindex="-1"></a></span>
<span id="cb182-5"><a href="#cb182-5" tabindex="-1"></a><span class="co"># Use fitToGrid for alignment</span></span>
<span id="cb182-6"><a href="#cb182-6" tabindex="-1"></a><span class="fu">fitToGrid</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">              # Align to layout grid</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="common-ui-patterns">Common UI Patterns<a class="anchor" aria-label="anchor" href="#common-ui-patterns"></a>
</h4>
<div class="section level5">
<h5 id="variable-level-selection">1. <strong>Variable + Level Selection</strong><a class="anchor" aria-label="anchor" href="#variable-level-selection"></a>
</h5>
<div class="sourceCode" id="cb183"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb183-1"><a href="#cb183-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> VariablesListBox</span></span>
<span id="cb183-2"><a href="#cb183-2" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcome</span></span>
<span id="cb183-3"><a href="#cb183-3" tabindex="-1"></a><span class="at">  </span><span class="fu">maxItemCount</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb183-4"><a href="#cb183-4" tabindex="-1"></a><span class="at">  </span><span class="fu">isTarget</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb183-5"><a href="#cb183-5" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LevelSelector</span></span>
<span id="cb183-6"><a href="#cb183-6" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> outcomeLevel</span></span>
<span id="cb183-7"><a href="#cb183-7" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (outcome)</span><span class="co">            # Only enabled when variable selected</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="checkbox-with-nested-options">2. <strong>Checkbox with Nested Options</strong><a class="anchor" aria-label="anchor" href="#checkbox-with-nested-options"></a>
</h5>
<div class="sourceCode" id="cb184"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb184-1"><a href="#cb184-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CheckBox</span></span>
<span id="cb184-2"><a href="#cb184-2" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> advanced_analysis</span></span>
<span id="cb184-3"><a href="#cb184-3" tabindex="-1"></a><span class="at">  </span><span class="fu">children</span><span class="kw">:</span></span>
<span id="cb184-4"><a href="#cb184-4" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> TextBox</span></span>
<span id="cb184-5"><a href="#cb184-5" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> parameter1</span></span>
<span id="cb184-6"><a href="#cb184-6" tabindex="-1"></a><span class="at">      </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (advanced_analysis)</span></span>
<span id="cb184-7"><a href="#cb184-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> ComboBox</span></span>
<span id="cb184-8"><a href="#cb184-8" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> method</span></span>
<span id="cb184-9"><a href="#cb184-9" tabindex="-1"></a><span class="at">      </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (advanced_analysis)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="mutually-exclusive-options">3. <strong>Mutually Exclusive Options</strong><a class="anchor" aria-label="anchor" href="#mutually-exclusive-options"></a>
</h5>
<div class="sourceCode" id="cb185"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb185-1"><a href="#cb185-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CheckBox</span></span>
<span id="cb185-2"><a href="#cb185-2" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> option_a</span></span>
<span id="cb185-3"><a href="#cb185-3" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (!option_b)</span><span class="co">          # Disabled when option_b is checked</span></span>
<span id="cb185-4"><a href="#cb185-4" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">type</span><span class="kw">:</span><span class="at"> CheckBox</span></span>
<span id="cb185-5"><a href="#cb185-5" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> option_b</span></span>
<span id="cb185-6"><a href="#cb185-6" tabindex="-1"></a><span class="at">  </span><span class="fu">enable</span><span class="kw">:</span><span class="at"> (!option_a)</span><span class="co">          # Disabled when option_a is checked</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="testing-your--u-yaml-files">Testing Your .u.yaml Files<a class="anchor" aria-label="anchor" href="#testing-your--u-yaml-files"></a>
</h4>
<div class="sourceCode" id="cb186"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Test UI compilation</span></span>
<span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">prepare</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">jmvtools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jmvtools/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Test in jamovi interface to verify:</span></span>
<span><span class="co"># - All components display correctly</span></span>
<span><span class="co"># - Conditional enabling works properly</span></span>
<span><span class="co"># - Layout is intuitive and responsive</span></span>
<span><span class="co"># - Variable selection behaves as expected</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="common-pitfalls-and-solutions-2">Common Pitfalls and Solutions<a class="anchor" aria-label="anchor" href="#common-pitfalls-and-solutions-2"></a>
</h4>
<div class="section level5">
<h5 id="name-mismatches">1. <strong>Name Mismatches</strong><a class="anchor" aria-label="anchor" href="#name-mismatches"></a>
</h5>
<p>‚ùå <strong>Problem</strong>: UI component doesn‚Äôt link to option ‚úÖ
<strong>Solution</strong>: Ensure <code>name</code> exactly matches
.a.yaml option name</p>
</div>
<div class="section level5">
<h5 id="incorrect-conditional-logic">2. <strong>Incorrect Conditional Logic</strong><a class="anchor" aria-label="anchor" href="#incorrect-conditional-logic"></a>
</h5>
<p>‚ùå <strong>Problem</strong>: Components enabled/disabled incorrectly
‚úÖ <strong>Solution</strong>: Test all condition combinations
thoroughly</p>
</div>
<div class="section level5">
<h5 id="poor-layout-organization">3. <strong>Poor Layout Organization</strong><a class="anchor" aria-label="anchor" href="#poor-layout-organization"></a>
</h5>
<p>‚ùå <strong>Problem</strong>: Confusing or cluttered interface ‚úÖ
<strong>Solution</strong>: Use logical grouping and collapsible
sections</p>
</div>
<div class="section level5">
<h5 id="missing-variable-constraints">4. <strong>Missing Variable Constraints</strong><a class="anchor" aria-label="anchor" href="#missing-variable-constraints"></a>
</h5>
<p>‚ùå <strong>Problem</strong>: Users can select inappropriate variable
types ‚úÖ <strong>Solution</strong>: Use <code>maxItemCount</code> and
proper <code>suggested</code>/<code>permitted</code> in .a.yaml</p>
<p>The <code>.u.yaml</code> files define the user interface that
researchers interact with. They must be intuitive, responsive, and guide
users toward making appropriate analysis choices while preventing
invalid option combinations.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="diagrams">Diagrams<a class="anchor" aria-label="anchor" href="#diagrams"></a>
</h3>
<div class="sourceCode" id="cb187"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">echo</span><span class="op">=</span><span class="cn">FALSE</span></span>
<span><span class="fu">DiagrammeR</span><span class="fu">::</span><span class="fu"><a href="https://rich-iannone.github.io/DiagrammeR/reference/grViz.html" class="external-link">grViz</a></span><span class="op">(</span></span>
<span>  diagram <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org/reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"vignettes/graph.gv"</span><span class="op">)</span>,</span>
<span>  height <span class="op">=</span> <span class="fl">200</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" tabindex="-1"></a>eval<span class="ot">=</span><span class="cn">FALSE</span>, include<span class="ot">=</span><span class="cn">FALSE</span>, echo<span class="ot">=</span><span class="cn">FALSE</span></span>
<span id="cb188-2"><a href="#cb188-2" tabindex="-1"></a>DiagrammeR<span class="sc">::</span><span class="fu">mermaid</span>(</span>
<span id="cb188-3"><a href="#cb188-3" tabindex="-1"></a>  <span class="at">diagram =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"vignettes/graph.mmd"</span>),</span>
<span id="cb188-4"><a href="#cb188-4" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">200</span></span>
<span id="cb188-5"><a href="#cb188-5" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>

Remotes:

    easystats/correlation,
    easystats/report

# Future Works:

## ndphillips/FFTrees

            # gtsummary

            # myvars &lt;- jmvcore::constructFormula(terms = self$options$vars)
            # myvars &lt;- jmvcore::decomposeFormula(formula = myvars)
            # myvars &lt;- unlist(myvars)
            # mytableone2 &lt;- self$data %&gt;%
            #     dplyr::select(myvars)
            # mytableone2 &lt;- gtsummary::tbl_summary(mytableone2)
            # self$results$text2$setContent(mytableone2)



    # - name: outcomeLevel
    #   title: |
    #       Select Event (Death, Recurrence)
    #   type: Level
    #   variable: (outcome)


,
arsenal,

rlang,
knitr,
remotes,
kableExtra,

caret,
irr
Remotes:


easystats/bayestestR,
easystats/performance,
easystats/parameters,
easystats/report
Suggests:
    effectsize,
emmeans,
rmarkdown,
igraph,
iterators,
rms,
commonmark,
sass


# #
# #
# #     if (is.null(self$options$dep) || is.null(self$options$group))
# #         return()
# #
# #     mydata &lt;- self$data
# #
# #     mydep &lt;- self$data[[self$options$dep]]
# #
# #     mygroup &lt;- self$data[[self$options$group]]
# #
# #
# #     # klass &lt;- print(
# #     #     list(
# #     #         "mydep" = c(typeof(mydep), class(mydep)),
# #     #         "mygroup" = c(typeof(mygroup), class(mygroup))
# #     #         )
# #     #     )
# #
# #
# #     # self$results$text1$setContent(klass)
# #
# #
# #     # plotData &lt;- data.frame(gr = mygroup,
# #     #                        dp = mydep)
# #     # plotData &lt;- jmvcore::naOmit(plotData)
# #     # mydata_changes &lt;- plotData %&gt;%
# #     #     dplyr::group_by(gr, dp) %&gt;%
# #     #     dplyr::tally(x = .)
# #     #
# #     # self$results$text2$setContent(mydata_changes)
# #     #
# #     # plotData &lt;- data.frame(gr = mygroup,
# #     #                        dp = mydep)
# #     #
# #     # plotData &lt;- jmvcore::naOmit(plotData)
# #     #
# #     #
# #     # mydata_changes &lt;- plotData %&gt;%
# #     #     dplyr::group_by(gr, dp) %&gt;%
# #     #     dplyr::tally(x = .)
# #     #
# #     #
# #     # deneme &lt;- ggalluvial::is_alluvia_form(
# #     #     as.data.frame(mydata_changes),
# #     #     axes = 1:2, silent = TRUE)
# #
# #     # nodes = data.frame("name" =
# #     #                        c(self$options$group,
# #     #                          self$options$dep))
# #     #
# #     # links &lt;- mydata_changes
# #     #
# #     # names(links) = c("source", "target", "value")
# #     #
# #     # deneme &lt;- networkD3::sankeyNetwork(Links = links, Nodes = nodes,
# #     #                                  Source = "source", Target = "target",
# #     #                                  Value = "value", NodeID = "name",
# #     #                                  fontSize= 12, nodeWidth = 30)
# #
# #
# #
# #     # self$results$text3$setContent(deneme)
# #
# #
# #
# #
# #     # Prepare Data for Plot ----
# #
# #     direction &lt;- self$options$direction
# #
# #     mydata &lt;- self$data
# #
# #     mydep &lt;- self$data[[self$options$dep]]
# #
# #     mygroup &lt;- self$data[[self$options$group]]
# #
# #     contin &lt;- c("integer", "numeric", "double")
# #     categ &lt;- c("factor")
# #
# # # independent, factor, continuous ----
# # # ggbetweenstats    violin plots    for comparisons between groups/conditions
# #     if (direction == "independent" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) %in% contin) {
# #             plotData &lt;- data.frame(gr = mygroup,
# #                                    dp = jmvcore::toNumeric(mydep))
# #
# #
# #
# #
# # # independent, continuous, continuous ----
# # # ggscatterstats    scatterplots    for correlations between two variables
# #
# #     if (direction == "independent" &amp;&amp; class(mygroup) %in% contin &amp;&amp; class(mydep) %in% contin) {
# #             plotData &lt;- data.frame(gr = jmvcore::toNumeric(mygroup),
# #                                    dp = jmvcore::toNumeric(mydep))
# #
# #
# #
# #
# #
# # # independent, factor, factor ----
# # # ggbarstats    bar charts  for categorical data
# #     if (direction == "independent" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) == "factor") {
# #
# #             plotData &lt;- data.frame(gr = mygroup,
# #                                    dp = mydep)
# #
# #
# #
# #     # independent, continuous, factor ----
# #
# #     if (direction == "independent" &amp;&amp; class(mygroup) %in% contin &amp;&amp; class(mydep) == "factor") {
# #
# #         stop("Please switch the values: factor variable should be on x-axis and continuous variable should be on y-axis")
# #         }
# #
# #
# #
# #     # repeated, factor, continuous ----
# #     # ggwithinstats     violin plots    for comparisons within groups/conditions
# #
# #
# #
# #     if (direction == "repeated" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) %in% contin) {
# #             plotData &lt;- data.frame(gr = mygroup,
# #                                    dp = jmvcore::toNumeric(mydep))
# #
# #
# #
# #
# #     # repeated, continuous, continuous ----
# #     # rmcorr::rmcorr()
# #
# #
# #     if (direction == "repeated" &amp;&amp; class(mygroup) %in% contin &amp;&amp; class(mydep) %in% contin) {
# #
# #
# #         stop("Currently this module does not support repeated measures correlation.")
# #
# #     }
# #
# #
# #     # repeated, factor, factor ----
# #     # http://corybrunson.github.io/ggalluvial/
# #
# #     if (direction == "repeated" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) == "factor") {
# #             plotData &lt;- data.frame(gr = mygroup,
# #                                    dp = mydep)
# #
# #
# #
# #     # repeated, continuous, factor ----
# #
# #     if (direction == "repeated" &amp;&amp; class(mygroup) %in% contin &amp;&amp; class(mydep) == "factor") {
# #
# 
# 
# 
# 
# 
# # Results ----
# 
# 
# 
# # Send Data to Plot ----
# 
# # plotData &lt;- jmvcore::naOmit(plotData)
# # image &lt;- self$results$plot
# # image$setState(plotData)
# 
# 
# # }
# 
# 
# # ,
# #
# # .plot = function(image, ...) {  # &lt;-- the plot function ----
# #
# #
# #     if (is.null(self$options$dep) || is.null(self$options$group))
# #         return()
# #
# #
# #     plotData &lt;- image$state
# #
# #     direction &lt;- self$options$direction
# #
# #     mydata &lt;- self$data
# #
# #     mydep &lt;- self$data[[self$options$dep]]
# #
# #     mygroup &lt;- self$data[[self$options$group]]
# #
# #     contin &lt;- c("integer", "numeric", "double")
# #     categ &lt;- c("factor")
# #
# #     # independent, factor, continuous ----
# #     # ggbetweenstats    violin plots    for comparisons between groups/conditions
# #
# #     if (direction == "independent" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) %in% contin) {
# #
# #             plot &lt;- ggstatsplot::ggbetweenstats(
# #                 data = plotData,
# #                 x = gr,
# #                 y = dp
# #             )
# #         }
# #
# #     # independent, continuous, continuous ----
# #     # ggscatterstats    scatterplots    for correlations between two variables
# #
# #
# #         if (direction == "independent" &amp;&amp; class(mygroup) %in% contin &amp;&amp; class(mydep) %in% contin) {
# #
# #             plot &lt;- ggstatsplot::ggscatterstats(
# #                 data = plotData,
# #                 x = gr,
# #                 y = dp
# #             )
# #
# #         }
# #
# #     # independent, factor, factor ----
# #     # ggbarstats    bar charts  for categorical data
# #
# #
# #     if (direction == "independent" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) == "factor") {
# #
# #
# #
# #             plot &lt;- ggstatsplot::ggbarstats(
# #                                     data = plotData,
# #                                     main = gr,
# #                                     condition = dp
# #                                 )
# #         }
# #
# #     # repeated, factor, continuous ----
# #     # ggwithinstats     violin plots    for comparisons within groups/conditions
# #
# #
# # if (direction == "repeated" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) %in% contin) {
# #
# #
# #             plot &lt;- ggstatsplot::ggwithinstats(
# #                 data = plotData,
# #                 x = gr,
# #                 y = dp
# #             )
# #
# #         }
# #
# #     # repeated, continuous, continuous ----
# #     # rmcorr::rmcorr()
# #
# #             # my.rmc &lt;- rmcorr::rmcorr(participant = Subject,
# #             #                          measure1 = PacO2,
# #             #                          measure2 = pH,
# #             #                          dataset = rmcorr::bland1995)
# #             #
# #             # plot(my.rmc, overall = TRUE)
# #             #
# #             # ggplot2::ggplot(rmcorr::bland1995,
# #             #                 ggplot2::aes(x = PacO2,
# #             #                              y = pH,
# #             #                              group = factor(Subject),
# #             #                              color = factor(Subject)
# #             #                 )
# #             # ) +
# #             #     ggplot2::geom_point(ggplot2::aes(colour = factor(Subject))) +
# #             #     ggplot2::geom_line(ggplot2::aes(y = my.rmc$model$fitted.values), linetype = 1)
# #
# #
# #
# #     # repeated, factor, factor ----
# #     # http://corybrunson.github.io/ggalluvial/
# #     # networkD3
# #
# #
# #     if (direction == "repeated" &amp;&amp; class(mygroup) == "factor" &amp;&amp; class(mydep) == "factor") {
# #
# #
# #             mydata_changes &lt;- plotData %&gt;%
# #                 dplyr::group_by(gr, dp) %&gt;%
# #                 dplyr::tally(x = .)
# #
# #
# #             # head(as.data.frame(UCBAdmissions), n = 12)
# #
# #             # ggalluvial::is_alluvia_form(
# #             #     as.data.frame(UCBAdmissions),
# #             #     axes = 1:3, silent = TRUE)
# #
# #
# #
# #             # plot &lt;- ggplot(as.data.frame(UCBAdmissions),
# #             #        aes(y = Freq, axis1 = Gender, axis2 = Dept)) +
# #             #     geom_alluvium(aes(fill = Admit), width = 1/12) +
# #             #     geom_stratum(width = 1/12, fill = "black", color = "grey") +
# #             #     geom_label(stat = "stratum", infer.label = TRUE) +
# #             #     scale_x_discrete(limits = c("Gender", "Dept"), expand = c(.05, .05)) +
# #             #     scale_fill_brewer(type = "qual", palette = "Set1") +
# #             #     ggtitle("UC Berkeley admissions and rejections, by sex and department")
# #
# #
# #
# #
# #
# #             stratum &lt;- ggalluvial::StatStratum
# #
# #             plot &lt;- ggplot2::ggplot(data = mydata_changes,
# #                                     ggplot2::aes(axis1 = gr,
# #                        axis2 = dp,
# #                        y = n)) +
# #                 ggplot2::scale_x_discrete(limits = c(self$options$group, self$options$dep),
# #                                  expand = c(.1, .05)
# #                 ) +
# #                 ggplot2::xlab(self$options$group) +
# #                 ggalluvial::geom_alluvium(ggplot2::aes(fill = gr,
# #                                   colour = gr
# #                 )) +
# #                 ggalluvial::geom_stratum() +
# #                 ggalluvial::stat_stratum(geom = "stratum") +
# #                 ggplot2::geom_label(stat = stratum, infer.label = TRUE) +
# #
# #                 # ggalluvial::geom_stratum(stat = "stratum", label.strata = TRUE) +
# #                 # ggplot2::geom_text(stat = "stratum", infer.label = TRUE) +
# #                 # ggplot2::geom_text(label.strata = TRUE) +
# #                 # ggalluvial::geom_stratum()
# #                 ggplot2::theme_minimal()
# #                 # ggplot2::ggtitle(paste0("Changes in ", self$options$group))
# #             #
# #             #
# #             # nodes = data.frame("name" =
# #             #                        c(self$options$group,
# #             #                          self$options$dep))
# #             #
# #             # links &lt;- mydata_changes
# #             #
# #             # names(links) = c("source", "target", "value")
# #             #
# #             # plot &lt;- networkD3::sankeyNetwork(Links = links, Nodes = nodes,
# #             #               Source = "source", Target = "target",
# #             #               Value = "value", NodeID = "name",
# #             #               fontSize= 12, nodeWidth = 30)
# #
# #             # library(networkD3)
# #             # nodes = data.frame("name" =
# #             #                        c("Node A", # Node 0
# #             #                          "Node B", # Node 1
# #             #                          "Node C", # Node 2
# #             #                          "Node D"))# Node 3
# #             # links = as.data.frame(matrix(c(
# #             #     0, 1, 10, # Each row represents a link. The first number
# #             #     0, 2, 20, # represents the node being conntected from.
# #             #     1, 3, 30, # the second number represents the node connected to.
# #             #     2, 3, 40),# The third number is the value of the node
# #             #     byrow = TRUE, ncol = 3))
# #             # names(links) = c("source", "target", "value")
# #             # sankeyNetwork(Links = links, Nodes = nodes,
# #             #               Source = "source", Target = "target",
# #             #               Value = "value", NodeID = "name",
# #             #               fontSize= 12, nodeWidth = 30)
# #
# #             # plot &lt;- c("Under Construction")
# #
# #             # plot &lt;- list(plot1,
# #             #              plot2)
# #
# #
# #
# #         }
# #
# #
# #
# #     print(plot)
# #     TRUE
# #
# # }
# #
# #         )
# # )


# Packages


Imports: 
    jmvcore (&gt;= 0.8.5),
    R6,
    dplyr,
    survival,
    survminer,
    finalfit,
    arsenal,
    purrr,
    glue,
    janitor,
    ggplot2,
    forcats,
    ggstatsplot,
    tableone,
    explore,
    tangram,
    irr,
    rlang,
    tidyselect,
    knitr



Remotes:
    easystats/correlation,
    neuropsychology/psycho.R@0.4.0


Suggests:
    rmarkdown,
    remotes,
    devtools,
    lubridate,
    broom, 
    GGally, 
    gridExtra, 
    Hmisc, 
    lme4, 
    magrittr, 
    mice, 
    pillar, 
    pROC, 
    scales, 
    stringr, 
    tibble, 
    tidyr, 
    covr, 
    cmprsk, 
    readr, 
    rstan, 
    survey, 
    testthat, 
    backports, 
    generics, 
    assertthat, 
    pkgconfig, 
    Rcpp, 
    BH, 
    plogr, 
    ellipsis, 
    gtable, 
    progress, 
    RColorBrewer, 
    reshape, 
    digest, 
    lazyeval, 
    viridisLite, 
    withr, 
    Formula, 
    latticeExtra, 
    acepack, 
    data.table, 
    htmlTable, 
    viridis, 
    htmltools, 
    base64enc, 
    minqa, 
    nloptr, 
    RcppEigen, 
    mitml, 
    cli, 
    crayon, 
    fansi, 
    utf8, 
    vctrs, 
    farver, 
    labeling, 
    munsell, 
    lifecycle, 
    stringi, 
    ggpubr, 
    maxstat, 
    survMisc, 
    jsonlite, 
    rex, 
    evaluate, 
    highr, 
    markdown, 
    xfun, 
    hms, 
    clipr, 
    mime, 
    tinytex, 
    StanHeaders, 
    inline, 
    loo, 
    pkgbuild, 
    numDeriv, 
    mitools, 
    pkgload, 
    praise, 
    zeallot, 
    colorspace, 
    prettyunits, 
    checkmate, 
    htmlwidgets, 
    pan, 
    jomo, 
    ordinal, 
    ucminf, 
    ggrepel,
    ggsci, 
    cowplot, 
    ggsignif,
    polynom, 
    exactRankTests,
    mvtnorm, 
    KMsurv, 
    zoo, 
    km.ci,
    xtable,
    curl, 
    openssl, 
    askpass, 
    sys, 
    matrixStats,
    callr, 
    desc,
    rprojroot,
    processx, 
    ps, 
    DBI,
    png, 
    jpeg, 
    boot, 
    grid, 
    snakecase,
    caret,
    iterators,
    timeDate,
    foreach,
    plyr,
    ModelMetrics,
    nlme,
    reshape2,
    recipes,
    BradleyTerry2,
    e1071,
    earth,
    fastICA,
    gam,
    ipred,
    kernlab,
    klaR,
    MASS,
    ellipse,
    mda,
    mgcv,
    mlbench,
    MLmetrics,
    nnet,
    party,
    pls,
    proxy,
    randomForest,
    RANN,
    spls,
    subselect,
    pamr,
    superpc,
    Cubist,
    rpart,
    qgraph,
    nFactors,
    ppcor,
    rstanarm,
    MuMIn,
    blavaan,
    
    
    
    
    



# Develop



# install.packages('jmvtools', repos=c('https://repo.jamovi.org', 'https://cran.r-project.org'))

# jmvtools::check("C://Program Files//jamovi//bin")

# jmvtools::install(home = "C://Program Files//jamovi//bin")
# 
# jmvtools::install(pkg = "C://ClinicoPath", home = "C://Program Files//jamovi//bin")

# devtools::build(path = "C:\\ClinicoPathOutput")

# .libPaths(new = "C:\\ClinicoPathLibrary")

# devtools::build(path = "C:\\ClinicoPathOutput", binary = TRUE, args = c('--preclean'))

Sys.setenv(TZ = "Europe/Istanbul")

library("jmvtools")

jmvtools::check()

# rhub::check_on_macos()

# rhub::check_for_cran()

# codemetar::write_codemeta()


devtools::check()


# From CRAN
# install.packages("attachment")
# From github
# remotes::install_github("ThinkR-open/attachment")

# If you correctly called the package dependencies in the {roxygen2} skeleton, in your functions, in your Rmarkdown vignettes and in your tests, you only need to run attachment::att_to_description()just before devtools::check(). And that‚Äôs it, there is nothing else to remember !
# attachment::att_to_description()



devtools::document()

codemetar::write_codemeta()

# rmarkdown::render('/Users/serdarbalciold/histopathRprojects/ClinicoPath/README.Rmd',  encoding = 'UTF-8', knit_root_dir = '~/histopathRprojects/ClinicoPath', quiet = TRUE)


pkgdown::build_articles()
# pkgdown::build_favicons()
pkgdown::build_home()
pkgdown::build_news()
pkgdown::build_reference()
# pkgdown::build_reference_index()
# pkgdown::build_tutorials()

pkgdown::build_site()

# devtools::github_release()


# gitUpdateCommitPush
CommitMessage &lt;- paste("updated on ", Sys.time(), sep = "")
wd &lt;- getwd()
gitCommand &lt;- paste("cd ", wd, " \n git add . \n git commit --message '", CommitMessage, "' --no-verify \n git push origin master \n", sep = "")
# gitCommand &lt;- paste("cd ", wd, " \n git add . \n git commit --no-verify --message '", CommitMessage, "' \n git push origin master \n", sep = "")
system(command = gitCommand, intern = TRUE)



# jmvtools::install()
# 
# jmvtools::create('SuperAwesome')
# 
# jmvtools::addAnalysis(name='ttest', title='Independent Samples T-Test')
# 
# jmvtools::addAnalysis(name='survival', title='survival')
# 
# jmvtools::addAnalysis(name='correlation', title='correlation')
# 
# jmvtools::addAnalysis(name='tableone', title='TableOne')
# 
# jmvtools::addAnalysis(name='crosstable', title='CrossTable')
# 
# 
# jmvtools::addAnalysis(name='writesummary', title='WriteSummary')

# jmvtools::addAnalysis(name='finalfit', title='FinalFit')

# jmvtools::addAnalysis(name='multisurvival', title='FinalFit Multivariate Survival')

# jmvtools::addAnalysis(name='report', title='Report General Features')

# jmvtools::addAnalysis(name='frequencies', title='Frequencies')

# jmvtools::addAnalysis(name='statsplot', title='GGStatsPlot')

# jmvtools::addAnalysis(name='statsplot2', title='GGStatsPlot2')

# jmvtools::addAnalysis(name='statsplotbetween', title='Stats Plot Between')

# jmvtools::addAnalysis(name='competingsurvival', title='Competing Survival')


# jmvtools::addAnalysis(name='scat2', title='scat2')

# jmvtools::addAnalysis(name='decisioncalculator', title='Decision Calculator')

# jmvtools::addAnalysis(name='agreement', title='Interrater Intrarater Reliability')

# jmvtools::addAnalysis(name='cluster', title='Cluster Analysis')

# jmvtools::addAnalysis(name='tree', title='Decision Tree')
# 
# jmvtools::addAnalysis(name='oddsratio', title='Odds Ratio Table and Plot')

# jmvtools::addAnalysis(name='roc', title='ROC')

# jmvtools::addAnalysis(name = "icccoeff", title = "ICC coefficients")

# jmvtools::addAnalysis(name = "gtsummary", title = "Tables via gtsummary")

# jmvtools::addAnalysis(name = "alluvial", title = "Alluvial Diagrams")



Sys.unsetenv("R_PROFILE_USER")
devtools::check()

devtools::install()

# jmvtools::check()
jmvtools::install()

formula &lt;- jmvcore::constructFormula(terms = c("A", "B", "C"), dep = "D")

jmvcore::constructFormula(terms = list("A", "B", c("C", "D")), dep = "E")

jmvcore::constructFormula(terms = "A B")


jmvcore::constructFormula(terms = list("A", "B", "C"))

vars &lt;- jmvcore::decomposeFormula(formula = formula) 

unlist(vars)

cformula &lt;- jmvcore::composeTerm(components = formula)

jmvcore::composeTerm("A B")

jmvcore::composeTerm(components = c("A", "B", "C"))

jmvcore::decomposeTerm(term = c("A", "B", "C"))

jmvcore::decomposeTerm(term = formula)

jmvcore::decomposeTerm(term = cformula)



composeTerm &lt;- jmvcore::composeTerm(components = c("A", "B", "C"))

jmvcore::decomposeTerm(term = composeTerm)




BreastCancer &lt;- readr::read_csv(file = "/Users/serdarbalciold/histopathRprojects/ClinicoPath/data/BreastCancer.csv")

usethis::use_data(BreastCancer)

BreastCancer &lt;- readr::read_csv(file = "/Users/serdarbalciold/histopathRprojects/ClinicoPath/data/BreastCancer.csv")

usethis::use_data(BreastCancer)

colon &lt;- readr::read_csv(file = 
"/Users/serdarbalciold/histopathRprojects/ClinicoPath/data/colon.csv")

usethis::use_data(colon)


melanoma &lt;- readr::read_csv(file = 
"/Users/serdarbalciold/histopathRprojects/ClinicoPath/data/melanoma.csv")

usethis::use_data(melanoma)


rocdata &lt;- readr::read_csv(file = 
"/Users/serdarbalciold/histopathRprojects/ClinicoPath/data/rocdata.csv")

usethis::use_data(rocdata)

histopathology &lt;- readr::read_csv(file = 
"/Users/serdarbalciold/histopathRprojects/ClinicoPath/data/histopathology.csv")

usethis::use_data(histopathology)




## force git


# gitUpdateCommitPush
CommitMessage &lt;- paste("updated on ", Sys.time(), sep = "")
wd &lt;- getwd()
gitCommand &lt;- paste("cd ", wd, " \n git add . \n git commit --message '", CommitMessage, "' \n git push origin master \n", sep = "")
system(command = gitCommand, intern = TRUE)




## update project for release



readyfunctions &lt;- c(
    "refs",
    # "^agreement",
    # "^competingsurvival",
    # "^correlation",
    "^crosstable",
    # "^decision",
    # "^decisioncalculator",
    # "^icccoeff",
    "^multisurvival",
    "^oddsratio",
    # "^pairchi2",
    "^reportcat",
    # "^roc",
    "^statsplot2",
    "^summarydata",
    "^survival",
    "^tableone"
    # "^tree",
    # "^utils-pipe"
    # "^vartree"
)


readyfunctions &lt;- paste0(readyfunctions, collapse = "|")

files_R &lt;-
    list.files(path = here::here("R"),
               pattern = readyfunctions,
               full.names = TRUE)

files_jamovi &lt;-
    list.files(
        path = here::here("jamovi"),
        pattern = readyfunctions,
        full.names = TRUE
    )

files_data &lt;-
    list.files(
        path = here::here("data"),
        full.names = TRUE
    )


file.copy(from = files_R,
          to = "~/ClinicoPath/R/",
          overwrite = TRUE)


file.copy(from = files_jamovi,
          to = "~/ClinicoPath/jamovi/",
          overwrite = TRUE)


file.copy(from = files_data,
          to = "~/ClinicoPath/data/",
          overwrite = TRUE)

file.copy(from = files_data,
          to = "~/histopathRprojects/ClinicoPath/inst/extdata/",
          overwrite = TRUE)


# Example



deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

library(magrittr)

corx &lt;- deneme %&gt;%
                dplyr::select(Age, OverallTime) %&gt;% 
                stats::cor(method = "spearman") %&gt;%
                report::report()











inherits(deneme$Sex, "character")



ggstatsplot::ggbetweenstats(data = deneme,
                            x = Sex,
                            y = Age,
                            type = "p")

ClinicoPath::statsplot2(
    data = deneme,
    dep = Age,
    group = Sex)






devtools::install(upgrade = FALSE, quick = TRUE)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

# library("ClinicoPath")

deneme$Age &lt;- as.numeric(as.character(deneme$Age))

ClinicoPath::writesummary(data = deneme, vars = Age)

ggstatsplot::normality_message(deneme$Age, "Age")


ClinicoPath::writesummary(
    data = deneme,
    vars = Age)


devtools::install(upgrade = FALSE, quick = TRUE)
library(dplyr)
library(survival)
library(finalfit)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))
ClinicoPath::finalfit(data = deneme,
                      explanatory = Sex,
                      outcome = Outcome,
                      overalltime = OverallTime)

devtools::install(upgrade = FALSE, quick = TRUE)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

ClinicoPath::decision(
    data = deneme,
    gold = Outcome,
    goldPositive = "1",
    newtest = Smoker,
    testPositive = "TRUE")

ClinicoPath::decision(
    data = deneme,
    gold = LVI,
    goldPositive = "Present",
    newtest = PNI,
    testPositive = "Present")

deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))
ggstatsplot::ggbetweenstats(data = deneme, 
                            x = LVI,
                            y = Age)



devtools::install(upgrade = FALSE, quick = TRUE)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))
ClinicoPath::statsplot(
    data = deneme,
    dep = Age,
    group = Smoker)

mytable &lt;- table(deneme$Outcome, deneme$Smoker)

caret::confusionMatrix(mytable)
confusionMatrix(pred, truth)
confusionMatrix(xtab, prevalence = 0.25)

levels(deneme$Outcome)

mytable[1,2]

d &lt;- "0"

mytable[d, "FALSE"]

mytable[[0]]


formula &lt;- jmvcore::constructFormula(terms = c("A", "B", "C"))

jmvcore::constructFormula(terms = list("A", "B", "C"))

vars &lt;- jmvcore::decomposeFormula(formula = formula) 

vars &lt;- jmvcore::decomposeTerms(vars)


vars &lt;- unlist(vars)

formula &lt;- as.formula(formula)


my_group &lt;- "lvi"

jmvcore::composeTerm(my_group)


my_dep &lt;- "age"

formula &lt;- paste0('x = ', group, 'y = ', dep)
myformula &lt;- as.formula(formula)

myformula &lt;- glueformula::gf({my_group}, {my_dep})

myformula &lt;- glue::glue( 'x = ' , {my_group}, ', y = ' , {my_dep})

myformula &lt;- jmvcore::composeTerm(myformula)



deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

library(survival)
km_fit &lt;- survfit(Surv(OverallTime, Outcome) ~ LVI, data = deneme)

library(dplyr)
km_fit_median_df &lt;- summary(km_fit)
km_fit_median_df &lt;- as.data.frame(km_fit_median_df$table) %&gt;%
                janitor::clean_names(dat = ., case = "snake") %&gt;%
                tibble::rownames_to_column(.data = ., var = "LVI")


library(dplyr)
library(survival)

deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

myoveralltime &lt;- deneme$OverallTime
myoutcome &lt;- deneme$Outcome
myexplanatory &lt;- deneme$LVI

class(myoveralltime)
class(myoutcome)
typeof(myexplanatory)

is.ordered(myexplanatory)

formula2 &lt;- jmvcore::constructFormula(terms = "myexplanatory")
# formula2 &lt;- jmvcore::decomposeFormula(formula = formula2)
# formula2 &lt;- paste("", formula2)
# formula2 &lt;- as.formula(formula2)
formula2 &lt;- jmvcore::composeTerm(formula2)


formulaL &lt;- jmvcore::constructFormula(terms = "myoveralltime")
# formulaL &lt;- jmvcore::decomposeFormula(formula = formulaL)

formulaR &lt;- jmvcore::constructFormula(terms = "myoutcome")
# formulaR &lt;- jmvcore::decomposeFormula(formula = formulaR)

formula &lt;- paste("Surv(", formulaL, ",", formulaR, ")")
# formula &lt;- jmvcore::composeTerm(formula)
# formula &lt;- as.formula(formula)
# jmvcore::constructFormula(terms = c(formula, formula2))

deneme %&gt;%
  finalfit::finalfit(formula, formula2) -&gt; tUni

tUni

library(dplyr)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

results &lt;- deneme %&gt;%
                ggstatsplot::ggbetweenstats(LVI, Age)
results

mydep &lt;- deneme$Age
mygroup &lt;- deneme$LVI


mygroup &lt;- jmvcore::constructFormula(terms = "mygroup")
mygroup &lt;- jmvcore::composeTerm(mygroup)

mydep &lt;- jmvcore::constructFormula(terms = "mydep")
mydep &lt;- jmvcore::composeTerm(mydep)


# not working
# eval(mygroup)
# rlang::eval_tidy(mygroup)
# !!mygroup
# {{mygroup}}
# sym(mygroup)
# quote(mygroup)
# enexpr(mygroup)

mygroup &lt;- jmvcore::constructFormula(terms = "mygroup")
mydep &lt;- jmvcore::constructFormula(terms = "mydep")

formula1 &lt;- paste(mydep)
formula1 &lt;- jmvcore::composeTerm(formula1)


mygroup &lt;- paste(mygroup)
mygroup &lt;- jmvcore::composeTerm(mygroup)

mydep &lt;- deneme$Age
mygroup &lt;- deneme$LVI

mydep &lt;- jmvcore::resolveQuo(jmvcore::enquo(mydep))
mygroup &lt;- jmvcore::resolveQuo(jmvcore::enquo(mygroup))

mydata2 &lt;- data.frame(mygroup=mygroup, mydep=mydep)

results &lt;- mydata2 %&gt;%
                ggstatsplot::ggbetweenstats(
x = mygroup, y = mydep  )

results



myformula &lt;- glue::glue('x = ', {mygroup}, ', y = ' , {mydep})

myformula &lt;- jmvcore::composeTerm(myformula)

myformula &lt;- as.formula(myformula)



mydep2 &lt;- quote(mydep)
mygroup2 &lt;- quote(mygroup)


results &lt;- deneme %&gt;%
                ggstatsplot::ggbetweenstats(!!mygroup2, !!mydep2)
results


formula &lt;- jmvcore::constructFormula(terms = c("myoveralltime", "myoutcome"))

vars &lt;- jmvcore::decomposeFormula(formula = formula) 


explanatory &lt;- jmvcore::constructFormula(terms = c("explanatory"))    

explanatory &lt;- jmvcore::decomposeFormula(formula = explanatory)

explanatory &lt;- unlist(explanatory)

myformula &lt;- paste("Surv(", vars[1], ", ", vars[2], ")")



deneme %&gt;%
finalfit::finalfit(myformula, explanatory) -&gt; tUni


deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))


table3 &lt;-
  tangram::html5(
    tangram::tangram(
      "Death ~ LVI + PNI + Age", deneme),
    fragment=TRUE,
    # style = "hmisc",
    style = "nejm",
    # inline="nejm.css",
    caption = "HTML5 Table",
    id="tbl3")

table3

mydep &lt;- deneme$Age
mygroup &lt;- deneme$Death


formulaR &lt;- jmvcore::constructFormula(terms =  c("LVI", "PNI", "Age"))

formulaL &lt;- jmvcore::constructFormula(terms = "Death")

formula &lt;- paste(formulaL, '~', formulaR)

# formula &lt;- as.formula(formula)

sty &lt;- jmvcore::composeTerm(components = "nejm")

gr &lt;- jmvcore::composeTerm(components = "Death")


table &lt;- tangram::html5(
    tangram::tangram(formula, deneme
                     ),
    fragment=TRUE,
    # style = "hmisc",
    # style = "nejm",
    style = sty,
    # inline="nejm.css",
    caption = paste0("HTML5 Table ", gr),
    id="tbl4")

table



deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))


mydata &lt;- deneme

formula2 &lt;- jmvcore::constructFormula(terms = c("LVI", "PNI", "Age"))

formulaR &lt;- jmvcore::constructFormula(terms = "Death")

formulaR &lt;- jmvcore::toNumeric(formulaR)



plot &lt;-
                finalfit::or_plot(
                    .data = mydata,
                    dependent = formulaR,
                    explanatory = formula2,
                    remove_ref = FALSE,
                    table_text_size = 4,
                    title_text_size = 14,
                    random_effect = NULL,
                    factorlist = NULL,
                    glmfit = NULL,
                    confint_type = NULL,
                    breaks = NULL,
                    column_space = c(-0.5, 0, 0.5),
                    dependent_label = "Death",
                    prefix = "",
                    suffix = ": OR (95% CI, p-value)",
                    table_opts = NULL,
                    plot_opts = list(
                    ggplot2::xlab("OR, 95% CI"),
                    ggplot2::theme(
                    axis.title = ggplot2::element_text(size = 12)
                    )
                    )
                    )



# Other Codes



## arsenal


tab1 &lt;- arsenal::tableby(~ Age + Sex, data = deneme)

results &lt;- summary(tab1)


# results$object
# results$control
# results$totals
# results$hasStrata
# results$text
# results$pfootnote
# results$term.name
# 
# tab1$Call
# 
# tab1$control

tab1$tables # this is where results lie





## define survival time


mydata$int &lt;- lubridate::interval(
  lubridate::ymd(mydata$SurgeryDate),
  lubridate::ymd(mydata$LastFollowUpDate)
  )
mydata$OverallTime &lt;- lubridate::time_length(mydata$int, "month")
mydata$OverallTime &lt;- round(mydata$OverallTime, digits = 1)





## Multivariate Analysis Survival



library(finalfit)
library(survival)
explanatoryMultivariate &lt;- explanatoryKM
dependentMultivariate &lt;- dependentKM

mydata %&gt;%
  finalfit(dependentMultivariate, explanatoryMultivariate) -&gt; tMultivariate

knitr::kable(tMultivariate, row.names=FALSE, align=c("l", "l", "r", "r", "r", "r"))


# Find arguments in yaml

list_of_yaml &lt;- c(
    list.files(path = "~/histopathRprojects/ClinicoPath-Jamovi--prep/jmv",
               pattern = "\\.yaml$",
               full.names = TRUE,
               all.files = TRUE,
               include.dirs = TRUE,
               recursive = TRUE
    )
)


text_of_yaml_yml &lt;- purrr::map(
    .x = list_of_yaml,
    .f = readLines
)

text_of_yaml_yml &lt;- as.vector(unlist(text_of_yaml_yml)) 

arglist &lt;-
    stringr::str_extract(
        string = text_of_yaml_yml, 
        pattern = 
            "([[:alnum:]]*):"
    )

arglist &lt;- arglist[!is.na(arglist)]
arglist &lt;- unique(arglist)
arglist &lt;- gsub(pattern = ":", # remove some characters
                    replacement = "",
                    x = arglist)
arglist &lt;- trimws(arglist) # remove whitespace

cat(arglist, sep = "\n")


#
#                 # tUni_df_descr &lt;- paste0("When ",
#                 #                         tUni_df$dependent_surv_overall_time_outcome[1],
#                 #                         " is ",
#                 #                         tUni_df$x[2],
#                 #                         ", there is ",
#                 #                         tUni_df$hr_univariable[2],
#                 #                         " times risk than ",
#                 #                         "when ",
#                 #                         tUni_df$dependent_surv_overall_time_outcome[1],
#                 #                         " is ",
#                 #                         tUni_df$x[1],
#                 #                         "."
#                 # )
#
#                 # results5 &lt;- tUni_df_descr



boot::melanoma
rio::export(x = boot::melanoma, file = "data/melanoma.csv")

survival::colon
rio::export(x = survival::colon, file = "data/colon.csv")

# BreastCancerData &lt;- "https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data"
# 
# BreastCancerNames &lt;- "https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.names"
# 
# BreastCancerData &lt;- read.csv(file = BreastCancerData, header = FALSE,
#                 col.names = c("id","CT", "UCSize", "UCShape", "MA", "SECS", "BN", "BC", "NN","M", "diagnosis") )

library(mlbench)

data("BreastCancer")
BreastCancer

rio::export(x = BreastCancer, file = "data/BreastCancer.csv")



deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))
# names(deneme)

mypairwise &lt;-  survminer::pairwise_survdiff(
                            formula = survival::Surv(OverallTime, Outcome) ~ TStage,
                            data = deneme,
                            p.adjust.method = "BH"
                            )


mypairwise2 &lt;- as.data.frame(mypairwise[["p.value"]]) %&gt;% 
  tibble::rownames_to_column()

mypairwise2 %&gt;% 
  tidyr::pivot_longer(cols = -rowname) %&gt;% 
  dplyr::filter(complete.cases(.)) %&gt;% 
  dplyr::mutate(description =
                            glue::glue(
                                "The comparison between {rowname} and {name} has a p-value of {round(value, 2)}."
                            )
                    ) %&gt;% 
                    dplyr::select(description) %&gt;%
                    dplyr::pull() -&gt; mypairwisedescription

mypairwisedescription &lt;- unlist(mypairwisedescription)

mypairwisedescription &lt;- c(
"In the pairwise comparison of",
mypairwisedescription)



            # mydata &lt;- self$data

            # mydep &lt;- self$data[[self$options$dep]]
            # mygroup &lt;- self$data[[self$options$group]]
            #
            #
            # plotData &lt;- data.frame(gr = mygroup, dp = jmvcore::toNumeric(mydep))
            # plotData &lt;- jmvcore::naOmit(plotData)
            #
            # image &lt;- self$results$plot
            #
            # image$setState(plotData)


            # self$results$text1$setContent(plotData)


            # mydepType &lt;- data.frame(vclass = class(mydep),
            #                         vtypeof = typeof(mydep),
            #                         vordered = is.ordered(mydep),
            #                         vfactor = is.factor(mydep),
            #                         vnumeric = is.numeric(mydep),
            #                         vdouble = is.double(mydep),
            #                         vcharacter = is.character(mydep),
            #                         vdate = lubridate::is.Date(mydep),
            #                         vdate2 = is.na.POSIXlt(mydep)
            #                         )
            # mygroupType &lt;- class(mygroup)
            # variableTypes &lt;- list(mydepType, mygroupType)
            # self$results$text1$setContent(variableTypes)

            # plotData &lt;- image$state


            # https://indrajeetpatil.github.io/ggstatsplot/
            # ggbetweenstats    violin plots    for comparisons between groups/conditions
            # ggwithinstats     violin plots    for comparisons within groups/conditions
            #
            # ggdotplotstats    dot plots/charts    for distribution about labeled numeric variable
            #
            # ggbarstats    bar charts  for categorical data
            #
            # ggscatterstats    scatterplots    for correlations between two variables

            # http://corybrunson.github.io/ggalluvial/


            # plot &lt;- ggplot(plotData, aes(x = gr,
            #                              y = dp)) +
            #     geom_point()

            # plot &lt;- plotData %&gt;%
            #     ggstatsplot::ggbetweenstats(
            #         x = gr,
            #         y = dp
            #         )

library(readr)
BreastCancer &lt;- read_csv("data/BreastCancer.csv")
View(BreastCancer)



mytarget &lt;- "Class"
myvars &lt;- c("Cl.thickness",
            "Cell.size",
            "Cell.shape",
            "Marg.adhesion",
            "Epith.c.size",
            "Bare.nuclei",
            "Bl.cromatin",
            "Normal.nucleoli",
            "Mitoses")

mydata &lt;- BreastCancer %&gt;% 
    select(mytarget, myvars)

formula &lt;- jmvcore::constructFormula(terms = mytarget)

formula &lt;- paste(formula, '~ .')

formula &lt;- as.formula(formula)

 # Create an FFTrees object from the data
 FFTrees.fft &lt;- FFTrees::FFTrees(
     formula = formula,
     data = mydata
     )

 # Plot the best tree applied to the test data
 plot2 &lt;- plot(FFTrees.fft,
      data = mydata
      # ,
      # main = "Heart Disease",
      # decision.labels = c("Healthy", "Disease")
                 )


devtools::install(upgrade = FALSE, quick = TRUE)


deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))


ClinicoPath::statsplotbetween(
    data = deneme,
    dep = LVI,
    group = PNI)

myirr &lt;- data.frame(
          Rater1 = c(0L,1L,1L,0L,0L,0L,1L,1L,1L,0L,1L,
                 1L,1L,1L,1L,0L,NA,1L,1L,0L,0L,1L,1L,1L,1L,1L,0L,
                 1L,1L,1L,1L,0L,1L,1L,1L,1L,1L,0L,0L,1L,1L,1L,
                 1L,1L,0L,1L,1L,1L,0L,0L,1L,1L,1L,0L,1L,1L,1L,0L,
                 1L,1L,0L,1L,0L,1L,1L,0L,0L,1L,0L,1L,1L,1L,0L,0L,
                 0L,0L,1L,1L,1L,0L,0L,1L,1L,1L,1L,0L,0L,0L,1L,0L,
                 0L,1L,1L,0L,1L,1L,0L,1L,1L,0L,1L,1L,0L,1L,1L,
                 0L,1L,1L,1L,0L,1L,1L,1L,0L,1L,1L,0L,0L,1L,0L,1L,
                 1L,1L,0L,1L,1L,1L,1L,1L,1L,1L,1L,0L,1L,1L,1L,1L,
                 1L,1L,1L,1L,1L,1L,0L,1L,1L,1L,1L,1L,1L,1L,0L,0L,
                 1L,0L,1L,1L,1L,1L,1L,0L,0L,1L,1L,1L,1L,1L,0L,
                 0L,0L,1L,1L,0L,1L,1L,0L,1L,0L,1L,1L,1L,0L,1L,1L,
                 1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,
                 0L,0L,1L,1L,1L,1L,0L,0L,1L,1L,0L,1L,1L,1L,0L,1L,
                 0L,1L,1L,1L,1L,0L,0L,0L,0L,1L,0L,1L,1L,1L,0L,
                 0L,1L,1L,1L,0L,1L,0L,0L,0L,1L,1L,1L,0L,1L,0L,0L,
                 0L,1L,1L),
          Rater2 = c(0L,0L,0L,0L,0L,0L,0L,0L,0L,0L,0L,
                 0L,0L,0L,0L,0L,0L,0L,0L,0L,0L,0L,0L,1L,1L,1L,0L,
                 1L,1L,1L,1L,0L,1L,1L,1L,1L,1L,0L,0L,1L,1L,1L,
                 1L,1L,0L,1L,1L,1L,0L,0L,1L,1L,1L,0L,1L,1L,1L,0L,
                 1L,1L,0L,1L,0L,1L,1L,0L,0L,1L,0L,1L,1L,1L,0L,0L,
                 0L,0L,1L,1L,1L,0L,0L,1L,1L,1L,1L,0L,0L,0L,1L,0L,
                 0L,1L,1L,0L,1L,1L,0L,1L,1L,0L,1L,1L,0L,1L,1L,
                 0L,1L,1L,1L,0L,1L,1L,1L,0L,1L,1L,0L,0L,1L,0L,1L,
                 1L,1L,0L,1L,1L,1L,1L,1L,1L,1L,1L,0L,1L,1L,1L,1L,
                 1L,1L,1L,1L,1L,1L,0L,1L,1L,1L,1L,1L,1L,1L,0L,0L,
                 1L,0L,1L,1L,1L,1L,1L,0L,0L,1L,1L,1L,1L,1L,0L,
                 0L,0L,1L,1L,0L,1L,1L,0L,1L,0L,1L,1L,1L,0L,1L,1L,
                 1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,
                 0L,0L,1L,1L,1L,1L,0L,0L,1L,1L,0L,1L,1L,1L,1L,1L,
                 1L,1L,1L,1L,1L,1L,1L,1L,1L,1L,0L,1L,1L,1L,0L,
                 0L,1L,1L,1L,0L,1L,0L,0L,0L,1L,1L,1L,0L,1L,0L,0L,
                 0L,1L,1L)
)

myirr &lt;- myirr %&gt;% 
    dplyr::mutate(
        RaterA = dplyr::case_when(
            Rater1 == 0 ~ "Negative",
            Rater1 == 1 ~ "Positive"
        )
    ) %&gt;% 
    dplyr::mutate(
        RaterB = dplyr::case_when(
            Rater2 == 0 ~ "Negative",
            Rater2 == 1 ~ "Positive"
        )
    ) %&gt;% 
    dplyr::select(RaterA, RaterB) %&gt;% 
    mutate(RaterA = as.factor(RaterA)) %&gt;% 
    mutate(RaterB = as.factor(RaterB))

table &lt;- myirr %$% 
table(RaterA, RaterB)

mymatrix &lt;- caret::confusionMatrix(table, positive = "Positive")
mymatrix

caret::sensitivity(table, positive = "Positive")


mymatrix2 &lt;- caret::confusionMatrix(table, positive = "Positive", prevalence = 0.25)
mymatrix2


 dat &lt;- as.table(
                matrix(c(670,202,74,640),
                       nrow = 2,
                       byrow = TRUE)
                )

            colnames(dat) &lt;- c("Dis+","Dis-")
            rownames(dat) &lt;- c("Test+","Test-")

            rval &lt;- epiR::epi.tests(dat, conf.level = 0.95)

            rval &lt;- list(
                dat,
                rval,
                print(rval),
                summary(rval)
                         )

devtools::install(upgrade = FALSE, quick = TRUE)
library(dplyr)

deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

ratings &lt;- deneme %&gt;% 
    dplyr::select(LVI, PNI, Age, ID)


f &lt;- unlist(lapply(ratings, class))

any(f == "numeric")

all(f == "numeric")


xtitle &lt;- names(ratings)[1]
ytitle &lt;- names(ratings)[2]

result &lt;- table(ratings[,1], ratings[,2],
                dnn = list(xtitle, ytitle))

table(ratings)



result1 &lt;- irr::agree(ratings)


result2 &lt;- irr::kappa2(ratings)


ClinicoPath::agreement(
    data = deneme,
    vars = c(LVI,PNI)
)


result2 &lt;- irr::kappam.fleiss(
                    ratings = ratings,
                    exact = FALSE,
                    detail = TRUE)




deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

mytree &lt;- vtree::vtree(deneme, "LVI PNI")

# write(mytree[["x"]][["diagram"]], 
#       file = here::here("/_tododata/trial1.gv"))

# DiagrammeR::grViz(diagram = here::here("/_tododata/trial1.gv"))

diagram &lt;- mytree[["x"]][["diagram"]]

mytree2 &lt;- DiagrammeR::grViz(diagram = diagram)


print(mytree2)



# Packages for Development





## rpkgtools


devtools::install_github("IndrajeetPatil/rpkgtools")



## available


Check if a package name is available to use https://docs.ropensci.org/available


https://github.com/r-lib/available



available::available("clinicopath")
available::available("lens2r")





## bench


High Precision Timing of R Expressions http://bench.r-lib.org/

https://github.com/r-lib/bench






## desc


Manipulate DESCRIPTION files
https://github.com/r-lib/desc



## pkgverse

pkgverse: Build a Meta-Package Universe
https://pkgverse.mikewk.com/



## pkgbuild

pkgbuild: Find Tools Needed to Build R Packages
https://github.com/r-lib/pkgbuild


## pkgload

pkgload: Simulate Package Installation and Attach
https://github.com/r-lib/pkgload


## rcmdcheck

rcmdcheck: Run 'R CMD check' from 'R' and Capture Results
https://github.com/r-lib/rcmdcheck




## remotes


## sessioninfo

Print Session Information

https://github.com/r-lib/sessioninfo



## "covr




## "exampletestr


## "covrpage",


## "gramr",


## "lintr",


## "goodpractice",


## "pkgdown",


## "usethis",


## "testthat",


## "spelling",


## "RTest",

https://towardsdatascience.com/rtest-pretty-testing-of-r-packages-50f50b135650


## "rhub",


## "roxygen2",


## "sinew",


## "styler",



## "vdiffr"




## "attachment (https://github.com/ThinkR-open/attachment)
## "covrpage (https://github.com/yonicd/covrpage)
## "defender (https://github.com/ropenscilabs/defender)
## "gramr (https://github.com/ropenscilabs/gramr)
## "packagemetrics (https://github.com/ropenscilabs/packagemetrics)
## "pRojects (https://github.com/lockedata/pRojects)
## "revdepcheck (https://github.com/r-lib/revdepcheck)
## "roxygen2Comment (https://github.com/csgillespie/roxygen2Comment)
## "roxygen2md (https://github.com/r-lib/roxygen2md)
## "testdown (https://github.com/ThinkR-open/testdown)
## "tic (https://github.com/ropenscilabs/tic)





            # Table1 &lt;- table(mydata[[testVariable]], mydata[[goldVariable]])


            # Table1 &lt;- mydata %&gt;%
            #     janitor::tabyl(.data[[testVariable]], .data[[goldVariable]]) %&gt;%
            #     janitor::adorn_totals(dat = ., where = c("row", "col")) %&gt;%
            #     janitor::adorn_percentages(dat = ., denominator = "row") %&gt;%
            #     janitor::adorn_percentages(dat = ., denominator = "col") %&gt;%
            #     janitor::adorn_pct_formatting(dat = ., rounding = "half up", digits = 1) %&gt;%
            #     janitor::adorn_ns(dat = .) %&gt;%
            #     janitor::adorn_title("combined")
            # results1 &lt;- Table1

                # results1 &lt;- summary(km_fit)$table

                # km_fit_median_df &lt;- summary(km_fit)
                # km_fit_median_df &lt;- as.data.frame(km_fit_median_df$table) %&gt;%
                #     janitor::clean_names(dat = ., case = "snake") %&gt;%
                #     tibble::rownames_to_column(.data = .)

                # results1 &lt;- tibble::as_tibble(results1,
                #                              .name_repair = "minimal") %&gt;%
                #     janitor::clean_names(dat = ., case = "snake") %&gt;%
                #     tibble::rownames_to_column(.data = ., var = self$options$explanatory)


table2 &lt;- matrix(c(80, 20, 30, 70), nrow = 2, ncol = 2, byrow = TRUE, dimnames = list(c("Positive", "Negative"), c("Positive","Negative")))

            table3 &lt;- as.table(table2)

            names(attributes(table3)$dimnames) &lt;- c("Test","Gold Standart")

caretresult &lt;- caret::confusionMatrix(table3, mode = "everything")



table3 &lt;- matrix(c(80L, 20L, 25L, 30L, 70L, 75L), nrow = 2, ncol = 3, byrow = TRUE)


# RVAideMemoire::chisq.multcomp() RVAideMemoire::fisher.multcomp()

result1 &lt;- RVAideMemoire::chisq.multcomp(table3)

result1 &lt;- result1[["p.value"]]


result1 &lt;- as.data.frame(result1) %&gt;%
                                tibble::rownames_to_column()

result1 &lt;- result1 %&gt;%
    tidyr::pivot_longer(cols = -rowname) %&gt;%
    dplyr::filter(complete.cases(.))




myfun &lt;- function(i,j) {
    if(!is.na(result1[i,j])){
    paste0(    
dimnames(result1)[[1]][i],
" vs ",
dimnames(result1)[[2]][j],
" p= ",    
result1[i,j])
    }
}

for (i in 1:dim(result1)[1]) {
for (j in 1:dim(result1)[2]) {
    des &lt;- myfun(i,j)
    if(!is.null(des)) print(des)
}
}


myfun1 &lt;- function(i,j) {
    if(!is.na(result1[i,j])){
dimnames(result1)[[1]][i]
    }
}


for (i in 1:dim(result1)[1]) {
for (j in 1:dim(result1)[2]) {
    des &lt;- myfun1(i,j)
    if(!is.null(des)) print(des)
}
}





myfun(3,3)

myfun(1,2)


dimnames(result1)[[1]][2]


RVAideMemoire::fisher.multcomp(table3)


# rmngb::pairwise.chisq.test(x, ...)  rmngb::pairwise.fisher.test(x, ...)


library(rmngb)
x &lt;- sample(1:2, 1e3, TRUE)
g &lt;- sample(1:4, 1e3, TRUE)
result2 &lt;- rmngb::pairwise.chisq.test(x, g)
tab &lt;- table(g, x)

resultrmngb &lt;- rmngb::pairwise.fisher.test(tab, p.adj = "bonf")

result2[["p.value"]]
resultrmngb[["p.value"]]

rmngb::pairwise.chisq.test(tab)





 
formula &lt;- jmvcore::constructFormula(terms = self$options$vars)
formula &lt;- paste('~', formula)
formula &lt;- as.formula(formula)
table1 &lt;- arsenal::tableby(formula, self$data,
total = TRUE,
digits = 1,
digits.count = 1
)
myarsenal &lt;- summary(table1, text = "html")
myarsenal &lt;- kableExtra::kable(myarsenal, format = "html",
digits = 1,
escape = TRUE) %&gt;%
kableExtra::kable_styling(kable_input = .,
bootstrap_options = "striped",
full_width = F,
position = "left")



library(dplyr)

deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))


varsName &lt;- c("LVI", "PNI")

tablelist &lt;- list()

                for (i in 1:length(varsName)) {

                    var &lt;- varsName[i]
                    
                    
                    table &lt;- deneme %&gt;%
                        janitor::tabyl(dat = ., var) %&gt;%
                        janitor::adorn_totals("row") %&gt;%
                        janitor::adorn_pct_formatting(dat = .)

                    tablelist[[i]] &lt;- table

                }

tablelist






            data &lt;- self$data

            vars &lt;- self$options$vars

            facs &lt;- self$options$facs

            target &lt;- self$options$target

            # data &lt;- jmvcore::select(data, c(vars, facs, target))


            if ( ! is.null(vars))
            for (var in vars)
                data[[var]] &lt;- jmvcore::toNumeric(data[[var]])

            if ( ! is.null(facs))
            for (fac in facs)
                data[[fac]] &lt;- as.factor(data[[fac]])


            data[[target]] &lt;- as.factor(data[[target]])

            data &lt;- jmvcore::naOmit(data)
            
            
            
            
            

            # TODO

            # todo &lt;- glue::glue(
            #     "This Module is still under development
            #     -
            #     -
            #     "
            # )

            # self$results$todo$setContent(todo)

            # if (nrow(self$data) == 0)
            #     stop('Data contains no (complete) rows')


            # if (is.null(self$options$vars) || is.null(self$options$target))
            #     return()


            # prepare data for explore ----
            # https://cran.r-project.org/web/packages/explore/vignettes/explore.html


            # result1 &lt;- iris %&gt;% explore::explain_tree(target = Species)
            #
            # self$results$text1$setContent(result1)


            # image &lt;- self$results$plot

            # image$setState(plotData)



            # from https://forum.jamovi.org/viewtopic.php?f=2&amp;t=1287
            # library(caret)
            # library(partykit)
            # detach("package:partykit", unload=TRUE)
            # library(party)

            # Conditional Trees

            # set.seed(3456)
            # model &lt;- train(
            #     yvar ~ .,
            #     data = df,
            #     method = 'ctree2',
            #     trControl = trainControl("cv", number = 10, classProbs = FALSE),
            #     tuneGrid = expand.grid(maxdepth = 3, mincriterion = 0.95)
            # )
            # plot(model$finalModel)
            #
            # t(sapply(unique(where(model$finalModel)), function(x) {
            #     n &lt;- nodes(model$finalModel, x)[[1]]
            #     yvar &lt;- df[as.logical(n$weights), "yvar"]
            #     cbind.data.frame("Node" = as.integer(x),
            #                      psych::describe(yvar, quant=c(.25,.50,.75), skew = FALSE))
            # }))
            
            
            
            
            


            # data &lt;- private$.cleanData()

            # vars &lt;- self$options$vars
            # facs &lt;- self$options$facs
            # target &lt;- self$options$target

            # tree1 &lt;- data %&gt;%
            #     explore::explain_tree(target = .data[[target]])




            # if (is.null(self$options$vars) || is.null(self$options$target))
            #     return()


            # varsName &lt;- self$options$vars
            #
            # facsName &lt;- self$options$facs
            #
            # targetName &lt;- self$options$target
            #
            # data &lt;- jmvcore::select(self$data, c(varsName, facsName, targetName))
            #
            # data[[varsName]] &lt;- jmvcore::toNumeric(data[[varsName]])
            #
            # for (fac in facsName)
            #     data[[facsName]] &lt;- as.factor(data[[facsName]])
            #
            # data &lt;- jmvcore::naOmit(data)




            # tree1 &lt;- data %&gt;%
            #     explore::explain_tree(target = .data[[targetName]])


            # plot &lt;- iris %&gt;% explore::explain_tree(target = Species)
            # if (length(self$options$dep) + length(self$options$group) &lt; 2)
            #     return()

            # tree1 &lt;- iris %&gt;% explore::explain_tree(target = Species)
            # iris$is_versicolor &lt;- ifelse(iris$Species == "versicolor", 1, 0)
            # tree2 &lt;- iris %&gt;%
            # dplyr::select(-Species) %&gt;%
            # explore::explain_tree(target = is_versicolor)
            # tree3 &lt;- iris %&gt;%
            # explore::explain_tree(target = Sepal.Length)



library(magrittr)
# devtools::install(upgrade = FALSE, quick = TRUE)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

mydata &lt;- deneme

varsName &lt;- "Age"

# facsName &lt;- c("LVI", "PNI")

targetName &lt;- "Outcome"

mydata[[targetName]] &lt;- as.factor(mydata[[targetName]])

mydata &lt;- jmvcore::select(mydata, c(varsName, 
                                    # facsName, 
                                    targetName))

mydata &lt;- jmvcore::naOmit(mydata)



explore::explain_tree(data = mydata,
                      target = targetName
                      )

mydata %&gt;%
explore::explain_tree(target = .data[[targetName]])




iris %&gt;% explore::explain_tree(target = Species)




BreastCancer %&gt;%
                dplyr::select(all_of(mytarget), all_of(myvars)) %&gt;%
                explore::explain_tree(target = .data[[mytarget]])




ClinicoPath::tree(
    data = data,
    vars = Age,
    facs = vars(LVI, PNI),
    target = Mortality)


mytarget &lt;- "Class"
myvars &lt;- c("Cl.thickness",
            "Cell.size",
            "Cell.shape",
            "Marg.adhesion",
            "Epith.c.size",
            "Bare.nuclei",
            "Bl.cromatin",
            "Normal.nucleoli",
            "Mitoses")

# mytarget &lt;- jmvcore::composeTerms(mytarget)
# mytarget &lt;- jmvcore::constructFormula(terms = mytarget)



# install.packages("easyalluvial")
library(magrittr)
# devtools::install(upgrade = FALSE, quick = TRUE)
deneme &lt;- readxl::read_xlsx(path = here::here("_tododata", "histopathology-template2019-11-25.xlsx"))

mydata &lt;- deneme

var1 &lt;- "TStage"

var2 &lt;- "Grade"

mydata &lt;- jmvcore::select(df = mydata, columnNames = c(var1, var2))

mydata &lt;- jmvcore::naOmit(mydata)

plot &lt;- 
easyalluvial::alluvial_wide( data = mydata
                , max_variables = 5
                , fill_by = 'first_variable'
                , verbose = TRUE
                )

plot %&gt;% 
    easyalluvial::add_marginal_histograms(mydata)


</code></pre>
<!-- I already got the First one(Raju's statistic) using $.  but for the second one, I can not get the results using $ -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- so you‚Äôre after the mF-mR values? -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- what i do in this situation, is take a look at the print function. so i‚Äôll go: -->
<!-- class(res) -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- that gives me: -->
<!-- [1] "Raj" -->
<!-- Seol  3 hours ago -->
<!-- The result that I want to -->
<!-- Ïù¥ÎØ∏ÏßÄ 2.png  -->
<!-- Ïù¥ÎØ∏ÏßÄ 2.png -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- so this object is an S3 class ‚Ä¶ -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- in S3 classes, the print function is print.ClassName so in this case, it‚Äôs print.Raj -->
<!-- Seol  3 hours ago -->
<!-- Oh yub how can I get the results to use in the b.R ? -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- i‚Äôm getting there :slightly_smiling_face: -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- so now we take a look at the print.Raj() function. like this: -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- > print.Raj -->
<!-- function (x, ...)  -->
<!-- { -->
<!--     res <- x -->
<!--     if (is.character(res))  -->
<!--         cat("Error: unappropriate model specification!", "\n") -->
<!--     else { -->
<!--         cat("\n") -->
<!--         cat("Detection of Differential Item Functioning using Raju's method",  -->
<!--             "\n") -->
<!--         if (res$purification & is.null(res$anchor.names))  -->
<!--             pur <- "with " -->
<!--         else pur <- "without " -->
<!--         cat("with ", res$model, " model and ", pur, "item purification",  -->
<!--             "\n", "\n", sep = "") -->
<!--         if (res$signed)  -->
<!--             cat("Type of Raju's Z statistic: based on signed area",  -->
<!--                 "\n", "\n") -->
<!--         else cat("Type of Raju's Z statistic: based on unsigned area",  -->
<!--             "\n", "\n") -->
<!--         if (res$estPar) { -->
<!--             if (res$model != "1PL" | res$engine == "ltm")  -->
<!--                 cat("Engine 'ltm' for item parameter estimation",  -->
<!--                   "\n", "\n") -->
<!--             else cat("Engine 'lme4' for item parameter estimation",  -->
<!--                 "\n", "\n") -->
<!--         } -->
<!--         if (res$model == "1PL" & res$engine == "ltm") { -->
<!--             if (is.null(res$discr))  -->
<!--                 cat("Common discrimination parameter: estimated from 'ltm'",  -->
<!--                   "\n", "\n") -->
<!--             else cat("Common discrimination parameter: fixed to ",  -->
<!--                 res$discr, "\n", "\n", sep = "") -->
<!--         } -->
<!--         if (!is.null(res$c)) { -->
<!--             if (length(res$c) == 1)  -->
<!--                 cat("Common pseudo-guessing value:", res$c, "\n",  -->
<!--                   "\n") -->
<!--             else { -->
<!--                 mat <- cbind(res$c) -->
<!--                 if (!is.null(res$names))  -->
<!--                   rownames(mat) <- res$names -->
<!--                 else { -->
<!--                   rn <- NULL -->
<!--                   for (i in 1:nrow(mat)) rn[i] <- paste("Item",  -->
<!--                     i, sep = "") -->
<!--                   rownames(mat) <- rn -->
<!--                 } -->
<!--                 colnames(mat) <- "c" -->
<!--                 cat("Common pseudo-guessing values:", "\n", "\n") -->
<!--                 print(mat) -->
<!--                 cat("\n") -->
<!--             } -->
<!--         } -->
<!--         if (res$purification & is.null(res$anchor.names)) { -->
<!--             if (res$nrPur <= 1)  -->
<!--                 word <- " iteration" -->
<!--             else word <- " iterations" -->
<!--             if (!res$convergence) { -->
<!--                 cat("WARNING: no item purification convergence after ",  -->
<!--                   res$nrPur, word, "\n", sep = "") -->
<!--                 loop <- NULL -->
<!--                 for (i in 1:res$nrPur) loop[i] <- sum(res$difPur[1,  -->
<!--                   ] == res$difPur[i + 1, ]) -->
<!--                 if (max(loop) != length(res$RajuZ))  -->
<!--                   cat("(Note: no loop detected in less than ",  -->
<!--                     res$nrPur, word, ")", "\n", sep = "") -->
<!--                 else cat("(Note: loop of length ", min((1:res$nrPur)[loop ==  -->
<!--                   length(res$RajuZ)]), " in the item purification process)",  -->
<!--                   "\n", sep = "") -->
<!--                 cat("WARNING: following results based on the last iteration of the purification",  -->
<!--                   "\n", "\n") -->
<!--             } -->
<!--             else cat("Convergence reached after ", res$nrPur,  -->
<!--                 word, "\n", "\n", sep = "") -->
<!--         } -->
<!--         if (is.null(res$anchor.names)) { -->
<!--             itk <- 1:length(res$RajuZ) -->
<!--             cat("No set of anchor items was provided", "\n",  -->
<!--                 "\n") -->
<!--         } -->
<!--         else { -->
<!--             itk <- (1:length(res$RajuZ))[!is.na(res$RajuZ)] -->
<!--             cat("Anchor items (provided by the user):", "\n") -->
<!--             if (is.numeric(res$anchor.names))  -->
<!--                 mm <- res$names[res$anchor.names] -->
<!--             else mm <- res$anchor.names -->
<!--             mm <- cbind(mm) -->
<!--             rownames(mm) <- rep("", nrow(mm)) -->
<!--             colnames(mm) <- "" -->
<!--             print(mm, quote = FALSE) -->
<!--             cat("\n", "\n") -->
<!--         } -->
<!--         if (is.null(res$p.adjust.method))  -->
<!--             cat("No p-value adjustment for multiple comparisons",  -->
<!--                 "\n", "\n") -->
<!--         else { -->
<!--             pAdjMeth <- switch(res$p.adjust.method, bonferroni = "Bonferroni",  -->
<!--                 holm = "Holm", hochberg = "Hochberg", hommel = "Hommel",  -->
<!--                 BH = "Benjamini-Hochberg", BY = "Benjamini-Yekutieli") -->
<!--             cat("Multiple comparisons made with", pAdjMeth, "adjustement of p-values",  -->
<!--                 "\n", "\n") -->
<!--         } -->
<!--         cat("Raju's statistic:", "\n", "\n") -->
<!--         pval <- round(2 * (1 - pnorm(abs(res$RajuZ))), 4) -->
<!--         if (is.null(res$p.adjust.method))  -->
<!--             symb <- symnum(pval, c(0, 0.001, 0.01, 0.05, 0.1,  -->
<!--                 1), symbols = c("***", "**", "*", ".", "")) -->
<!--         else symb <- symnum(res$adjusted.p, c(0, 0.001, 0.01,  -->
<!--             0.05, 0.1, 1), symbols = c("***", "**", "*", ".",  -->
<!--             "")) -->
<!--         m1 <- cbind(round(res$RajuZ[itk], 4), pval[itk]) -->
<!--         if (!is.null(res$p.adjust.method))  -->
<!--             m1 <- cbind(m1, round(res$adjusted.p[itk], 4)) -->
<!--         m1 <- noquote(cbind(format(m1, justify = "right"), symb[itk])) -->
<!--         if (!is.null(res$names))  -->
<!--             rownames(m1) <- res$names[itk] -->
<!--         else { -->
<!--             rn <- NULL -->
<!--             for (i in 1:nrow(m1)) rn[i] <- paste("Item", i, sep = "") -->
<!--             rownames(m1) <- rn[itk] -->
<!--         } -->
<!--         con <- c("Stat.", "P-value") -->
<!--         if (!is.null(res$p.adjust.method))  -->
<!--             con <- c(con, "Adj. P", "") -->
<!--         else con <- c(con, "") -->
<!--         colnames(m1) <- con -->
<!--         print(m1) -->
<!--         cat("\n") -->
<!--         cat("Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ",  -->
<!--             "\n") -->
<!--         cat("\n", "Detection thresholds: ", -round(res$thr, 4),  -->
<!--             " and ", round(res$thr, 4), " (significance level: ",  -->
<!--             res$alpha, ")", "\n", "\n", sep = "") -->
<!--         if (is.character(res$DIFitems))  -->
<!--             cat("Items detected as DIF items:", res$DIFitems,  -->
<!--                 "\n", "\n") -->
<!--         else { -->
<!--             cat("Items detected as DIF items:", "\n") -->
<!--             if (!is.null(res$names))  -->
<!--                 m2 <- res$names -->
<!--             else { -->
<!--                 rn <- NULL -->
<!--                 for (i in 1:length(res$RajuZ)) rn[i] <- paste("Item",  -->
<!--                   i, sep = "") -->
<!--                 m2 <- rn -->
<!--             } -->
<!--             m2 <- cbind(m2[res$DIFitems]) -->
<!--             rownames(m2) <- rep("", nrow(m2)) -->
<!--             colnames(m2) <- "" -->
<!--             print(m2, quote = FALSE) -->
<!--             cat("\n") -->
<!--         } -->
<!--     } -->
<!--     if (res$model == "1PL") { -->
<!--         cat("Effect size (ETS Delta scale):", "\n", "\n") -->
<!--         cat("Effect size code:", "\n") -->
<!--         cat(" 'A': negligible effect", "\n") -->
<!--         cat(" 'B': moderate effect", "\n") -->
<!--         cat(" 'C': large effect", "\n", "\n") -->
<!--         if (res$purification & is.null(res$anchor.names))  -->
<!--             pars <- res$itemParFinal -->
<!--         else pars <- res$itemParInit -->
<!--         J <- nrow(pars)/2 -->
<!--         mR <- pars[1:J, 1] -->
<!--         mF <- itemRescale(pars[1:J, ], pars[(J + 1):(2 * J),  -->
<!--             ])[, 1] -->
<!--         rr1 <- round(mF - mR, 4) -->
<!--         rr2 <- round(-2.35 * rr1, 4) -->
<!--         symb1 <- symnum(abs(rr2), c(0, 1, 1.5, Inf), symbols = c("A",  -->
<!--             "B", "C")) -->
<!--         matR2 <- cbind(rr1, rr2)[itk, ] -->
<!--         matR2 <- noquote(cbind(format(matR2, justify = "right"),  -->
<!--             symb1[itk])) -->
<!--         if (!is.null(res$names))  -->
<!--             rownames(matR2) <- res$names[itk] -->
<!--         else { -->
<!--             rn <- NULL -->
<!--             for (i in 1:nrow(matR2)) rn[i] <- paste("Item", i,  -->
<!--                 sep = "") -->
<!--             rownames(matR2) <- rn[itk] -->
<!--         } -->
<!--         colnames(matR2) <- c("mF-mR", "deltaRaju", "") -->
<!--         print(matR2) -->
<!--         cat("\n") -->
<!--         cat("Effect size codes: 0 'A' 1.0 'B' 1.5 'C'", "\n") -->
<!--         cat(" (for absolute values of 'deltaRaju')", "\n", "\n") -->
<!--     } -->
<!--     if (!x$save.output)  -->
<!--         cat("Output was not captured!", "\n") -->
<!--     else { -->
<!--         if (x$output[2] == "default")  -->
<!--             wd <- paste(getwd(), "/", sep = "") -->
<!--         else wd <- x$output[2] -->
<!--         fileName <- paste(wd, x$output[1], ".txt", sep = "") -->
<!--         cat("Output was captured and saved into file", "\n",  -->
<!--             " '", fileName, "'", "\n", "\n", sep = "") -->
<!--     } -->
<!-- } -->
<!-- Seol  3 hours ago -->
<!-- :disappointed_relieved: -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- the important part (the part you‚Äôre interested in) is under this if-statement: -->
<!-- if (res$model == "1PL") { -->
<!--         cat("Effect size (ETS Delta scale):", "\n", "\n") -->
<!-- Seol  3 hours ago -->
<!-- Thanks, Probably, I am gonna insert them into ,b,R? -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- yup -->
<!-- Seol  3 hours ago -->
<!-- Oh yub, I'will try that:thinking_face: -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- i think this is what you want: -->
<!-- if (is.null(res$anchor.names)) { -->
<!--     itk <- 1:length(res$RajuZ) -->
<!-- } else { -->
<!--     itk <- (1:length(res$RajuZ))[!is.na(res$RajuZ)] -->
<!--     if (is.numeric(res$anchor.names))  -->
<!--         mm <- res$names[res$anchor.names] -->
<!--     else mm <- res$anchor.names -->
<!--         mm <- cbind(mm) -->
<!--     rownames(mm) <- rep("", nrow(mm)) -->
<!--     colnames(mm) <- "" -->
<!-- } -->
<!-- if (res$purification & is.null(res$anchor.names)) { -->
<!--     pars <- res$itemParFinal -->
<!-- } else pars <- res$itemParInit -->
<!-- J <- nrow(pars)/2 -->
<!-- mR <- pars[1:J, 1] -->
<!-- mF <- itemRescale(pars[1:J, ], pars[(J + 1):(2 * J),  -->
<!--                                     ])[, 1] -->
<!-- rr1 <- mF - mR -->
<!-- rr2 <- -2.35 * rr1 -->
<!-- symb1 <- symnum(abs(rr2), c(0, 1, 1.5, Inf), symbols = c("A",  -->
<!--                                                          "B", "C")) -->
<!-- matR2 <- cbind(rr1, rr2)[itk, ] -->
<!-- but you can probably simplify it down a bit more too -->
<!-- Seol  3 hours ago -->
<!-- Is there any simple way to call Effect size result in the screen? For example, in the above screen, to get Raju's statistics, I am using res$RajuZ and to get p value, I'm just using res$p.value  -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- i don‚Äôt think so. it doesn‚Äôt look like it. sometimes R packages calculate all the results, and you can access them using $blah ‚Ä¶ but sometimes they don‚Äôt calculate the results until you print them. ‚Ä¶ -->
<!-- Seol  3 hours ago -->
<!-- I'm just wondering only those functions describe above might working well:thinking_face: -->
<!-- Seol  3 hours ago -->
<!-- Anyway, I'll try that :+1: -->
<!-- jonathon:whale2:  3 hours ago -->
<!-- you can probably reduce it down to this: -->
<!-- itk <- 1:length(res$RajuZ) -->
<!-- pars <- res$itemParInit -->
<!-- J <- nrow(pars)/2 -->
<!-- mR <- pars[1:J, 1] -->
<!-- mF <- itemRescale(pars[1:J, ], pars[(J + 1):(2 * J),])[, 1] -->
<!-- rr1 <- mF - mR -->
<!-- rr2 <- -2.35 * rr1 -->
<!-- matR2 <- cbind(rr1, rr2)[itk, ] -->
<!-- depending on your needs -->
<p>imports &lt;- c( <a href="attachment::att_from_rscripts" class="uri">attachment::att_from_rscripts</a>(‚Äú./R‚Äù, recursive = TRUE)
)</p>
<p><a href="attachment::att_to_desc_from_is(path.d" class="uri">attachment::att_to_desc_from_is(path.d</a> = ‚ÄúDESCRIPTION‚Äù,
imports = imports, normalize = TRUE, add_remotes = TRUE)</p>
<pre><code>so you‚Äôve got a few options ‚Ä¶ but it‚Äôs worth pointing out that most of the time, the name of the jamovi function/analysis doesn‚Äôt really matter. unless you‚Äôre wanting people to be able to use the same functions from R, then no-one will ever use them/see them. (the only thing that matters is that the name of the analysis doesn‚Äôt change, so jamovi can match the analysis with analyses in old .omv files)
so assuming you want people to be able to use these same functions from R, and you want to rename, say, the flexplota function, you can use rename in the .a.yaml file. we use it for the anova:
https://github.com/jamovi/jmv/blob/master/jamovi/anova.a.yaml#L2-L3
this only renames the function used to call the analysis from R, and preserves the underlying ‚Äòanalysis name‚Äô that jamovi depends on. in the case of our ANOVA, we decided the lowercase name conflicted with too many anova() functions in R. the only change this makes to your .h.R file is here:
https://github.com/jamovi/jmv/blob/master/R/anova.h.R#L527
another approach, if you don‚Äôt want to provide the analysis R functions at all, you can see export: false in the .a.yaml file.
https://github.com/jamovi/jmv/blob/master/jamovi/empty.a.yaml#L7
in the case of anova, this would completely remove the ANOVA() function from the .h.R file (jamovi doesn‚Äôt actually use that top level function itself, rather it constructs the anovaClass, anovaOptions, etc. objects directly) ‚Ä¶ some times people do this where they want to implement their own top level function, rather than relying on the automatically generated one. or sometimes they just don‚Äôt want people to use that function from R, and want them to use a different approach in R. (one usually wants to override the syntax generated for ‚Äòsyntax mode‚Äô if taking this approach ‚Ä¶ i can walk you through that if that‚Äôs where you want to head). (edited) </code></pre>
<pre><code>flatpak install flathub org.freedesktop.Sdk.Extension.gfortran-62
sudo apt install libcanberra-gtk-module libcanberra-gtk3-module

flatpak run --command=R --devel org.jamovi.jamovi
install.packages('node', repos='https://repo.jamovi.org')
install.packages('jmvtools', repos='https://repo.jamovi.org')
jmvtools::install(home='/app/bin/')</code></pre>
<!-- Serdar Balci -->
<!--   2 months ago -->
<!-- At least I am now getting a different error :slightly_smiling_face: -->
<!-- > jmvtools::prepare() -->
<!-- jamovi compiler -->
<!-- jamovi 2.3.2 found at /usr/bin/flatpak -->
<!-- error: runtime/org.freedesktop.Sdk/x86_64/21.08 not installed -->
<!-- Error: Command failed: "flatpak" run --devel org.jamovi.jamovi "-R" --version -->
<!-- error: runtime/org.freedesktop.Sdk/x86_64/21.08 not installed -->
<!--   at checkExecSyncError (node:child_process:828:11) -->
<!--   at Object.execSync (node:child_process:902:15) -->
<!--   at /home/parallels/R/x86_64-pc-linux-gnu-library/4.1/jmvtools/node_modules/jamovi-compiler/index.js:214:40 -->
<!--   at Object.<anonymous> (/home/parallels/R/x86_64-pc-linux-gnu-library/4.1/jmvtools/node_modules/jamovi-compiler/index.js:580:3) -->
<!--   at Module._compile (node:internal/modules/cjs/loader:1103:14) -->
<!--   at Object.Module._extensions..js (node:internal/modules/cjs/loader:1157:10) -->
<!--   at Module.load (node:internal/modules/cjs/loader:981:32) -->
<!--   at Function.Module._load (node:internal/modules/cjs/loader:822:12) -->
<!--   at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:77:12) -->
<!--   at node:internal/main/run_main_module:17:47 -->
<!-- Command failed: "flatpak" run --devel org.jamovi.jamovi "-R" --version -->
<!-- error: runtime/org.freedesktop.Sdk/x86_64/21.08 not installed -->
<!-- (edited) -->
<!-- jonathon -->
<!-- :whale2:  2 months ago -->
<!-- flatpak install flathub org.freedesktop.Sdk//21.08 -->
<!-- Serdar Balci -->
<!--   2 months ago -->
<!-- Thank you, seems to work now. -->
<!-- You have a warning message: -->
<!-- (node:4706) [DEP0128] DeprecationWarning: Invalid 'main' field in '/home/parallels/R/x86_64-pc-linux-gnu-library/4.1/jmvtools/node_modules/jamovi-compiler/node_modules/po2json/package.json' of './lib/po2json'. Please either fix that or report it to the module author -->
<!-- (Use `node --trace-deprecation ...` to show where the warning was created) -->
<!-- jonathon -->
<!-- :whale2:  2 months ago -->
<!-- oh yeah, i‚Äôve got enough on my plate, to worry about warnings :stuck_out_tongue: -->
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.serdarbalci.com/" class="external-link">Serdar Balci</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
