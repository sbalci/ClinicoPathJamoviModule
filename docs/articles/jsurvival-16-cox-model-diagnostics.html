<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>jSurvival 16: Cox Proportional Hazards Model Diagnostics • ClinicoPath</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="jSurvival 16: Cox Proportional Hazards Model Diagnostics">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ClinicoPath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3.56</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../dev/index.html"><span class="fa fa-cogs"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/clinicopath-biomarker-01-biomarkerresponse-comprehensive.html">Biomarker Response Association Analysis - Comprehensive Guide for Precision Medicine</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-checkdata-01-comprehensive-data-quality.html">Data Quality Assessment - Comprehensive Guide for Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-01-introduction.html">ClinicoPath Descriptives 01: Introduction to Descriptive Statistics for Pathologists</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-02-data-quality.html">Data Quality Assessment and Exploration</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-02-tableone.html">Vignette: Generating a 'Table 1' with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-03-data-summary.html">Summarising Clinicopathological Data</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-03-reportcat.html">Vignette: Generating Quick Summaries of Categorical Pathology Data</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-03-summarydata.html">Vignette: Descriptive Analysis of Continuous Variables in Clinical Data</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-04-benford-comprehensive.html">Benford's Law Analysis - Comprehensive Guide for Data Validation and Fraud Detection</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-04-benford.html">Vignette: Checking Data Authenticity with Benford's Law</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-04-data-quality-exploration.html">ClinicoPath Descriptives 04: Data Quality Assessment for Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-05-alluvial.html">Comprehensive Guide to Alluvial Diagrams in ClinicoPath</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-05-dataquality-comprehensive.html">Data Quality Assessment - Enhanced Visual Analysis with visdat Integration</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-05-digital-pathology.html">Digital Pathology Validation: AI-Assisted Quantification and Method Comparison</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-06-agepyramid.html">Vignette: Creating an Age Pyramid with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-06-molecular-workflow.html">Modern Molecular Pathology Workflow: Integrated Morphologic and Molecular Diagnostics</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-07-ihcstats-comprehensive-guide.html">Comprehensive IHC Analysis Guide</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-08-autoeda.html">Automated Exploratory Data Analysis with AutoEDA</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-08-function-agepyramid.html">Vignette: Creating an Age Pyramid with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-09-crosstable.html">Vignette: Generating a Publication-Ready 'Table 1' with crosstable</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-09-function-alluvial.html">Function Reference: alluvial() - Complete Parameter Guide</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-1-multisurvival-time-dependent-comprehensive.html">Time-Dependent Covariates in Multisurvival Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-10-function-benford.html">Vignette: Performing a Benford's Law Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-11-function-crosstable.html">Vignette: Generating a Publication-Ready 'Table 1' with crosstable</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-11-swimmerplot.html">Vignette: Creating Advanced Swimmer Plots with Date and Event Handling</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-12-chisqposttest.html">Chi-Square Post-Hoc Tests for Clinicopathological Research</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-12-function-reportcat.html">Vignette: Generating Quick Summaries of Categorical Pathology Data</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-13-cisingle.html">Confidence Intervals for Mean Values in Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-13-enhancedcrosstable.html">Enhanced Cross Tables with danchaltiel/crosstable - Professional Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-13-function-summarydata.html">Vignette: Descriptive Analysis of Continuous Variables in Clinical Data</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-14-enhancedtables.html">Enhanced Tables with gt Package - Professional Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-14-function-tableone.html">Vignette: Generating a 'Table 1' with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-15-clinical-hemodynamic-monitoring.html">Clinical Hemodynamic Monitoring and Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-15-eurostatmap.html">Creating European Statistical Maps with eurostatmap</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-15-function-venn.html">Vignette: Visualizing Co-occurrence with Venn &amp; Upset Plots</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-15-groupsummary-comprehensive.html">Group and Summarize: Data Aggregation and Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-16-coefficient-plots.html">Coefficient Plots for Regression Models</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-16-data-summary-legacy.html">Summarising Clinicopathological Data</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-17-desctools.html">Advanced Statistical Tests with DescTools</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-17-introduction-legacy.html">ClinicoPathDescriptives: Introduction to Clinical and Pathological Descriptive Statistics</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-18-consort-flowcharts.html">CONSORT Flow Charts for Clinical Trial Reporting</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-18-digital-pathology-validation-legacy.html">Digital Pathology Validation: AI-Assisted Quantification and Method Comparison</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-19-contingency-tables.html">Vignette: Contingency Tables and Association Tests with ClinicoPath</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-19-flowchart-comprehensive.html">Creating Study Flowcharts with the flowchart Function</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-19-molecular-pathology-workflow-legacy.html">Modern Molecular Pathology Workflow: Integrated Morphologic and Molecular Diagnostics</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-20-ggflowchart-comprehensive.html">Modern Flowcharts with ggFlowchart</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-20-ihcstats-comprehensive-legacy.html">Comprehensive Guide to IHC Expression Analysis with ihcstats</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-20-paired-contingency-tables.html">Vignette: Paired Samples Contingency Tables and McNemar's Test with ClinicoPath</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-21-correlation-analysis.html">Vignette: Comprehensive Correlation Analysis with ClinicoPath</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-21-ggprism-comprehensive.html">GraphPad Prism Style Plots with ggprism</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-21-use-in-r-legacy.html">Use ClinicoPathDescriptives in R</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-22-gtsummary-comprehensive.html">Publication-Ready Tables with gtsummary</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-22-venn-legacy.html">Vignette: Visualizing Co-occurrence with Venn &amp; Upset Plots</a></li>
    <li><a class="dropdown-item" href="../articles/clinicopath-descriptives-23-hullplot-comprehensive.html">Hull Plot Visualization for Group Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/general-01-getting-started.html">Getting Started with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/general-02-jamovi-user-guide.html">General 01: jamovi User Guide for Statistical Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/general-03-clinical-examples.html">Clinical Research Examples with jsurvival</a></li>
    <li><a class="dropdown-item" href="../articles/general-03-getting-started-alt.html">General 02: Getting Started with Statistical Analysis for Pathologists</a></li>
    <li><a class="dropdown-item" href="../articles/general-04-clinical-workflow.html">Clinical Research Workflow with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/general-05-jamovi-workflow.html">Using jsurvival in jamovi: Complete Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/general-06-jamovi-workflow-examples.html">Jamovi Workflow Examples for Decision Tree and Markov Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/general-07-pathology-jamovi.html">Using jamovi for the Common Statistical Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/general-08-advanced-topics.html">Advanced Survival Analysis with jsurvival</a></li>
    <li><a class="dropdown-item" href="../articles/general-09-analysis-gallery.html">Complete Analysis Gallery - All jjstatsplot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/general-10-visualization-gallery.html">Visualization Gallery for Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/general-11-data-preparation.html">Data Preparation for Survival Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/general-12-module-development.html">Module Development for Jamovi</a></li>
    <li><a class="dropdown-item" href="../articles/general-13-quick-reference.html">Quick Reference Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/general-14-r-programming-guide.html">R Programming Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/general-15-troubleshooting-faq.html">Troubleshooting Guide and FAQ for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/general-16-use-clinicopath-in-r.html">Use ClinicoPathDescriptives in R</a></li>
    <li><a class="dropdown-item" href="../articles/general-17-users-of-clinicopath.html">Users of ClinicoPath</a></li>
    <li><a class="dropdown-item" href="../articles/general-18-analysis-gallery-legacy.html">Complete Analysis Gallery - All jjstatsplot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/general-19-clinical-examples-legacy.html">Clinical Research Examples with jsurvival</a></li>
    <li><a class="dropdown-item" href="../articles/general-20-clinical-workflow-legacy.html">Clinical Research Workflow with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="../articles/general-21-visualization-gallery-legacy.html">Visualization Gallery for Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/general-22-advanced-topics-legacy.html">Advanced Survival Analysis with jsurvival</a></li>
    <li><a class="dropdown-item" href="../articles/general-23-data-preparation-legacy.html">Data Preparation for Survival Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/general-24-jamovi-user-guide-legacy.html">Complete jamovi User Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/general-25-jamovi-workflow-examples-legacy.html">Jamovi Workflow Examples for Decision Tree and Markov Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/general-26-jamovi-workflow-legacy.html">Using jsurvival in jamovi: Complete Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/general-28-pathology-jamovi-legacy.html">Using jamovi for the Common Statistical Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/general-29-quick-reference-legacy.html">Quick Reference Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/general-30-r-programming-guide-legacy.html">R Programming Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/general-31-troubleshooting-faq-legacy.html">Troubleshooting Guide and FAQ for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-01-introduction.html">jjStatsPlot 01: Statistical Visualization for Pathologists</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-02-categorical-plots.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-03-continuous-comparisons.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-04-continuous-comparisons-alt.html">Continuous Variable Comparisons</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-05-correlations-scatterplots.html">Correlations and Scatter Plots</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-06-BBC-style-data-visualization.html">BBC-Style Data Visualization - Professional News Graphics</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-06-use-in-r.html">Use jjstatsplot in R</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-07-advancedbarplot.html">Advanced Bar Charts - 7 Professional Approaches</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-07-continuous-comparisons-legacy.html">Continuous Variable Comparisons</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-08-advancedraincloud.html">Advanced Raincloud Plots - Enhanced Distribution Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-08-categorical-plots-legacy.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-09-advancedtree.html">Advanced Decision Tree Analysis in ClinicoPath</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-09-basegraphics.html">Base Graphics Visualization - Fast &amp; Customizable Base R Plots</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-09-continuous-comparisons-legacy.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-10-correlations-scatterplots-legacy.html">Correlations and Scatter Plots</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-11-introduction-legacy.html">jjstatsplot: Statistical Visualization for Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-12-economistplots.html">Economist-Style Distribution Plots - Professional Data Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-14-clinical-classification-comprehensive.html">Clinical Classification Analysis with Machine Learning</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-15-grafify-comprehensive.html">Scientific Visualization with Grafify: Comprehensive Guide</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-16-jcomplexupset-comprehensive.html">Complex UpSet Plot Visualization with jcomplexupset</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-17-jextractggstats-comprehensive.html">Statistical Data Extraction from ggstatsplot</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-18-jforester-comprehensive.html">Forest Plot Visualization with jforester</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-19-jforestmodel-comprehensive.html">Forest Plots from Regression Models with jforestmodel</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-20-jggheatmap-comprehensive.html">Advanced Heatmap Visualization with jggheatmap</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-21-jggridges-comprehensive.html">Ridge Plot Visualization with jggridges</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-22-jggsankeyfier-comprehensive.html">Comprehensive Guide to Sankey &amp; Alluvial Diagrams with jggsankeyfier</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-23-jggstats-comprehensive.html">Comprehensive Guide to Enhanced Statistical Visualization with jggstats</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-23-jjbarstats-comprehensive.html">Comprehensive Bar Chart Analysis with jjbarstats</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-24-jjarcdiagram-comprehensive.html">Network Visualization with jjarcdiagram</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-24-jjbetweenstats-comprehensive.html">High-Performance Violin Plot Analysis with jjbetweenstats</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-25-jjcorrmat-comprehensive.html">jjcorrmat: Comprehensive Correlation Matrix Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-26-jjdotplotstats-comprehensive.html">jjdotplotstats: Comprehensive Dot Plot Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-27-jjhistostats-comprehensive.html">jjhistostats: Comprehensive Histogram Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-28-jjpiestats-comprehensive.html">jjpiestats: Pie Charts with Performance Optimization and Visualization Best Practices</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-29-jjridgestats-comprehensive.html">jjridgestats: Comprehensive Ridgeline Plot Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-30-jjriverplot-comprehensive.html">jjriverplot: Comprehensive River Plot and Flow Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-30-linechart-comprehensive.html">Line Charts for Clinical Time Series and Trend Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-31-jjscatterstats-comprehensive.html">UNKNOWN TITLE</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-31-jpps-comprehensive.html">Predictive Power Score (PPS) Analysis with jpps</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-31-jscattermore-comprehensive.html">High-Performance Scatter Plots with jscattermore</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-31-lollipop-comprehensive.html">Lollipop Charts for Clinical Categorical Data Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-32-jjstreamgraph-comprehensive.html">jjstreamgraph: Comprehensive Interactive Stream Graph Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-32-jsjplot-comprehensive.html">Social Science Statistical Visualization with jsjplot</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-33-jjtreemap-comprehensive.html">jjtreemap: Comprehensive Treemap Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-33-jsummarytools-comprehensive.html">Comprehensive Descriptive Statistics with jsummarytools</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-34-jjwithinstats-comprehensive.html">jjwithinstats: Comprehensive Within-Subjects Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-34-jviolin-comprehensive.html">Professional Violin Plots with jviolin</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-35-jvisr-comprehensive.html">Clinical Research Visualization with jvisr</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-36-jwaffle-comprehensive.html">Professional Waffle Charts with jwaffle</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-37-missingdata-comprehensive.html">Missing Data Analysis and Multiple Imputation</a></li>
    <li><a class="dropdown-item" href="../articles/jjstatsplot-38-modelbuilder-comprehensive.html">Clinical Prediction Model Builder</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-01-introduction.html">jSurvival 01: Introduction to Survival Analysis for Pathologists</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-02-person-time-analysis.html">Person-Time Analysis in jsurvival Module</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-03-treatment-response.html">Treatment Response Analysis in Oncology</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-04-stage-migration-analysis.html">Stage Migration Analysis: Understanding the Will Rogers Phenomenon</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-05-function-swimmerplot.html">Vignette: Creating Advanced Swimmer Plots with Date and Event Handling</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-05-treatment-pathway-visualization.html">Treatment Pathway Visualization with alluvialSurvival</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-06-function-waterfall.html">Vignette: Creating Waterfall Plots to Show Patient Response to Therapy</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-07-use-in-r.html">Use jsurvival in R</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-08-groupedforest-comprehensive.html">Grouped Hazard Forest Plots for Subgroup Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-08-stage-migration-analysis-legacy.html">Stage Migration Analysis: Understanding the Will Rogers Phenomenon</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-09-lassocox-comprehensive.html">Lasso-Cox Regression for Variable Selection in Survival Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-09-waterfall-legacy.html">Vignette: Creating Waterfall Plots to Show Patient Response to Therapy</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-1-stagemigration-comprehensive.html">Advanced TNM Stage Migration Analysis: A Comprehensive Guide</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-10-introduction-legacy.html">jsurvival: Introduction to Survival Analysis for Clinical Research</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-11-person-time-analysis-legacy.html">Person-Time Analysis in jsurvival Module</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-12-treatment-response-analysis-legacy.html">Treatment Response Analysis in Oncology</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-13-use-in-r-legacy.html">Use jsurvival in R</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-14-comparing-survival.html">jSurvival 14: Comparing Survival Outcomes Between Groups</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-15-competing-survival.html">jSurvival 15: Competing Survival Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-16-cox-model-diagnostics.html">jSurvival 16: Cox Proportional Hazards Model Diagnostics</a></li>
    <li><a class="dropdown-item" href="../articles/jsurvival-17-jiwillsurvive-comprehensive.html">Intuitive Survival Analysis with jiwillsurvive</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-01-introduction.html">MedDecide 01: Introduction to Medical Decision Analysis for Pathologists</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-02-comprehensive-guide.html">meddecide: Medical Decision Making in R</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-03-agreement-advanced-features.html">Advanced Features in Interrater Agreement Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-03-agreement-analysis.html">Inter-Rater Agreement and Reliability Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-03-roc-analysis.html">ROC Curve Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-04-decision-tree-guide.html">Medical Decision Tree - Clinical Implementation Guide</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-05-decision-tree-analysis.html">Decision Tree Graph Analysis: Comprehensive Guide and Testing</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-06-decision-tree-vs-markov.html">Decision Tree vs Markov Chain Analysis: Complete Guide</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-07-bayesian-decision-curve-analysis.html">Bayesian Decision Curve Analysis - Advanced Clinical Decision Making</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-07-decision-trees.html">Decision Tree and Markov Chain Analysis Examples</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-07-kappasizeci-comprehensive.html">Sample Size Calculations for Interobserver Agreement Studies</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-08-decision-panel-clinical.html">Clinical Applications of Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-08-kappasizefixedn-comprehensive.html">Complete Guide to kappasizefixedn: Fixed Sample Size Kappa Power Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-09-decision-panel-advanced.html">Advanced Features and Customization in Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-09-kappasizepower-comprehensive.html">Complete Guide to kappasizepower: Power Analysis for Inter-rater Agreement Studies</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-10-decision-panel-optimization.html">Introduction to Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-11-precision-oncology.html">Precision Oncology: Biomarker-Guided Treatment Selection and Outcome Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-12-nogoldstandard.html">Analyzing Diagnostic Tests without a Gold Standard</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-13-diagnostic-tests.html">Diagnostic Test Evaluation</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-14-diagnostic-style-quick-guide.html">Quick Guide: Diagnostic Style Clustering in jamovi</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-15-diagnostic-style-clustering.html">Diagnostic Style Clustering: Identifying Pathologist 'Schools' and Diagnostic Preferences</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-16-use-in-r.html">Use meddecide in R</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-17-introduction-legacy.html">meddecide: Introduction to Medical Decision Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-18-roc-analysis-legacy.html">ROC Curve Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-19-decisionpanel-advanced-legacy.html">Advanced Features and Customization in Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-20-decisionpanel-clinical-legacy.html">Clinical Applications of Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-21-decisionpanel-optimization-legacy.html">Introduction to Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-22-diagnostic-style-clustering-legacy.html">Diagnostic Style Clustering: Identifying Pathologist 'Schools' and Diagnostic Preferences</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-23-diagnostic-style-quick-guide-legacy.html">Quick Guide: Diagnostic Style Clustering in jamovi</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-24-agreement-analysis-legacy.html">Inter-Rater Agreement and Reliability Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-25-diagnostic-tests-legacy.html">Diagnostic Test Evaluation</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-26-medical-decision-tree-guide-legacy.html">Medical Decision Tree - Clinical Implementation Guide</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-27-nogoldstandard-legacy.html">Analyzing Diagnostic Tests without a Gold Standard</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-28-decision-tree-examples-legacy.html">Decision Tree and Markov Chain Analysis Examples</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-29-decision-tree-vs-markov-analysis-legacy.html">Decision Tree vs Markov Chain Analysis: Complete Guide</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-30-decisiontree-analysis-vignette-legacy.html">Decision Tree Graph Analysis: Comprehensive Guide and Testing</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-31-precision-oncology-biomarkers-legacy.html">Precision Oncology: Biomarker-Guided Treatment Selection and Outcome Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-32-vignettes-legacy.html">meddecide: Medical Decision Making in R</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-33-use-in-r-legacy.html">Use meddecide in R</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-34-cotest-analysis.html">Co-Testing Analysis: Combining Diagnostic Tests for Better Clinical Decision Making</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-35-screening-calculator-comprehensive.html">Screening Test Calculator: A Comprehensive Guide</a></li>
    <li><a class="dropdown-item" href="../articles/meddecide-36-sequential-testing-comprehensive.html">Sequential Testing Analysis: A Comprehensive Guide</a></li>
    <li><a class="dropdown-item" href="../articles/module-development-jamovi.html">Comprehensive Guide to jamovi Module Development</a></li>
    <li><a class="dropdown-item" href="../articles/pkgnet-report.html">ClinicoPath Package Report, by pkgnet</a></li>
    <li><a class="dropdown-item" href="../articles/use-jjstatsplot-in-R.html">Use jjstatsplot in R</a></li>
    <li><a class="dropdown-item" href="../articles/users-of-ClinicoPath.html">Users of ClinicoPath</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/serdarbalci"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>jSurvival 16: Cox Proportional Hazards Model Diagnostics</h1>
                        <h4 data-toc-skip class="author">ClinicoPath
Development Team</h4>
            
            <h4 data-toc-skip class="date">2025-07-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/vignettes/jsurvival-16-cox-model-diagnostics.Rmd" class="external-link"><code>vignettes/jsurvival-16-cox-model-diagnostics.Rmd</code></a></small>
      <div class="d-none name"><code>jsurvival-16-cox-model-diagnostics.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The Cox proportional hazards model is one of the most widely used
statistical methods in survival analysis for clinical research. However,
like all statistical models, the validity of Cox regression results
depends on certain assumptions being met. The
<strong>coxdiagnostics</strong> function in ClinicoPath provides
comprehensive diagnostic tools to validate Cox model assumptions and
assess model adequacy.</p>
<p><strong>Learning Objectives:</strong></p>
<ul>
<li>Understand the key assumptions of Cox proportional hazards
models</li>
<li>Learn to interpret diagnostic plots for Cox model validation</li>
<li>Master the use of residual analysis for model assessment</li>
<li>Apply multicollinearity detection using VIF analysis</li>
<li>Develop skills in identifying influential observations</li>
<li>Create comprehensive diagnostic reports for clinical
publications</li>
</ul>
<div class="section level3">
<h3 id="why-cox-model-diagnostics-matter">Why Cox Model Diagnostics Matter<a class="anchor" aria-label="anchor" href="#why-cox-model-diagnostics-matter"></a>
</h3>
<p>Cox model diagnostics are essential for:</p>
<ul>
<li>
<strong>Model Validation</strong>: Ensuring model assumptions are
met</li>
<li>
<strong>Clinical Validity</strong>: Confirming results can be
trusted for medical decisions</li>
<li>
<strong>Publication Quality</strong>: Meeting standards for
peer-reviewed research</li>
<li>
<strong>Regulatory Compliance</strong>: Satisfying FDA and other
regulatory requirements</li>
<li>
<strong>Patient Safety</strong>: Ensuring reliable prognostic
models</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="cox-model-assumptions">Cox Model Assumptions<a class="anchor" aria-label="anchor" href="#cox-model-assumptions"></a>
</h2>
<p>The Cox proportional hazards model relies on several key
assumptions:</p>
<div class="section level3">
<h3 id="proportional-hazards-assumption">1. Proportional Hazards Assumption<a class="anchor" aria-label="anchor" href="#proportional-hazards-assumption"></a>
</h3>
<p>The hazard ratio between any two individuals remains constant over
time. This is the most critical assumption of the Cox model.</p>
</div>
<div class="section level3">
<h3 id="log-linearity">2. Log-linearity<a class="anchor" aria-label="anchor" href="#log-linearity"></a>
</h3>
<p>The relationship between continuous covariates and the log hazard is
linear.</p>
</div>
<div class="section level3">
<h3 id="independence">3. Independence<a class="anchor" aria-label="anchor" href="#independence"></a>
</h3>
<p>Observations should be independent of each other.</p>
</div>
<div class="section level3">
<h3 id="no-multicollinearity">4. No Multicollinearity<a class="anchor" aria-label="anchor" href="#no-multicollinearity"></a>
</h3>
<p>Covariates should not be highly correlated with each other.</p>
</div>
</div>
<div class="section level2">
<h2 id="diagnostic-plot-types">Diagnostic Plot Types<a class="anchor" aria-label="anchor" href="#diagnostic-plot-types"></a>
</h2>
<div class="section level3">
<h3 id="martingale-residuals">Martingale Residuals<a class="anchor" aria-label="anchor" href="#martingale-residuals"></a>
</h3>
<ul>
<li>
<strong>Purpose</strong>: Detect non-linear relationships and
outliers</li>
<li>
<strong>Interpretation</strong>: Should be randomly scattered around
zero</li>
<li>
<strong>Warning Signs</strong>: Patterns suggest non-linear
relationships</li>
</ul>
</div>
<div class="section level3">
<h3 id="deviance-residuals">Deviance Residuals<a class="anchor" aria-label="anchor" href="#deviance-residuals"></a>
</h3>
<ul>
<li>
<strong>Purpose</strong>: Identify poorly fitted observations</li>
<li>
<strong>Interpretation</strong>: Should be approximately normally
distributed</li>
<li>
<strong>Warning Signs</strong>: Values &gt; 2 or &lt; -2 indicate
poor fit</li>
</ul>
</div>
<div class="section level3">
<h3 id="schoenfeld-residuals">Schoenfeld Residuals<a class="anchor" aria-label="anchor" href="#schoenfeld-residuals"></a>
</h3>
<ul>
<li>
<strong>Purpose</strong>: Test proportional hazards assumption</li>
<li>
<strong>Interpretation</strong>: Should show no trend over time</li>
<li>
<strong>Warning Signs</strong>: Slopes indicate time-varying
effects</li>
</ul>
</div>
<div class="section level3">
<h3 id="score-residuals">Score Residuals<a class="anchor" aria-label="anchor" href="#score-residuals"></a>
</h3>
<ul>
<li>
<strong>Purpose</strong>: Assess influential observations</li>
<li>
<strong>Interpretation</strong>: Identify observations with high
influence on parameter estimates</li>
</ul>
</div>
<div class="section level3">
<h3 id="dfbeta-plots">DFBeta Plots<a class="anchor" aria-label="anchor" href="#dfbeta-plots"></a>
</h3>
<ul>
<li>
<strong>Purpose</strong>: Evaluate influence of individual
observations</li>
<li>
<strong>Interpretation</strong>: Values &gt; 2/√n suggest
influential observations</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load required packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.serdarbalci.com/ClinicoPathJamoviModule">ClinicoPath</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rpkgs.datanovia.com/survminer/index.html" class="external-link">survminer</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load example datasets</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"melanoma"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"colon"</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"histopathology"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-cox-model-diagnostics">Basic Cox Model Diagnostics<a class="anchor" aria-label="anchor" href="#basic-cox-model-diagnostics"></a>
</h2>
<div class="section level3">
<h3 id="example-1-melanoma-dataset">Example 1: Melanoma Dataset<a class="anchor" aria-label="anchor" href="#example-1-melanoma-dataset"></a>
</h3>
<p>Let’s start with a basic Cox model diagnostic analysis using the
melanoma dataset.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Basic Cox diagnostics for melanoma data</span></span>
<span><span class="fu"><a href="../reference/coxdiagnostics.html">coxdiagnostics</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">melanoma</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>  event <span class="op">=</span> <span class="st">"status"</span>, </span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"sex"</span><span class="op">)</span>,</span>
<span>  show_martingale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_deviance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_ph_test <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_model_summary <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="key-features">Key Features:<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h4>
<ul>
<li>
<strong>Model Summary</strong>: Provides coefficient estimates and
model statistics</li>
<li>
<strong>Proportional Hazards Test</strong>: Tests the key assumption
using Schoenfeld residuals</li>
<li>
<strong>Martingale Residuals</strong>: Checks for non-linear
relationships</li>
<li>
<strong>Deviance Residuals</strong>: Identifies poorly fitted
observations</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="example-2-multiple-covariates-with-vif-analysis">Example 2: Multiple Covariates with VIF Analysis<a class="anchor" aria-label="anchor" href="#example-2-multiple-covariates-with-vif-analysis"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Cox diagnostics with VIF analysis for multicollinearity</span></span>
<span><span class="fu"><a href="../reference/coxdiagnostics.html">coxdiagnostics</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">melanoma</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>  event <span class="op">=</span> <span class="st">"status"</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"sex"</span>, <span class="st">"thickness"</span>, <span class="st">"ulcer"</span><span class="op">)</span>,</span>
<span>  show_martingale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_deviance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_vif <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  vif_threshold <span class="op">=</span> <span class="fl">5.0</span>,</span>
<span>  show_interpretation <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="vif-analysis">VIF Analysis:<a class="anchor" aria-label="anchor" href="#vif-analysis"></a>
</h4>
<ul>
<li>
<strong>VIF &lt; 2.5</strong>: No multicollinearity concern</li>
<li>
<strong>VIF 2.5-5</strong>: Moderate multicollinearity
(monitor)</li>
<li>
<strong>VIF ≥ 5</strong>: High multicollinearity (problematic)</li>
</ul>
</div>
</div>
</div>
<div class="section level2">
<h2 id="advanced-diagnostic-analysis">Advanced Diagnostic Analysis<a class="anchor" aria-label="anchor" href="#advanced-diagnostic-analysis"></a>
</h2>
<div class="section level3">
<h3 id="example-3-comprehensive-diagnostic-panel">Example 3: Comprehensive Diagnostic Panel<a class="anchor" aria-label="anchor" href="#example-3-comprehensive-diagnostic-panel"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Comprehensive Cox diagnostics with all plot types</span></span>
<span><span class="fu"><a href="../reference/coxdiagnostics.html">coxdiagnostics</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">colon</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>  event <span class="op">=</span> <span class="st">"status"</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"sex"</span>, <span class="st">"nodes"</span>, <span class="st">"differ"</span><span class="op">)</span>,</span>
<span>  show_martingale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_deviance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_score <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_schoenfeld <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_dfbeta <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_ph_test <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_vif <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_model_summary <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_interpretation <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="comprehensive-analysis-includes">Comprehensive Analysis Includes:<a class="anchor" aria-label="anchor" href="#comprehensive-analysis-includes"></a>
</h4>
<ul>
<li>
<strong>All Residual Types</strong>: Martingale, Deviance, Score,
Schoenfeld, DFBeta</li>
<li>
<strong>Statistical Tests</strong>: Proportional hazards test with
p-values</li>
<li>
<strong>Multicollinearity Assessment</strong>: VIF analysis with
recommendations</li>
<li>
<strong>Clinical Interpretation</strong>: Detailed guidance for each
diagnostic</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="example-4-stratified-cox-model-diagnostics">Example 4: Stratified Cox Model Diagnostics<a class="anchor" aria-label="anchor" href="#example-4-stratified-cox-model-diagnostics"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Cox diagnostics with stratification</span></span>
<span><span class="fu"><a href="../reference/coxdiagnostics.html">coxdiagnostics</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">colon</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>  event <span class="op">=</span> <span class="st">"status"</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"nodes"</span><span class="op">)</span>,</span>
<span>  strata_var <span class="op">=</span> <span class="st">"rx"</span>,  <span class="co"># Stratify by treatment</span></span>
<span>  show_martingale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_deviance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_ph_test <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  exclude_missing <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="stratification-benefits">Stratification Benefits:<a class="anchor" aria-label="anchor" href="#stratification-benefits"></a>
</h4>
<ul>
<li>
<strong>Handles Non-proportional Hazards</strong>: For
stratification variables</li>
<li>
<strong>Adjusted Analysis</strong>: Controls for stratification
factors</li>
<li>
<strong>Flexible Modeling</strong>: Allows different baseline
hazards</li>
</ul>
</div>
</div>
</div>
<div class="section level2">
<h2 id="clinical-research-applications">Clinical Research Applications<a class="anchor" aria-label="anchor" href="#clinical-research-applications"></a>
</h2>
<div class="section level3">
<h3 id="example-5-pathology-research-with-histopathology-data">Example 5: Pathology Research with Histopathology Data<a class="anchor" aria-label="anchor" href="#example-5-pathology-research-with-histopathology-data"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Cox diagnostics for pathology research</span></span>
<span><span class="fu"><a href="../reference/coxdiagnostics.html">coxdiagnostics</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">histopathology</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"OverallTime"</span>,</span>
<span>  event <span class="op">=</span> <span class="st">"Outcome"</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Age"</span>, <span class="st">"Sex"</span>, <span class="st">"Grade"</span>, <span class="st">"TStage"</span><span class="op">)</span>,</span>
<span>  show_martingale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_deviance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_schoenfeld <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_vif <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_ph_test <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_model_summary <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  exclude_missing <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  confidence_level <span class="op">=</span> <span class="fl">0.95</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="clinical-considerations">Clinical Considerations:<a class="anchor" aria-label="anchor" href="#clinical-considerations"></a>
</h4>
<ul>
<li>
<strong>Missing Data Handling</strong>: Exclude incomplete cases for
clean analysis</li>
<li>
<strong>Confidence Levels</strong>: Standard 95% confidence
intervals</li>
<li>
<strong>Multiple Covariates</strong>: Age, sex, pathological grade
and stage</li>
<li>
<strong>Outcome Variables</strong>: Overall survival time and event
status</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="example-6-biomarker-validation-study">Example 6: Biomarker Validation Study<a class="anchor" aria-label="anchor" href="#example-6-biomarker-validation-study"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create biomarker validation dataset</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">n_patients</span> <span class="op">&lt;-</span> <span class="fl">200</span></span>
<span></span>
<span><span class="va">biomarker_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  patient_id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">n_patients</span>,</span>
<span>  survival_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Weibull.html" class="external-link">rweibull</a></span><span class="op">(</span><span class="va">n_patients</span>, shape <span class="op">=</span> <span class="fl">1.5</span>, scale <span class="op">=</span> <span class="fl">24</span><span class="op">)</span>,</span>
<span>  event_occurred <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="va">n_patients</span>, <span class="fl">1</span>, <span class="fl">0.65</span><span class="op">)</span>,</span>
<span>  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n_patients</span>, <span class="fl">65</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Male"</span>, <span class="st">"Female"</span><span class="op">)</span>, <span class="va">n_patients</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  biomarker_score <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n_patients</span>, <span class="fl">50</span>, <span class="fl">15</span><span class="op">)</span>,</span>
<span>  tumor_stage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"I"</span>, <span class="st">"II"</span>, <span class="st">"III"</span>, <span class="st">"IV"</span><span class="op">)</span>, <span class="va">n_patients</span>, </span>
<span>                             replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Ensure realistic ranges</span></span>
<span><span class="va">biomarker_data</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="fl">18</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmin</a></span><span class="op">(</span><span class="fl">85</span>, <span class="va">biomarker_data</span><span class="op">$</span><span class="va">age</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">biomarker_data</span><span class="op">$</span><span class="va">survival_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmin</a></span><span class="op">(</span><span class="fl">60</span>, <span class="va">biomarker_data</span><span class="op">$</span><span class="va">survival_time</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">biomarker_data</span><span class="op">$</span><span class="va">biomarker_score</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmin</a></span><span class="op">(</span><span class="fl">100</span>, <span class="va">biomarker_data</span><span class="op">$</span><span class="va">biomarker_score</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Cox diagnostics for biomarker validation</span></span>
<span><span class="fu"><a href="../reference/coxdiagnostics.html">coxdiagnostics</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">biomarker_data</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"survival_time"</span>,</span>
<span>  event <span class="op">=</span> <span class="st">"event_occurred"</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"sex"</span>, <span class="st">"biomarker_score"</span>, <span class="st">"tumor_stage"</span><span class="op">)</span>,</span>
<span>  show_martingale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_deviance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_schoenfeld <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_vif <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_ph_test <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_model_summary <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  vif_threshold <span class="op">=</span> <span class="fl">5.0</span>,</span>
<span>  show_interpretation <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="plot-customization-options">Plot Customization Options<a class="anchor" aria-label="anchor" href="#plot-customization-options"></a>
</h2>
<div class="section level3">
<h3 id="example-7-custom-plot-settings">Example 7: Custom Plot Settings<a class="anchor" aria-label="anchor" href="#example-7-custom-plot-settings"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Customized diagnostic plots</span></span>
<span><span class="fu"><a href="../reference/coxdiagnostics.html">coxdiagnostics</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">melanoma</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>  event <span class="op">=</span> <span class="st">"status"</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"thickness"</span><span class="op">)</span>,</span>
<span>  show_martingale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_deviance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ox_scale <span class="op">=</span> <span class="st">"observation.id"</span>,  <span class="co"># Different x-axis scale</span></span>
<span>  add_smooth <span class="op">=</span> <span class="cn">TRUE</span>,            <span class="co"># Add smoothing line</span></span>
<span>  add_reference <span class="op">=</span> <span class="cn">TRUE</span>,         <span class="co"># Add reference line at y=0</span></span>
<span>  point_size <span class="op">=</span> <span class="fl">1.5</span>,            <span class="co"># Larger points</span></span>
<span>  alpha_level <span class="op">=</span> <span class="fl">0.7</span>,           <span class="co"># Semi-transparent points</span></span>
<span>  show_interpretation <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="plot-customization-options-1">Plot Customization Options:<a class="anchor" aria-label="anchor" href="#plot-customization-options-1"></a>
</h4>
<ul>
<li>
<strong>X-axis Scale</strong>: Linear predictions, observation ID,
or time</li>
<li>
<strong>Point Size</strong>: Adjustable from 0.5 to 3.0</li>
<li>
<strong>Transparency</strong>: Alpha levels from 0.1 to 1.0</li>
<li>
<strong>Reference Lines</strong>: Horizontal line at y=0</li>
<li>
<strong>Smooth Lines</strong>: LOESS smoothing to identify
patterns</li>
</ul>
</div>
</div>
</div>
<div class="section level2">
<h2 id="interpretation-guidelines">Interpretation Guidelines<a class="anchor" aria-label="anchor" href="#interpretation-guidelines"></a>
</h2>
<div class="section level3">
<h3 id="martingale-residuals-1">Martingale Residuals<a class="anchor" aria-label="anchor" href="#martingale-residuals-1"></a>
</h3>
<p><strong>Normal Pattern:</strong> - Randomly scattered around zero -
No obvious patterns or trends - Most values between -2 and +2</p>
<p><strong>Warning Signs:</strong> - Systematic patterns (curved
relationships) - Outliers with extreme values (&gt;3 or &lt;-3) - Funnel
shapes suggesting heteroscedasticity</p>
</div>
<div class="section level3">
<h3 id="deviance-residuals-1">Deviance Residuals<a class="anchor" aria-label="anchor" href="#deviance-residuals-1"></a>
</h3>
<p><strong>Normal Pattern:</strong> - Approximately symmetric around
zero - Most values between -2 and +2 - No systematic patterns</p>
<p><strong>Warning Signs:</strong> - Values &gt; 2 or &lt; -2 (poorly
fitted observations) - Asymmetric distribution - Systematic patterns</p>
</div>
<div class="section level3">
<h3 id="schoenfeld-residuals-1">Schoenfeld Residuals<a class="anchor" aria-label="anchor" href="#schoenfeld-residuals-1"></a>
</h3>
<p><strong>Normal Pattern:</strong> - No trend over time - Random
scatter around zero - Flat smoothing line</p>
<p><strong>Warning Signs:</strong> - Significant slope (p &lt; 0.05) -
Systematic trends over time - Non-random patterns</p>
</div>
<div class="section level3">
<h3 id="vif-analysis-1">VIF Analysis<a class="anchor" aria-label="anchor" href="#vif-analysis-1"></a>
</h3>
<p><strong>Interpretation:</strong> - <strong>VIF &lt; 2.5</strong>: No
concern - <strong>VIF 2.5-5</strong>: Moderate concern, monitor -
<strong>VIF ≥ 5</strong>: High concern, take action</p>
<p><strong>Actions for High VIF:</strong> - Remove highly correlated
variables - Use principal component analysis - Apply regularization
(ridge/lasso) - Create composite scores</p>
</div>
</div>
<div class="section level2">
<h2 id="clinical-decision-making">Clinical Decision Making<a class="anchor" aria-label="anchor" href="#clinical-decision-making"></a>
</h2>
<div class="section level3">
<h3 id="when-assumptions-are-met">When Assumptions Are Met<a class="anchor" aria-label="anchor" href="#when-assumptions-are-met"></a>
</h3>
<p><strong>Proceed with confidence:</strong> - Report Cox model results
- Use for clinical predictions - Include in publications - Apply to
clinical practice</p>
</div>
<div class="section level3">
<h3 id="when-assumptions-are-violated">When Assumptions Are Violated<a class="anchor" aria-label="anchor" href="#when-assumptions-are-violated"></a>
</h3>
<p><strong>Consider alternatives:</strong> - <strong>Stratified Cox
Model</strong>: For non-proportional hazards - <strong>Time-dependent
Covariates</strong>: For time-varying effects - <strong>Parametric
Models</strong>: Weibull, log-normal, etc. - <strong>Machine
Learning</strong>: Random forests, neural networks</p>
</div>
</div>
<div class="section level2">
<h2 id="publication-ready-analysis">Publication-Ready Analysis<a class="anchor" aria-label="anchor" href="#publication-ready-analysis"></a>
</h2>
<div class="section level3">
<h3 id="example-8-complete-diagnostic-report">Example 8: Complete Diagnostic Report<a class="anchor" aria-label="anchor" href="#example-8-complete-diagnostic-report"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Complete diagnostic analysis for publication</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/coxdiagnostics.html">coxdiagnostics</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">colon</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>  event <span class="op">=</span> <span class="st">"status"</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"sex"</span>, <span class="st">"nodes"</span>, <span class="st">"differ"</span>, <span class="st">"extent"</span><span class="op">)</span>,</span>
<span>  show_martingale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_deviance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_schoenfeld <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_dfbeta <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_ph_test <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_vif <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_model_summary <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_interpretation <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  confidence_level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  exclude_missing <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="publication-checklist">Publication Checklist:<a class="anchor" aria-label="anchor" href="#publication-checklist"></a>
</h4>
<ul>
<li>✅ <strong>Model Summary</strong>: Coefficients, hazard ratios,
confidence intervals</li>
<li>✅ <strong>Assumption Testing</strong>: Proportional hazards test
results</li>
<li>✅ <strong>Residual Analysis</strong>: All diagnostic plots
included</li>
<li>✅ <strong>Multicollinearity</strong>: VIF analysis performed</li>
<li>✅ <strong>Missing Data</strong>: Handling strategy documented</li>
<li>✅ <strong>Sample Size</strong>: Adequate for number of
covariates</li>
<li>✅ <strong>Clinical Interpretation</strong>: Results explained in
clinical context</li>
</ul>
</div>
</div>
</div>
<div class="section level2">
<h2 id="quality-control-guidelines">Quality Control Guidelines<a class="anchor" aria-label="anchor" href="#quality-control-guidelines"></a>
</h2>
<div class="section level3">
<h3 id="sample-size-requirements">Sample Size Requirements<a class="anchor" aria-label="anchor" href="#sample-size-requirements"></a>
</h3>
<p><strong>Rule of thumb:</strong> Minimum 10 events per covariate</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check sample size adequacy</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Sample size guidelines:\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Events per covariate: ≥ 10\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Total events: ≥ 50 for stable estimates\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Follow-up completeness: ≥ 80%\n"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="model-selection-strategy">Model Selection Strategy<a class="anchor" aria-label="anchor" href="#model-selection-strategy"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Start Simple</strong>: Begin with clinically important
variables</li>
<li>
<strong>Check Assumptions</strong>: Run diagnostics after each
addition</li>
<li>
<strong>Address Violations</strong>: Fix problems before
proceeding</li>
<li>
<strong>Final Validation</strong>: Complete diagnostic panel</li>
<li>
<strong>Clinical Review</strong>: Ensure biological
plausibility</li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="common-issues-and-solutions">Common Issues and Solutions<a class="anchor" aria-label="anchor" href="#common-issues-and-solutions"></a>
</h2>
<div class="section level3">
<h3 id="issue-1-non-proportional-hazards">Issue 1: Non-Proportional Hazards<a class="anchor" aria-label="anchor" href="#issue-1-non-proportional-hazards"></a>
</h3>
<p><strong>Detection:</strong> - Significant Schoenfeld test (p &lt;
0.05) - Trends in Schoenfeld residual plots</p>
<p><strong>Solutions:</strong> - Stratify by offending variable - Use
time-dependent covariates - Consider parametric models</p>
</div>
<div class="section level3">
<h3 id="issue-2-non-linear-relationships">Issue 2: Non-Linear Relationships<a class="anchor" aria-label="anchor" href="#issue-2-non-linear-relationships"></a>
</h3>
<p><strong>Detection:</strong> - Patterns in martingale residuals -
Curved relationships in plots</p>
<p><strong>Solutions:</strong> - Add polynomial terms - Use splines or
smoothing - Transform continuous variables</p>
</div>
<div class="section level3">
<h3 id="issue-3-influential-observations">Issue 3: Influential Observations<a class="anchor" aria-label="anchor" href="#issue-3-influential-observations"></a>
</h3>
<p><strong>Detection:</strong> - Extreme DFBeta values (&gt; 2/√n) -
Outliers in residual plots</p>
<p><strong>Solutions:</strong> - Investigate data quality - Consider
robust methods - Sensitivity analysis</p>
</div>
<div class="section level3">
<h3 id="issue-4-multicollinearity">Issue 4: Multicollinearity<a class="anchor" aria-label="anchor" href="#issue-4-multicollinearity"></a>
</h3>
<p><strong>Detection:</strong> - High VIF values (≥ 5) - Unstable
coefficient estimates</p>
<p><strong>Solutions:</strong> - Remove correlated variables - Use
regularization methods - Create composite scores</p>
</div>
</div>
<div class="section level2">
<h2 id="best-practices">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices"></a>
</h2>
<div class="section level3">
<h3 id="data-preparation">Data Preparation<a class="anchor" aria-label="anchor" href="#data-preparation"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example of proper data preparation</span></span>
<span><span class="va">clean_data</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Remove invalid time values</span></span>
<span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">time</span> <span class="op">&gt;</span> <span class="fl">0</span>, <span class="op">]</span></span>
<span>  </span>
<span>  <span class="co"># Check event coding (should be 0/1)</span></span>
<span>  <span class="va">data</span><span class="op">$</span><span class="va">status</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">status</span> <span class="op">==</span> <span class="fl">2</span>, <span class="fl">1</span>, <span class="va">data</span><span class="op">$</span><span class="va">status</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Handle missing values appropriately</span></span>
<span>  <span class="va">complete_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"status"</span>, <span class="st">"age"</span>, <span class="st">"sex"</span><span class="op">)</span></span>
<span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html" class="external-link">complete.cases</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span><span class="va">complete_vars</span><span class="op">]</span><span class="op">)</span>, <span class="op">]</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Apply to melanoma data</span></span>
<span><span class="va">melanoma_clean</span> <span class="op">&lt;-</span> <span class="fu">clean_data</span><span class="op">(</span><span class="va">melanoma</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="systematic-diagnostic-approach">Systematic Diagnostic Approach<a class="anchor" aria-label="anchor" href="#systematic-diagnostic-approach"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Model Summary</strong>: Review coefficient estimates and
model fit</li>
<li>
<strong>Proportional Hazards</strong>: Test the key assumption
first</li>
<li>
<strong>Residual Analysis</strong>: Examine all residual types
systematically</li>
<li>
<strong>Influence Analysis</strong>: Identify potentially
problematic observations</li>
<li>
<strong>Multicollinearity</strong>: Check for correlation among
predictors</li>
<li>
<strong>Clinical Review</strong>: Ensure results make biological
sense</li>
</ol>
</div>
<div class="section level3">
<h3 id="documentation-standards">Documentation Standards<a class="anchor" aria-label="anchor" href="#documentation-standards"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Template for documenting Cox diagnostics</span></span>
<span><span class="va">diagnostic_report</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">model_name</span>, <span class="va">dataset</span>, <span class="va">findings</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"=== Cox Model Diagnostic Report ===\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Model:"</span>, <span class="va">model_name</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Dataset:"</span>, <span class="va">dataset</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Date:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"\n\n"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Diagnostic Findings:\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Proportional Hazards:"</span>, <span class="va">findings</span><span class="op">$</span><span class="va">ph_test</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Linearity:"</span>, <span class="va">findings</span><span class="op">$</span><span class="va">linearity</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Influential Observations:"</span>, <span class="va">findings</span><span class="op">$</span><span class="va">influence</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Multicollinearity:"</span>, <span class="va">findings</span><span class="op">$</span><span class="va">vif</span>, <span class="st">"\n\n"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Recommendations:\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Model Adequacy:"</span>, <span class="va">findings</span><span class="op">$</span><span class="va">adequacy</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Required Actions:"</span>, <span class="va">findings</span><span class="op">$</span><span class="va">actions</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="advanced-topics">Advanced Topics<a class="anchor" aria-label="anchor" href="#advanced-topics"></a>
</h2>
<div class="section level3">
<h3 id="time-dependent-covariates">Time-Dependent Covariates<a class="anchor" aria-label="anchor" href="#time-dependent-covariates"></a>
</h3>
<p>When proportional hazards assumption is violated, consider
time-dependent covariates:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example of time-dependent covariate approach</span></span>
<span><span class="co"># (This would require additional data preparation)</span></span>
<span><span class="co"># cox_model_td &lt;- coxph(Surv(start, stop, event) ~ age + sex + </span></span>
<span><span class="co">#                       covariate * log(time), data = long_format_data)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="stratified-analysis">Stratified Analysis<a class="anchor" aria-label="anchor" href="#stratified-analysis"></a>
</h3>
<p>For variables that don’t meet proportional hazards:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Stratified Cox model diagnostics</span></span>
<span><span class="fu"><a href="../reference/coxdiagnostics.html">coxdiagnostics</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">colon</span>,</span>
<span>  time <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>  event <span class="op">=</span> <span class="st">"status"</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"nodes"</span><span class="op">)</span>,</span>
<span>  strata_var <span class="op">=</span> <span class="st">"differ"</span>,  <span class="co"># Stratify by differentiation</span></span>
<span>  show_ph_test <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_martingale <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="regularized-cox-models">Regularized Cox Models<a class="anchor" aria-label="anchor" href="#regularized-cox-models"></a>
</h3>
<p>For high-dimensional data or multicollinearity issues:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Note: Regularized Cox models (lasso, ridge) would require</span></span>
<span><span class="co"># additional packages like glmnet</span></span>
<span><span class="co"># These can be useful when standard Cox models show</span></span>
<span><span class="co"># multicollinearity issues</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>The <strong>coxdiagnostics</strong> function provides a comprehensive
toolkit for validating Cox proportional hazards models in clinical
research. Key takeaways:</p>
<div class="section level3">
<h3 id="essential-diagnostics">Essential Diagnostics<a class="anchor" aria-label="anchor" href="#essential-diagnostics"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Proportional Hazards Test</strong>: Most critical
assumption</li>
<li>
<strong>Residual Analysis</strong>: Multiple types for different
purposes</li>
<li>
<strong>VIF Analysis</strong>: Detect multicollinearity</li>
<li>
<strong>Influence Diagnostics</strong>: Identify problematic
observations</li>
</ol>
</div>
<div class="section level3">
<h3 id="clinical-applications">Clinical Applications<a class="anchor" aria-label="anchor" href="#clinical-applications"></a>
</h3>
<ul>
<li>
<strong>Biomarker Validation</strong>: Ensure reliable prognostic
models</li>
<li>
<strong>Treatment Efficacy</strong>: Validate survival
endpoints</li>
<li>
<strong>Risk Stratification</strong>: Develop clinical prediction
tools</li>
<li>
<strong>Regulatory Submissions</strong>: Meet statistical
requirements</li>
</ul>
</div>
<div class="section level3">
<h3 id="quality-assurance">Quality Assurance<a class="anchor" aria-label="anchor" href="#quality-assurance"></a>
</h3>
<ul>
<li>
<strong>Assumption Checking</strong>: Systematic validation
approach</li>
<li>
<strong>Documentation</strong>: Complete diagnostic reports</li>
<li>
<strong>Interpretation</strong>: Clinical significance
assessment</li>
<li>
<strong>Publication Standards</strong>: Peer-review ready
analysis</li>
</ul>
</div>
<div class="section level3">
<h3 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Practice</strong>: Apply to your own survival datasets</li>
<li>
<strong>Iterate</strong>: Refine models based on diagnostic
findings</li>
<li>
<strong>Validate</strong>: Use external datasets when possible</li>
<li>
<strong>Collaborate</strong>: Work with biostatisticians for complex
cases</li>
</ol>
<p>The robust diagnostic capabilities of <strong>coxdiagnostics</strong>
ensure that your Cox regression analyses meet the highest standards for
clinical research and publication.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.serdarbalci.com/" class="external-link">Serdar Balci</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
