<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>CLAUDE.md • ClinicoPath</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="CLAUDE.md"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ClinicoPath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3.31</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="dev/index.html"><span class="fa fa-cogs"></span></a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/advanced-topics.html">Advanced Survival Analysis with jsurvival</a></li>
    <li><a class="dropdown-item" href="articles/agepyramid.html">Vignette: Creating an Age Pyramid with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="articles/alluvial.html">Vignette: Visualizing Data Flows with Alluvial Diagrams</a></li>
    <li><a class="dropdown-item" href="articles/analysis-gallery.html">Complete Analysis Gallery - All jjstatsplot Functions</a></li>
    <li><a class="dropdown-item" href="articles/benford.html">Vignette: Checking Data Authenticity with Benford's Law</a></li>
    <li><a class="dropdown-item" href="articles/categorical-plots.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="articles/clinical-examples.html">Clinical Research Examples with jsurvival</a></li>
    <li><a class="dropdown-item" href="articles/clinical-workflow.html">Clinical Research Workflow with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="articles/ClinicoPathDescriptives-agreement-analysis.html">Agreement and Reliability</a></li>
    <li><a class="dropdown-item" href="articles/ClinicoPathDescriptives-digital-pathology-validation.html">Digital Pathology Validation: AI-Assisted Quantification and Method Comparison</a></li>
    <li><a class="dropdown-item" href="articles/ClinicoPathDescriptives-modern-molecular-pathology-workflow.html">Modern Molecular Pathology Workflow: Integrated Morphologic and Molecular Diagnostics</a></li>
    <li><a class="dropdown-item" href="articles/continuous-comparisons-vignette.html">Continuous Variable Comparisons</a></li>
    <li><a class="dropdown-item" href="articles/continuous-comparisons.html">Categorical Plot Functions</a></li>
    <li><a class="dropdown-item" href="articles/correlations-scatterplots.html">Correlations and Scatter Plots</a></li>
    <li><a class="dropdown-item" href="articles/crosstable.html">Vignette: Generating a Publication-Ready 'Table 1' with crosstable</a></li>
    <li><a class="dropdown-item" href="articles/data-preparation.html">Data Preparation for Survival Analysis</a></li>
    <li><a class="dropdown-item" href="articles/data-quality-exploration.html">Data Quality Assessment and Exploration</a></li>
    <li><a class="dropdown-item" href="articles/data-summary.html">Summarising Clinicopathological Data</a></li>
    <li><a class="dropdown-item" href="articles/decisionpanel_advanced.html">Advanced Features and Customization in Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="articles/decisionpanel_clinical.html">Clinical Applications of Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="articles/decisionpanel_optimisation.html">Introduction to Decision Panel Optimization</a></li>
    <li><a class="dropdown-item" href="articles/diagnostic_style_clustering.html">Diagnostic Style Clustering: Identifying Pathologist 'Schools' and Diagnostic Preferences</a></li>
    <li><a class="dropdown-item" href="articles/diagnostic_style_quick_guide.html">Quick Guide: Diagnostic Style Clustering in jamovi</a></li>
    <li><a class="dropdown-item" href="articles/diagnostic-tests.html">Diagnostic Test Evaluation</a></li>
    <li><a class="dropdown-item" href="articles/getting-started.html">Getting Started with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="articles/ihcstats_comprehensive_guide.html">Comprehensive Guide to IHC Expression Analysis with ihcstats</a></li>
    <li><a class="dropdown-item" href="articles/jamovi-user-guide.html">Complete jamovi User Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="articles/jamovi-workflow-examples.html">Jamovi Workflow Examples for Decision Tree and Markov Analysis</a></li>
    <li><a class="dropdown-item" href="articles/jamovi-workflow.html">Using jsurvival in jamovi: Complete Workflow</a></li>
    <li><a class="dropdown-item" href="articles/jjstatsplot-introduction.html">Introduction to jjstatsplot</a></li>
    <li><a class="dropdown-item" href="articles/jsurvival-introduction.html">jsurvival: Introduction to Survival Analysis for Clinical Research</a></li>
    <li><a class="dropdown-item" href="articles/jsurvival.html">Using jsurvival for Survival Analysis</a></li>
    <li><a class="dropdown-item" href="articles/meddecide-decision-tree-examples.html">Decision Tree and Markov Chain Analysis Examples</a></li>
    <li><a class="dropdown-item" href="articles/meddecide-decision-tree-vs-markov-analysis.html">Decision Tree vs Markov Chain Analysis: Complete Guide</a></li>
    <li><a class="dropdown-item" href="articles/meddecide-decisiontree-analysis-vignette.html">Decision Tree Graph Analysis: Comprehensive Guide and Testing</a></li>
    <li><a class="dropdown-item" href="articles/meddecide-introduction.html">meddecide: Introduction to Medical Decision Analysis</a></li>
    <li><a class="dropdown-item" href="articles/meddecide-precision-oncology-biomarkers.html">Precision Oncology: Biomarker-Guided Treatment Selection and Outcome Analysis</a></li>
    <li><a class="dropdown-item" href="articles/meddecide-roc-analysis.html">ROC Curve Analysis</a></li>
    <li><a class="dropdown-item" href="articles/meddecide-vignettes.html">meddecide: Medical Decision Making in R</a></li>
    <li><a class="dropdown-item" href="articles/medical_decision_tree_guide.html">Medical Decision Tree - Clinical Implementation Guide</a></li>
    <li><a class="dropdown-item" href="articles/module_development_jamovi.html">Module Development for Jamovi</a></li>
    <li><a class="dropdown-item" href="articles/nogoldstandard.html">Analyzing Diagnostic Tests without a Gold Standard</a></li>
    <li><a class="dropdown-item" href="articles/pathology_jamovi.html">Using jamovi for the Common Statistical Analysis in Pathology</a></li>
    <li><a class="dropdown-item" href="articles/person-time-analysis.html">Person-Time Analysis in jsurvival Module</a></li>
    <li><a class="dropdown-item" href="articles/pkgnet-report.html">ClinicoPath Package Report, by pkgnet</a></li>
    <li><a class="dropdown-item" href="articles/quick-reference.html">Quick Reference Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="articles/r-programming-guide.html">R Programming Guide for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="articles/reportcat.html">Vignette: Generating Quick Summaries of Categorical Pathology Data</a></li>
    <li><a class="dropdown-item" href="articles/stage-migration-analysis.html">Stage Migration Analysis: Understanding the Will Rogers Phenomenon</a></li>
    <li><a class="dropdown-item" href="articles/summarydata.html">Vignette: Descriptive Analysis of Continuous Variables in Clinical Data</a></li>
    <li><a class="dropdown-item" href="articles/swimmerplot.html">Vignette: Creating Advanced Swimmer Plots with Date and Event Handling</a></li>
    <li><a class="dropdown-item" href="articles/tableone.html">Vignette: Generating a 'Table 1' with ClinicoPathDescriptives</a></li>
    <li><a class="dropdown-item" href="articles/treatment-response-analysis.html">Treatment Response Analysis in Oncology</a></li>
    <li><a class="dropdown-item" href="articles/troubleshooting-faq.html">Troubleshooting Guide and FAQ for jjstatsplot</a></li>
    <li><a class="dropdown-item" href="articles/use-ClinicoPathDescriptives-in-R.html">Use ClinicoPathDescriptives in R</a></li>
    <li><a class="dropdown-item" href="articles/use-jjstatsplot-in-R.html">Use jjstatsplot in R</a></li>
    <li><a class="dropdown-item" href="articles/use-jsurvival-in-R.html">Use jsurvival in R</a></li>
    <li><a class="dropdown-item" href="articles/use-meddecide-in-R.html">Use meddecide in R</a></li>
    <li><a class="dropdown-item" href="articles/users-of-ClinicoPath.html">Users of ClinicoPath</a></li>
    <li><a class="dropdown-item" href="articles/venn.html">Vignette: Visualizing Co-occurrence with Venn &amp; Upset Plots</a></li>
    <li><a class="dropdown-item" href="articles/visualization-gallery.html">Visualization Gallery for Clinical Research</a></li>
    <li><a class="dropdown-item" href="articles/visualization.html">Visualising Clinicopathological Data</a></li>
    <li><a class="dropdown-item" href="articles/waterfall.html">Vignette: Creating Waterfall Plots to Show Patient Response to Therapy</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/serdarbalci"><span class="fa fab fa-twitter fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sbalci/ClinicoPathJamoviModule/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>CLAUDE.md</h1>
      <small class="dont-index">Source: <a href="https://github.com/sbalci/ClinicoPathJamoviModule/blob/HEAD/CLAUDE.md" class="external-link"><code>CLAUDE.md</code></a></small>
    </div>

<div id="claudemd" class="section level1">

<p>This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.</p>
<div class="section level2">
<h2 id="package-overview">Package Overview<a class="anchor" aria-label="anchor" href="#package-overview"></a></h2>
<p>ClinicoPath is a comprehensive jamovi module for clinicopathological research analysis. It provides statistical analysis tools specifically designed for pathology and clinical research, including survival analysis, decision analysis, descriptive statistics, and specialized plots. The project serves as an umbrella package that coordinates multiple sub-modules distributed across separate repositories.</p>
</div>
<div class="section level2">
<h2 id="core-architecture">Core Architecture<a class="anchor" aria-label="anchor" href="#core-architecture"></a></h2>
<div class="section level3">
<h3 id="jamovi-module-structure">Jamovi Module Structure<a class="anchor" aria-label="anchor" href="#jamovi-module-structure"></a></h3>
<p>This is a jamovi R module with a specific 4-file architecture pattern that must be followed for all analyses:</p>
<ul><li>
<strong><code>.b.R</code> files</strong>: Backend implementation classes (e.g., <code>crosstable.b.R</code>, <code>survival.b.R</code>, <code>decisiongraph.b.R</code>)</li>
<li>
<strong><code>.a.yaml</code> files</strong>: Analysis definitions with options/parameters (e.g., <code>crosstable.a.yaml</code>)</li>
<li>
<strong><code>.u.yaml</code> files</strong>: User interface definitions (e.g., <code>crosstable.u.yaml</code>)</li>
<li>
<strong><code>.r.yaml</code> files</strong>: Results/output definitions (e.g., <code>crosstable.r.yaml</code>)</li>
<li>
<strong><code>.h.R</code> files</strong>: Auto-generated header files (compiled from .yaml files)</li>
</ul></div>
<div class="section level3">
<h3 id="key-backend-pattern">Key Backend Pattern<a class="anchor" aria-label="anchor" href="#key-backend-pattern"></a></h3>
<p>All analysis classes inherit from auto-generated base classes and use R6 class system:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">crosstableClass</span> <span class="op">&lt;-</span> <span class="fu">R6</span><span class="fu">::</span><span class="kw"><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6Class</a></span><span class="op">(</span></span>
<span>    <span class="st">"crosstableClass"</span>, </span>
<span>    inherit <span class="op">=</span> <span class="va">crosstableBase</span>,  <span class="co"># Auto-generated from .yaml files</span></span>
<span>    private <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        .init <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="va">...</span> <span class="op">}</span>,</span>
<span>        .run <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="va">...</span> <span class="op">}</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="main-functional-areas">Main Functional Areas<a class="anchor" aria-label="anchor" href="#main-functional-areas"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>ClinicoPath Descriptives</strong>: Summary statistics, Table One, cross tables, data checking</li>
<li>
<strong>ClinicoPath Survival</strong>: Survival analysis, Cox regression, Kaplan-Meier, competing risks</li>
<li>
<strong>meddecide</strong>: Medical decision analysis, ROC curves, sensitivity/specificity, diagnostic tests, decision trees with Markov chain modeling</li>
<li>
<strong>JJStatsPlot</strong>: Statistical plots using ggstatsplot wrappers</li>
<li>
<strong>Patient Follow-Up Plots</strong>: Swimmer plots, waterfall plots, treatment response visualization</li>
</ol></div>
<div class="section level3">
<h3 id="advanced-decision-analysis-architecture">Advanced Decision Analysis Architecture<a class="anchor" aria-label="anchor" href="#advanced-decision-analysis-architecture"></a></h3>
<p>The <code>decisiongraph</code> module supports both traditional decision trees and advanced Markov chain models:</p>
<p><strong>Decision Trees</strong>: One-time decisions with immediate outcomes</p>
<ul><li>Acute medical conditions (surgery vs. conservative treatment)</li>
<li>Emergency decisions with clear cost/utility trade-offs</li>
<li>Point-in-time cost-effectiveness analysis</li>
</ul><p><strong>Markov Chain Models</strong>: Long-term disease progression modeling</p>
<ul><li>Chronic disease management with multiple health states</li>
<li>Transition probability matrices for state changes over time</li>
<li>Cohort trace analysis with discounted cost-effectiveness calculations</li>
<li>Multi-cycle analysis for lifetime economic evaluations</li>
</ul><p>The module automatically handles different analysis types based on <code>treeType</code> option (<code>simple</code>, <code>costeffectiveness</code>, <code>markov</code>).</p>
</div>
</div>
<div class="section level2">
<h2 id="development-commands">Development Commands<a class="anchor" aria-label="anchor" href="#development-commands"></a></h2>
<div class="section level3">
<h3 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a></h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Run all tests</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::test()"</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co"># Run specific test file</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"testthat::test_file('tests/testthat/test-roc.R')"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="building-and-checking">Building and Checking<a class="anchor" aria-label="anchor" href="#building-and-checking"></a></h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Check package</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::check()"</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># Build package</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::build()"</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co"># Install development version</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::install()"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="jamovi-module-development">Jamovi Module Development<a class="anchor" aria-label="anchor" href="#jamovi-module-development"></a></h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Build jamovi module (.jmo file)</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co"># This requires jamovi development tools</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"jmvtools::prepare()"</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::document()"</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"jmvtools::install()"</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co"># Install module in jamovi for testing</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co"># Copy .jmo file to jamovi modules directory</span></span></code></pre></div>
<p><strong>IMPORTANT</strong>:</p>
<ul><li>Prepare a dataset and vignette for each function.
<ul><li>Make sure the data is comprehensive enough to test all arguments.</li>
<li>Vignette should be explanatory for the clinicians.</li>
</ul></li>
<li>After adding a new function, always ensure <code><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">jmvtools::prepare()</a></code> and <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code> run without errors to verify module compilation success</li>
<li>Before closing any GitHub issue, always ensure <code><a href="https://rdrr.io/pkg/jmvtools/man/prepare.html" class="external-link">jmvtools::prepare()</a></code> and <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code> run without errors to verify module compilation success.</li>
<li>When the implementation is finished successfully close the issue and move to the next one</li>
</ul></div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.serdarbalci.com/" class="external-link">Serdar Balci</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

